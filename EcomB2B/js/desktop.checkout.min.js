function use_other_credit_card(){$(".credit_cards_list").addClass("hide"),$(".credit_card_form").removeClass("hide"),$(".show_saved_cards_list").removeClass("hide")}function show_saved_cards(){$(".credit_cards_list").removeClass("hide"),$(".credit_card_form").addClass("hide"),$(".show_saved_cards_list").addClass("hide")}function use_this_credit_card(a){console.log(a),$(a).closest("fieldset").find(".row").addClass("hide"),$(a).closest("div.row").find(".delete_this_credit_card").addClass("hide"),$(a).closest("div.row").find(".cancel_use_this_card").removeClass("hide"),$(a).closest("div.row").find(".check_icon_saved_card").removeClass("fa-circle").addClass("fa-check-circle success"),$(".cvv_for_saved_card").addClass("invisible"),$(a).closest("div.row").removeClass("hide").find(".cvv_for_saved_card").removeClass("invisible")}function cancel_use_this_card(a){$(a).closest("div.row").find(".delete_this_credit_card").removeClass("hide"),$(a).closest("div.row").find(".cancel_use_this_card").addClass("hide"),$(".cvv_for_saved_card").addClass("invisible"),$(".check_icon_saved_card").addClass("fa-circle").removeClass("fa-check-circle success"),$(a).closest("fieldset").find(".row").removeClass("hide")}function place_order(a){var b=$(a);if(!b.hasClass("wait")){b.addClass("wait"),b.find("i").removeClass("fa-arrow-right").addClass("fa-spinner fa-spin");var c=$(a).data("settings"),d=new FormData;d.append("tipo",c.tipo),d.append("payment_account_key",c.payment_account_key),d.append("order_key",c.order_key),$.ajax({url:"/ar_web_checkout.php",type:"POST",data:d,dataType:"json",cache:!1,contentType:!1,processData:!1,complete:function(){},success:function(a){"200"==a.state?($(".ordered_products_number").html("0"),$(".order_total").html(""),window.location.replace("thanks.sys?order_key="+a.order_key)):"400"==a.state&&(b.removeClass("wait"),b.find("i").addClass("fa-arrow-right").removeClass("fa-spinner fa-spin"),swal("Error!",a.msg,"error"))},error:function(){}})}}!function(){function a(b,c){b instanceof a?(this.enc=b.enc,this.pos=b.pos):(this.enc=b,this.pos=c)}function b(a,b,c,d,e){this.stream=a,this.header=b,this.length=c,this.tag=d,this.sub=e}function c(a){var b,c,d="";for(b=0;b+3<=a.length;b+=3)c=parseInt(a.substring(b,b+3),16),d+=ba.charAt(c>>6)+ba.charAt(63&c);for(b+1==a.length?(c=parseInt(a.substring(b,b+1),16),d+=ba.charAt(c<<2)):b+2==a.length&&(c=parseInt(a.substring(b,b+2),16),d+=ba.charAt(c>>2)+ba.charAt((3&c)<<4));(3&d.length)>0;)d+=ca;return d}function d(a){var b,c,d,e="",f=0;for(b=0;b<a.length&&a.charAt(b)!=ca;++b)d=ba.indexOf(a.charAt(b)),0>d||(0==f?(e+=k(d>>2),c=3&d,f=1):1==f?(e+=k(c<<2|d>>4),c=15&d,f=2):2==f?(e+=k(c),e+=k(d>>2),c=3&d,f=3):(e+=k(c<<2|d>>4),e+=k(15&d),f=0));return 1==f&&(e+=k(c<<2)),e}function e(a){var b,c=d(a),e=new Array;for(b=0;2*b<c.length;++b)e[b]=parseInt(c.substring(2*b,2*b+2),16);return e}function f(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function g(){return new f(null)}function h(a,b,c,d,e,f){for(;--f>=0;){var g=b*this[a++]+c[d]+e;e=Math.floor(g/67108864),c[d++]=67108863&g}return e}function i(a,b,c,d,e,f){for(var g=32767&b,h=b>>15;--f>=0;){var i=32767&this[a],j=this[a++]>>15,k=h*i+j*g;i=g*i+((32767&k)<<15)+c[d]+(1073741823&e),e=(i>>>30)+(k>>>15)+h*j+(e>>>30),c[d++]=1073741823&i}return e}function j(a,b,c,d,e,f){for(var g=16383&b,h=b>>14;--f>=0;){var i=16383&this[a],j=this[a++]>>14,k=h*i+j*g;i=g*i+((16383&k)<<14)+c[d]+e,e=(i>>28)+(k>>14)+h*j,c[d++]=268435455&i}return e}function k(a){return ia.charAt(a)}function l(a,b){var c=ja[a.charCodeAt(b)];return null==c?-1:c}function m(a){for(var b=this.t-1;b>=0;--b)a[b]=this[b];a.t=this.t,a.s=this.s}function n(a){this.t=1,this.s=0>a?-1:0,a>0?this[0]=a:-1>a?this[0]=a+this.DV:this.t=0}function o(a){var b=g();return b.fromInt(a),b}function p(a,b){var c;if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else{if(4!=b)return void this.fromRadix(a,b);c=2}this.t=0,this.s=0;for(var d=a.length,e=!1,g=0;--d>=0;){var h=8==c?255&a[d]:l(a,d);0>h?"-"==a.charAt(d)&&(e=!0):(e=!1,0==g?this[this.t++]=h:g+c>this.DB?(this[this.t-1]|=(h&(1<<this.DB-g)-1)<<g,this[this.t++]=h>>this.DB-g):this[this.t-1]|=h<<g,g+=c,g>=this.DB&&(g-=this.DB))}8==c&&0!=(128&a[0])&&(this.s=-1,g>0&&(this[this.t-1]|=(1<<this.DB-g)-1<<g)),this.clamp(),e&&f.ZERO.subTo(this,this)}function q(){for(var a=this.s&this.DM;this.t>0&&this[this.t-1]==a;)--this.t}function r(a){if(this.s<0)return"-"+this.negate().toString(a);var b;if(16==a)b=4;else if(8==a)b=3;else if(2==a)b=1;else if(32==a)b=5;else{if(4!=a)return this.toRadix(a);b=2}var c,d=(1<<b)-1,e=!1,f="",g=this.t,h=this.DB-g*this.DB%b;if(g-- >0)for(h<this.DB&&(c=this[g]>>h)>0&&(e=!0,f=k(c));g>=0;)b>h?(c=(this[g]&(1<<h)-1)<<b-h,c|=this[--g]>>(h+=this.DB-b)):(c=this[g]>>(h-=b)&d,0>=h&&(h+=this.DB,--g)),c>0&&(e=!0),e&&(f+=k(c));return e?f:"0"}function s(){var a=g();return f.ZERO.subTo(this,a),a}function t(){return this.s<0?this.negate():this}function u(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;if(b=c-a.t,0!=b)return this.s<0?-b:b;for(;--c>=0;)if(0!=(b=this[c]-a[c]))return b;return 0}function v(a){var b,c=1;return 0!=(b=a>>>16)&&(a=b,c+=16),0!=(b=a>>8)&&(a=b,c+=8),0!=(b=a>>4)&&(a=b,c+=4),0!=(b=a>>2)&&(a=b,c+=2),0!=(b=a>>1)&&(a=b,c+=1),c}function w(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)}function x(a,b){var c;for(c=this.t-1;c>=0;--c)b[c+a]=this[c];for(c=a-1;c>=0;--c)b[c]=0;b.t=this.t+a,b.s=this.s}function y(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0),b.s=this.s}function z(a,b){var c,d=a%this.DB,e=this.DB-d,f=(1<<e)-1,g=Math.floor(a/this.DB),h=this.s<<d&this.DM;for(c=this.t-1;c>=0;--c)b[c+g+1]=this[c]>>e|h,h=(this[c]&f)<<d;for(c=g-1;c>=0;--c)b[c]=0;b[g]=h,b.t=this.t+g+1,b.s=this.s,b.clamp()}function A(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)return void(b.t=0);var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var g=c+1;g<this.t;++g)b[g-c-1]|=(this[g]&f)<<e,b[g-c]=this[g]>>d;d>0&&(b[this.t-c-1]|=(this.s&f)<<e),b.t=this.t-c,b.clamp()}function B(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);e>c;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0,-1>d?b[c++]=this.DV+d:d>0&&(b[c++]=d),b.t=c,b.clamp()}function C(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;--e>=0;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0,b.clamp(),this.s!=a.s&&f.ZERO.subTo(b,b)}function D(a){for(var b=this.abs(),c=a.t=2*b.t;--c>=0;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}a.t>0&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1)),a.s=0,a.clamp()}function E(a,b,c){var d=a.abs();if(!(d.t<=0)){var e=this.abs();if(e.t<d.t)return null!=b&&b.fromInt(0),void(null!=c&&this.copyTo(c));null==c&&(c=g());var h=g(),i=this.s,j=a.s,k=this.DB-v(d[d.t-1]);k>0?(d.lShiftTo(k,h),e.lShiftTo(k,c)):(d.copyTo(h),e.copyTo(c));var l=h.t,m=h[l-1];if(0!=m){var n=m*(1<<this.F1)+(l>1?h[l-2]>>this.F2:0),o=this.FV/n,p=(1<<this.F1)/n,q=1<<this.F2,r=c.t,s=r-l,t=null==b?g():b;for(h.dlShiftTo(s,t),c.compareTo(t)>=0&&(c[c.t++]=1,c.subTo(t,c)),f.ONE.dlShiftTo(l,t),t.subTo(h,h);h.t<l;)h[h.t++]=0;for(;--s>=0;){var u=c[--r]==m?this.DM:Math.floor(c[r]*o+(c[r-1]+q)*p);if((c[r]+=h.am(0,u,c,s,0,l))<u)for(h.dlShiftTo(s,t),c.subTo(t,c);c[r]<--u;)c.subTo(t,c)}null!=b&&(c.drShiftTo(l,b),i!=j&&f.ZERO.subTo(b,b)),c.t=l,c.clamp(),k>0&&c.rShiftTo(k,c),0>i&&f.ZERO.subTo(c,c)}}}function F(a){var b=g();return this.abs().divRemTo(a,null,b),this.s<0&&b.compareTo(f.ZERO)>0&&a.subTo(b,b),b}function G(a){this.m=a}function H(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function I(a){return a}function J(a){a.divRemTo(this.m,null,a)}function K(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function L(a,b){a.squareTo(b),this.reduce(b)}function M(){if(this.t<1)return 0;var a=this[0];if(0==(1&a))return 0;var b=3&a;return b=b*(2-(15&a)*b)&15,b=b*(2-(255&a)*b)&255,b=b*(2-((65535&a)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV,b>0?this.DV-b:-b}function N(a){this.m=a,this.mp=a.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function O(a){var b=g();return a.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),a.s<0&&b.compareTo(f.ZERO)>0&&this.m.subTo(b,b),b}function P(a){var b=g();return a.copyTo(b),this.reduce(b),b}function Q(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=32767&a[b],d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;for(c=b+this.m.t,a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function R(a,b){a.squareTo(b),this.reduce(b)}function S(a,b,c){a.multiplyTo(b,c),this.reduce(c)}function T(){return 0==(this.t>0?1&this[0]:this.s)}function U(a,b){if(a>4294967295||1>a)return f.ONE;var c=g(),d=g(),e=b.convert(this),h=v(a)-1;for(e.copyTo(c);--h>=0;)if(b.sqrTo(c,d),(a&1<<h)>0)b.mulTo(d,e,c);else{var i=c;c=d,d=i}return b.revert(c)}function V(a,b){var c;return c=256>a||b.isEven()?new G(b):new N(b),this.exp(a,c)}function W(a,b){return new f(a,b)}function X(a,b){if(b<a.length+11)throw new Error("Message too long for RSA");for(var c=new Array,d=a.length-1;d>=0&&b>0;){var e=a.charCodeAt(d--);128>e?c[--b]=e:e>127&&2048>e?(c[--b]=63&e|128,c[--b]=e>>6|192):(c[--b]=63&e|128,c[--b]=e>>6&63|128,c[--b]=e>>12|224)}c[--b]=0;for(var g=0,h=0,i=0;b>2;)0==i&&(h=ka.random.randomWords(1,0)[0]),g=h>>i&255,i=(i+8)%32,0!=g&&(c[--b]=g);return c[--b]=2,c[--b]=0,new f(c)}function Y(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Z(a,b){if(!(null!=a&&null!=b&&a.length>0&&b.length>0))throw new Error("Invalid RSA public key");this.n=W(a,16),this.e=parseInt(b,16)}function $(a){return a.modPowInt(this.e,this.n)}function _(a){var b=X(a,this.n.bitLength()+7>>3);if(null==b)return null;var c=this.doPublic(b);if(null==c)return null;var d=c.toString(16);return 0==(1&d.length)?d:"0"+d}a.prototype.get=function(a){if(void 0==a&&(a=this.pos++),a>=this.enc.length)throw"Requesting byte offset "+a+" on a stream of length "+this.enc.length;return this.enc[a]},a.prototype.hexDigits="0123456789ABCDEF",a.prototype.hexByte=function(a){return this.hexDigits.charAt(a>>4&15)+this.hexDigits.charAt(15&a)},a.prototype.hexDump=function(a,b){for(var c="",d=a;b>d;++d)switch(c+=this.hexByte(this.get(d)),15&d){case 7:c+="  ";break;case 15:c+="\n";break;default:c+=" "}return c},a.prototype.parseStringISO=function(a,b){for(var c="",d=a;b>d;++d)c+=String.fromCharCode(this.get(d));return c},a.prototype.parseStringUTF=function(a,b){for(var c="",d=0,e=a;b>e;){var d=this.get(e++);c+=String.fromCharCode(128>d?d:d>191&&224>d?(31&d)<<6|63&this.get(e++):(15&d)<<12|(63&this.get(e++))<<6|63&this.get(e++))}return c},a.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,a.prototype.parseTime=function(a,b){var c=this.parseStringISO(a,b),d=this.reTime.exec(c);return d?(c=d[1]+"-"+d[2]+"-"+d[3]+" "+d[4],d[5]&&(c+=":"+d[5],d[6]&&(c+=":"+d[6],d[7]&&(c+="."+d[7]))),d[8]&&(c+=" UTC","Z"!=d[8]&&(c+=d[8],d[9]&&(c+=":"+d[9]))),c):"Unrecognized time: "+c},a.prototype.parseInteger=function(a,b){var c=b-a;if(c>4){c<<=3;var d=this.get(a);if(0==d)c-=8;else for(;128>d;)d<<=1,--c;return"("+c+" bit)"}for(var e=0,f=a;b>f;++f)e=e<<8|this.get(f);return e},a.prototype.parseBitString=function(a,b){var c=this.get(a),d=(b-a-1<<3)-c,e="("+d+" bit)";if(20>=d){var f=c;e+=" ";for(var g=b-1;g>a;--g){for(var h=this.get(g),i=f;8>i;++i)e+=h>>i&1?"1":"0";f=0}}return e},a.prototype.parseOctetString=function(a,b){var c=b-a,d="("+c+" byte) ";c>20&&(b=a+20);for(var e=a;b>e;++e)d+=this.hexByte(this.get(e));return c>20&&(d+=String.fromCharCode(8230)),d},a.prototype.parseOID=function(a,b){for(var c,d=0,e=0,f=a;b>f;++f){var g=this.get(f);d=d<<7|127&g,e+=7,128&g||(void 0==c?c=parseInt(d/40)+"."+d%40:c+="."+(e>=31?"bigint":d),d=e=0),c+=String.fromCharCode()}return c},b.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var a=this.tag>>6,b=(this.tag>>5&1,31&this.tag);switch(a){case 0:switch(b){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+b.toString(16)}case 1:return"Application_"+b.toString(16);case 2:return"["+b+"]";case 3:return"Private_"+b.toString(16)}},b.prototype.content=function(){if(void 0==this.tag)return null;var a=this.tag>>6;if(0!=a)return null==this.sub?null:"("+this.sub.length+")";var b=31&this.tag,c=this.posContent(),d=Math.abs(this.length);switch(b){case 1:return 0==this.stream.get(c)?"false":"true";case 2:return this.stream.parseInteger(c,c+d);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(c,c+d);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(c,c+d);case 6:return this.stream.parseOID(c,c+d);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(c,c+d);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(c,c+d);case 23:case 24:return this.stream.parseTime(c,c+d)}return null},b.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},b.prototype.print=function(a){if(void 0==a&&(a=""),document.writeln(a+this),null!=this.sub){a+="  ";for(var b=0,c=this.sub.length;c>b;++b)this.sub[b].print(a)}},b.prototype.toPrettyString=function(a){void 0==a&&(a="");var b=a+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(b+="+"),b+=this.length,32&this.tag?b+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(b+=" (encapsulates)"),b+="\n",null!=this.sub){a+="  ";for(var c=0,d=this.sub.length;d>c;++c)b+=this.sub[c].toPrettyString(a)}return b},b.prototype.posStart=function(){return this.stream.pos},b.prototype.posContent=function(){return this.stream.pos+this.header},b.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},b.decodeLength=function(a){var b=a.get(),c=127&b;if(c==b)return c;if(c>3)throw"Length over 24 bits not supported at position "+(a.pos-1);if(0==c)return-1;b=0;for(var d=0;c>d;++d)b=b<<8|a.get();return b},b.hasContent=function(c,d,e){if(32&c)return!0;if(3>c||c>4)return!1;var f=new a(e);3==c&&f.get();var g=f.get();if(g>>6&1)return!1;try{var h=b.decodeLength(f);return f.pos-e.pos+h==d}catch(i){return!1}},b.decode=function(c){c instanceof a||(c=new a(c,0));var d=new a(c),e=c.get(),f=b.decodeLength(c),g=c.pos-d.pos,h=null;if(b.hasContent(e,f,c)){var i=c.pos;if(3==e&&c.get(),h=[],f>=0){for(var j=i+f;c.pos<j;)h[h.length]=b.decode(c);if(c.pos!=j)throw"Content size is not correct for container starting at offset "+i}else try{for(;;){var k=b.decode(c);if(0==k.tag)break;h[h.length]=k}f=i-c.pos}catch(l){throw"Exception while decoding undefined length content: "+l}}else c.pos+=f;return new b(d,g,f,e,h)};var aa,ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca="=",da=0xdeadbeefcafe,ea=15715070==(16777215&da);ea&&"Microsoft Internet Explorer"==navigator.appName?(f.prototype.am=i,aa=30):ea&&"Netscape"!=navigator.appName?(f.prototype.am=h,aa=26):(f.prototype.am=j,aa=28),f.prototype.DB=aa,f.prototype.DM=(1<<aa)-1,f.prototype.DV=1<<aa;var fa=52;f.prototype.FV=Math.pow(2,fa),f.prototype.F1=fa-aa,f.prototype.F2=2*aa-fa;var ga,ha,ia="0123456789abcdefghijklmnopqrstuvwxyz",ja=new Array;for(ga="0".charCodeAt(0),ha=0;9>=ha;++ha)ja[ga++]=ha;for(ga="a".charCodeAt(0),ha=10;36>ha;++ha)ja[ga++]=ha;for(ga="A".charCodeAt(0),ha=10;36>ha;++ha)ja[ga++]=ha;G.prototype.convert=H,G.prototype.revert=I,G.prototype.reduce=J,G.prototype.mulTo=K,G.prototype.sqrTo=L,N.prototype.convert=O,N.prototype.revert=P,N.prototype.reduce=Q,N.prototype.mulTo=S,N.prototype.sqrTo=R,f.prototype.copyTo=m,f.prototype.fromInt=n,f.prototype.fromString=p,f.prototype.clamp=q,f.prototype.dlShiftTo=x,f.prototype.drShiftTo=y,f.prototype.lShiftTo=z,f.prototype.rShiftTo=A,f.prototype.subTo=B,f.prototype.multiplyTo=C,f.prototype.squareTo=D,f.prototype.divRemTo=E,f.prototype.invDigit=M,f.prototype.isEven=T,f.prototype.exp=U,f.prototype.toString=r,f.prototype.negate=s,f.prototype.abs=t,f.prototype.compareTo=u,f.prototype.bitLength=w,f.prototype.mod=F,f.prototype.modPowInt=V,f.ZERO=o(0),f.ONE=o(1),Y.prototype.doPublic=$,Y.prototype.setPublic=Z,Y.prototype.encrypt=_;var ka={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};"undefined"!=typeof module&&module.exports&&(module.exports=ka),ka.cipher.aes=function(a){this._tables[0][0][0]||this._precompute();var b,c,d,e,f,g=this._tables[0][4],h=this._tables[1],i=a.length,j=1;if(4!==i&&6!==i&&8!==i)throw new ka.exception.invalid("invalid aes key size");for(this._key=[e=a.slice(0),f=[]],b=i;4*i+28>b;b++)d=e[b-1],(b%i===0||8===i&&b%i===4)&&(d=g[d>>>24]<<24^g[d>>16&255]<<16^g[d>>8&255]<<8^g[255&d],b%i===0&&(d=d<<8^d>>>24^j<<24,j=j<<1^283*(j>>7))),e[b]=e[b-i]^d;for(c=0;b;c++,b--)d=e[3&c?b:b-4],f[c]=4>=b||4>c?d:h[0][g[d>>>24]]^h[1][g[d>>16&255]]^h[2][g[d>>8&255]]^h[3][g[255&d]]},ka.cipher.aes.prototype={encrypt:function(a){return this._crypt(a,0)},decrypt:function(a){return this._crypt(a,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var a,b,c,d,e,f,g,h,i,j=this._tables[0],k=this._tables[1],l=j[4],m=k[4],n=[],o=[];for(a=0;256>a;a++)o[(n[a]=a<<1^283*(a>>7))^a]=a;for(b=c=0;!l[b];b^=d||1,c=o[c]||1)for(g=c^c<<1^c<<2^c<<3^c<<4,g=g>>8^255&g^99,l[b]=g,m[g]=b,f=n[e=n[d=n[b]]],i=16843009*f^65537*e^257*d^16843008*b,h=257*n[g]^16843008*g,a=0;4>a;a++)j[a][b]=h=h<<24^h>>>8,k[a][g]=i=i<<24^i>>>8;for(a=0;5>a;a++)j[a]=j[a].slice(0),k[a]=k[a].slice(0)},_crypt:function(a,b){if(4!==a.length)throw new ka.exception.invalid("invalid aes block size");var c,d,e,f,g=this._key[b],h=a[0]^g[0],i=a[b?3:1]^g[1],j=a[2]^g[2],k=a[b?1:3]^g[3],l=g.length/4-2,m=4,n=[0,0,0,0],o=this._tables[b],p=o[0],q=o[1],r=o[2],s=o[3],t=o[4];for(f=0;l>f;f++)c=p[h>>>24]^q[i>>16&255]^r[j>>8&255]^s[255&k]^g[m],d=p[i>>>24]^q[j>>16&255]^r[k>>8&255]^s[255&h]^g[m+1],e=p[j>>>24]^q[k>>16&255]^r[h>>8&255]^s[255&i]^g[m+2],k=p[k>>>24]^q[h>>16&255]^r[i>>8&255]^s[255&j]^g[m+3],m+=4,h=c,i=d,j=e;for(f=0;4>f;f++)n[b?3&-f:f]=t[h>>>24]<<24^t[i>>16&255]<<16^t[j>>8&255]<<8^t[255&k]^g[m++],c=h,h=i,i=j,j=k,k=c;return n}},ka.bitArray={bitSlice:function(a,b,c){return a=ka.bitArray._shiftRight(a.slice(b/32),32-(31&b)).slice(1),void 0===c?a:ka.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d,e=Math.floor(-b-c&31);return d=-32&(b+c-1^b)?a[b/32|0]<<32-e^a[b/32+1|0]>>>e:a[b/32|0]>>>e,d&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=ka.bitArray.getPartial(c);return 32===d?a.concat(b):ka.bitArray._shiftRight(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b,c=a.length;return 0===c?0:(b=a[c-1],32*(c-1)+ka.bitArray.getPartial(b))},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;return b=31&b,c>0&&b&&(a[c-1]=ka.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(ka.bitArray.bitLength(a)!==ka.bitArray.bitLength(b))return!1;var c,d=0;for(c=0;c<a.length;c++)d|=a[c]^b[c];return 0===d},_shiftRight:function(a,b,c,d){var e,f,g=0;for(void 0===d&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return g=a.length?a[a.length-1]:0,f=ka.bitArray.getPartial(g),d.push(ka.bitArray.partial(b+f&31,b+f>32?c:d.pop(),1)),d},_xor4:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},ka.codec.hex={fromBits:function(a){var b,c="";for(b=0;b<a.length;b++)c+=((0|a[b])+0xf00000000000).toString(16).substr(4);return c.substr(0,ka.bitArray.bitLength(a)/4)},toBits:function(a){var b,c,d=[];for(a=a.replace(/\s|0x/g,""),c=a.length,a+="00000000",b=0;b<a.length;b+=8)d.push(0^parseInt(a.substr(b,8),16));return ka.bitArray.clamp(d,4*c)}},ka.codec.utf8String={fromBits:function(a){var b,c,d="",e=ka.bitArray.bitLength(a);for(b=0;e/8>b;b++)0===(3&b)&&(c=a[b/4]),d+=String.fromCharCode(c>>>24),c<<=8;return decodeURIComponent(escape(d))},toBits:function(a){a=unescape(encodeURIComponent(a));var b,c=[],d=0;for(b=0;b<a.length;b++)d=d<<8|a.charCodeAt(b),3===(3&b)&&(c.push(d),d=0);return 3&b&&c.push(ka.bitArray.partial(8*(3&b),d)),c}},ka.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d,e="",f=0,g=ka.codec.base64._chars,h=0,i=ka.bitArray.bitLength(a);for(c&&(g=g.substr(0,62)+"-_"),d=0;6*e.length<i;)e+=g.charAt((h^a[d]>>>f)>>>26),6>f?(h=a[d]<<6-f,f+=26,d++):(h<<=6,f-=6);for(;3&e.length&&!b;)e+="=";return e},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c,d,e=[],f=0,g=ka.codec.base64._chars,h=0;for(b&&(g=g.substr(0,62)+"-_"),c=0;c<a.length;c++){if(d=g.indexOf(a.charAt(c)),0>d)throw new ka.exception.invalid("this isn't base64!");f>26?(f-=26,e.push(h^d>>>f),h=d<<32-f):(f+=6,h^=d<<32-f)}return 56&f&&e.push(ka.bitArray.partial(56&f,h,1)),e}},ka.codec.base64url={fromBits:function(a){return ka.codec.base64.fromBits(a,1,1)},toBits:function(a){return ka.codec.base64.toBits(a,1)}},void 0===ka.beware&&(ka.beware={}),ka.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){ka.mode.cbc={name:"cbc",encrypt:function(a,b,c,d){if(d&&d.length)throw new ka.exception.invalid("cbc can't authenticate data");if(128!==ka.bitArray.bitLength(c))throw new ka.exception.invalid("cbc iv must be 128 bits");var e,f=ka.bitArray,g=f._xor4,h=f.bitLength(b),i=0,j=[];if(7&h)throw new ka.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(e=0;h>=i+128;e+=4,i+=128)c=a.encrypt(g(c,b.slice(e,e+4))),j.splice(e,0,c[0],c[1],c[2],c[3]);return h=16843009*(16-(h>>3&15)),c=a.encrypt(g(c,f.concat(b,[h,h,h,h]).slice(e,e+4))),j.splice(e,0,c[0],c[1],c[2],c[3]),j},decrypt:function(a,b,c,d){if(d&&d.length)throw new ka.exception.invalid("cbc can't authenticate data");if(128!==ka.bitArray.bitLength(c))throw new ka.exception.invalid("cbc iv must be 128 bits");if(127&ka.bitArray.bitLength(b)||!b.length)throw new ka.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var e,f,g,h=ka.bitArray,i=h._xor4,j=[];for(d=d||[],e=0;e<b.length;e+=4)f=b.slice(e,e+4),g=i(c,a.decrypt(f)),j.splice(e,0,g[0],g[1],g[2],g[3]),c=f;if(f=255&j[e-1],0==f||f>16)throw new ka.exception.corrupt("pkcs#5 padding corrupt");if(g=16843009*f,!h.equal(h.bitSlice([g,g,g,g],0,8*f),h.bitSlice(j,32*j.length-8*f,32*j.length)))throw new ka.exception.corrupt("pkcs#5 padding corrupt");return h.bitSlice(j,0,32*j.length-8*f)}}},ka.misc.hmac=function(a,b){this._hash=b=b||ka.hash.sha256;var c,d=[[],[]],e=b.prototype.blockSize/32;for(this._baseHash=[new b,new b],a.length>e&&(a=b.hash(a)),c=0;e>c;c++)d[0][c]=909522486^a[c],d[1][c]=1549556828^a[c];this._baseHash[0].update(d[0]),this._baseHash[1].update(d[1])},ka.misc.hmac.prototype.encrypt=ka.misc.hmac.prototype.mac=function(a,b){var c=new this._hash(this._baseHash[0]).update(a,b).finalize();return new this._hash(this._baseHash[1]).update(c).finalize()},ka.hash.sha256=function(a){this._key[0]||this._precompute(),a?(this._h=a._h.slice(0),this._buffer=a._buffer.slice(0),this._length=a._length):this.reset()},ka.hash.sha256.hash=function(a){return(new ka.hash.sha256).update(a).finalize()},ka.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(a){"string"==typeof a&&(a=ka.codec.utf8String.toBits(a));var b,c=this._buffer=ka.bitArray.concat(this._buffer,a),d=this._length,e=this._length=d+ka.bitArray.bitLength(a);for(b=512+d&-512;e>=b;b+=512)this._block(c.splice(0,16));return this},finalize:function(){var a,b=this._buffer,c=this._h;for(b=ka.bitArray.concat(b,[ka.bitArray.partial(1,1)]),a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this._length/4294967296)),b.push(0|this._length);b.length;)this._block(b.splice(0,16));return this.reset(),c},_init:[],_key:[],_precompute:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var b,c=0,d=2;a:for(;64>c;d++){for(b=2;d>=b*b;b++)if(d%b===0)continue a;8>c&&(this._init[c]=a(Math.pow(d,.5))),this._key[c]=a(Math.pow(d,1/3)),c++}},_block:function(a){var b,c,d,e,f=a.slice(0),g=this._h,h=this._key,i=g[0],j=g[1],k=g[2],l=g[3],m=g[4],n=g[5],o=g[6],p=g[7];for(b=0;64>b;b++)16>b?c=f[b]:(d=f[b+1&15],e=f[b+14&15],c=f[15&b]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+f[15&b]+f[b+9&15]|0),c=c+p+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(o^m&(n^o))+h[b],p=o,o=n,n=m,m=l+c|0,l=k,k=j,j=i,i=c+(j&k^l&(j^k))+(j>>>2^j>>>13^j>>>22^j<<30^j<<19^j<<10)|0;g[0]=g[0]+i|0,g[1]=g[1]+j|0,g[2]=g[2]+k|0,g[3]=g[3]+l|0,g[4]=g[4]+m|0,g[5]=g[5]+n|0,g[6]=g[6]+o|0,g[7]=g[7]+p|0}},ka.random={randomWords:function(a,b){var c,d,e=[],f=this.isReady(b);if(f===this._NOT_READY)throw new ka.exception.notReady("generator isn't seeded");for(f&this._REQUIRES_RESEED&&this._reseedFromPools(!(f&this._READY)),c=0;a>c;c+=4)(c+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),d=this._gen4words(),e.push(d[0],d[1],d[2],d[3]);return this._gate(),e.slice(0,a)},setDefaultParanoia:function(a){this._defaultParanoia=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f,g=(new Date).valueOf(),h=this._robins[c],i=this.isReady(),j=0;switch(d=this._collectorIds[c],void 0===d&&(d=this._collectorIds[c]=this._collectorIdNext++),void 0===h&&(h=this._robins[c]=0),this._robins[c]=(this._robins[c]+1)%this._pools.length,typeof a){case"number":void 0===b&&(b=1),this._pools[h].update([d,this._eventId++,1,b,g,1,0|a]);break;case"object":var k=Object.prototype.toString.call(a);if("[object Uint32Array]"===k){for(f=[],e=0;e<a.length;e++)f.push(a[e]);a=f}else for("[object Array]"!==k&&(j=1),e=0;e<a.length&&!j;e++)"number"!=typeof a[e]&&(j=1);if(!j){if(void 0===b)for(b=0,e=0;e<a.length;e++)for(f=a[e];f>0;)b++,f>>>=1;this._pools[h].update([d,this._eventId++,2,b,g,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length),this._pools[h].update([d,this._eventId++,3,b,g,a.length]),this._pools[h].update(a);break;default:j=1}if(j)throw new ka.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[h]+=b,this._poolStrength+=b,i===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(a){var b=this._PARANOIA_LEVELS[void 0!==a?a:this._defaultParanoia];return this._strength&&this._strength>=b?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=b?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(a){var b=this._PARANOIA_LEVELS[a?a:this._defaultParanoia];return this._strength>=b?1:this._poolStrength>b?1:this._poolStrength/b},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new ka.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(a,b){this._callbacks[a][this._callbackI++]=b},removeEventListener:function(a,b){var c,d,e=this._callbacks[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},_pools:[new ka.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var a=0;4>a&&(this._counter[a]=this._counter[a]+1|0,!this._counter[a]);a++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new ka.cipher.aes(this._key)},_reseed:function(a){this._key=ka.hash.sha256.hash(this._key.concat(a)),this._cipher=new ka.cipher.aes(this._key);for(var b=0;4>b&&(this._counter[b]=this._counter[b]+1|0,!this._counter[b]);b++);},_reseedFromPools:function(a){var b,c=[],d=0;for(this._nextReseed=c[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,b=0;16>b;b++)c.push(4294967296*Math.random()|0);for(b=0;b<this._pools.length&&(c=c.concat(this._pools[b].finalize()),d+=this._poolEntropy[b],this._poolEntropy[b]=0,a||!(this._reseedCount&1<<b));b++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new ka.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=d,d>this._strength&&(this._strength=d),this._reseedCount++,this._reseed(c)},_mouseCollector:function(a){var b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0;ka.random.addEntropy([b,c],2,"mouse")},_loadTimeCollector:function(){ka.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(a,b){var c,d=ka.random._callbacks[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}},function(){try{var a=new Uint32Array(32);crypto.getRandomValues(a),ka.random.addEntropy(a,1024,"crypto.getRandomValues")}catch(b){}}(),function(){for(var a in ka.beware)ka.beware.hasOwnProperty(a)&&ka.beware[a]()}();var la={sjcl:ka,version:"1.3.10"};la.generateAesKey=function(){return{key:ka.random.randomWords(8,0),encrypt:function(a){return this.encryptWithIv(a,ka.random.randomWords(4,0))},encryptWithIv:function(a,b){var c=new ka.cipher.aes(this.key),d=ka.codec.utf8String.toBits(a),e=ka.mode.cbc.encrypt(c,d,b),f=ka.bitArray.concat(b,e);return ka.codec.base64.fromBits(f)}}},la.create=function(a){return new la.EncryptionClient(a)},la.EncryptionClient=function(a){var d=this,f=[];d.publicKey=a,d.version=la.version;var g=function(a,b){var c,d,e;c=document.createElement(a);for(d in b)b.hasOwnProperty(d)&&(e=b[d],c.setAttribute(d,e));return c},h=function(a){
return window.jQuery&&a instanceof jQuery?a[0]:a.nodeType&&1===a.nodeType?a:document.getElementById(a)},i=function(a){var b,c,d,e,f=[];if("INTEGER"===a.typeName()&&(b=a.posContent(),c=a.posEnd(),d=a.stream.hexDump(b,c).replace(/[ \n]/g,""),f.push(d)),null!==a.sub)for(e=0;e<a.sub.length;e++)f=f.concat(i(a.sub[e]));return f},j=function(a){var b,c,d=[],e=a.children;for(c=0;c<e.length;c++)b=e[c],1===b.nodeType&&b.attributes["data-encrypted-name"]?d.push(b):b.children&&b.children.length>0&&(d=d.concat(j(b)));return d},k=function(){var c,d,f,g,h,j;try{h=e(a),c=b.decode(h)}catch(k){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(f=i(c),2!==f.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return g=f[0],d=f[1],j=new Y,j.setPublic(g,d),j},l=function(){return{key:ka.random.randomWords(8,0),sign:function(a){var b=new ka.misc.hmac(this.key,ka.hash.sha256),c=b.encrypt(a);return ka.codec.base64.fromBits(c)}}};d.encrypt=function(a){var b=k(),e=la.generateAesKey(),f=l(),g=e.encrypt(a),h=f.sign(ka.codec.base64.toBits(g)),i=ka.bitArray.concat(e.key,f.key),j=ka.codec.base64.fromBits(i),m=b.encrypt(j),n="$bt4|javascript_"+d.version.replace(/\./g,"_")+"$",o=null;return m&&(o=c(m)),n+o+"$"+g+"$"+h},d.encryptForm=function(a){var b,c,e,i,k,l;for(a=h(a),l=j(a);f.length>0;){try{a.removeChild(f[0])}catch(m){}f.splice(0,1)}for(k=0;k<l.length;k++)b=l[k],e=b.getAttribute("data-encrypted-name"),c=d.encrypt(b.value),b.removeAttribute("name"),i=g("input",{value:c,type:"hidden",name:e}),f.push(i),a.appendChild(i)},d.onSubmitEncryptForm=function(a,b){var c;a=h(a),c=function(c){return d.encryptForm(a),b?b(c):c},window.jQuery?window.jQuery(a).submit(c):a.addEventListener?a.addEventListener("submit",c,!1):a.attachEvent&&a.attachEvent("onsubmit",c)},d.formEncrypter={encryptForm:d.encryptForm,extractForm:h,onSubmitEncryptForm:d.onSubmitEncryptForm},ka.random.startCollectors()},window.Braintree=la}(),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.braintree=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(c){"use strict";function d(){}function e(a){if("CONFIGURATION"===a.type||"IMMEDIATE"===a.type)throw new Error(a.message);try{console.error(JSON.stringify(a))}catch(b){}}function f(a,b,d){var e;if(!(b in m))throw new Error(b+" is an unsupported integration");l.isFunction(d[o.ROOT_SUCCESS_CALLBACK])&&(s=function(a){d[o.ROOT_SUCCESS_CALLBACK](q(a))}),l.isFunction(d[o.ROOT_ERROR_CALLBACK])&&(u=d[o.ROOT_ERROR_CALLBACK]),l.isFunction(d[o.ROOT_READY_CALLBACK])&&(t=d[o.ROOT_READY_CALLBACK]),p(t),n.on(n.events.ERROR,u),n.on(n.events.PAYMENT_METHOD_RECEIVED,s),n.on(n.events.WARNING,function(a){try{console.warn(a)}catch(b){}}),e={clientToken:a,integrationType:b,merchantConfiguration:d,analyticsConfiguration:{sdkVersion:"braintree/web"+g,merchantAppId:c.location.host}},h._getConfiguration(e,function(a,c){return a?void n.emit(n.events.ERROR,{message:a.errors}):(e.gatewayConfiguration=c,r(e),n.on(n.events.CONFIGURATION_REQUEST,function(a){a({enableCORS:e.merchantConfiguration.enableCORS,configuration:e.gatewayConfiguration,integration:e.integrationType,analyticsConfiguration:e.analyticsConfiguration})}),n.emit(n.events.ASYNC_DEPENDENCY_INITIALIZING),m[b].initialize(e),void n.emit(n.events.ASYNC_DEPENDENCY_READY))})}var g="2.11.2",h=a("braintree-api"),i=a("braintree-paypal"),j=a("braintree-dropin"),k=a("braintree-form"),l=a("braintree-utilities"),m=a("./integrations"),n=a("braintree-bus"),o=a("./constants"),p=a("./lib/dependency-ready"),q=a("./lib/sanitize-payload"),r=a("./lib/analytics-sender").listenForAnalytics,s=d,t=d,u=e;b.exports={api:h,cse:c.Braintree,paypal:i,dropin:j,Form:k,setup:f,VERSION:g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./constants":358,"./integrations":362,"./lib/analytics-sender":364,"./lib/dependency-ready":365,"./lib/sanitize-payload":366,"braintree-api":21,"braintree-bus":50,"braintree-dropin":246,"braintree-form":256,"braintree-paypal":324,"braintree-utilities":344}],2:[function(a,b){(function(c){"use strict";function d(a){var b=a.analyticsConfiguration||{},d=c.braintree?c.braintree.VERSION:null,e=d?"braintree/web/"+d:"";return{sdkVersion:b.sdkVersion||e,merchantAppId:b.merchantAppId||c.location.host}}function e(a){var b,c,e;this.attrs={},a.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=a.sharedCustomerIdentifier),b=h(a.clientToken),e=d(a),this.driver=a.driver||p({enableCORS:q(a)}),this.analyticsUrl=b.analytics?b.analytics.url:void 0,this.clientApiUrl=b.clientApiUrl,this.customerId=a.customerId,this.challenges=b.challenges,this.integration=a.integration||"",this.sdkVersion=e.sdkVersion,this.merchantAppId=e.merchantAppId,c=g.create(this,{container:a.container,clientToken:b}),this.verify3DS=f.bind(c.verify,c),this.attrs.authorizationFingerprint=b.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=a.sharedCustomerIdentifierType,b.merchantAccountId&&(this.attrs.merchantAccountId=b.merchantAccountId),this.requestTimeout=a.hasOwnProperty("timeout")?a.timeout:6e4}var f=a("braintree-utilities"),g=a("braintree-3ds"),h=a("./parse-client-token"),i=a("./util"),j=a("./sepa-mandate"),k=a("./europe-bank-account"),l=a("./credit-card"),m=a("./coinbase-account"),n=a("./paypal-account"),o=a("./normalize-api-fields").normalizeCreditCardFields,p=a("./request/choose-driver"),q=a("./should-enable-cors");e.prototype.getCreditCards=function(a){this.driver.get(i.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(a){var b=0,c=a.paymentMethods.length,d=[];for(b;c>b;b++)d.push(new l(a.paymentMethods[b]));return d},a,this.requestTimeout)},e.prototype.tokenizeCoinbase=function(a,b){a.options={validate:!1},this.addCoinbase(a,function(a,c){a?b(a,null):c&&c.nonce?b(a,c):b("Unable to tokenize coinbase account.",null)})},e.prototype.tokenizePayPalAccount=function(a,b){a.options={validate:!1},this.addPayPalAccount(a,function(a,c){a?b(a,null):c&&c.nonce?b(null,c):b("Unable to tokenize paypal account.",null)})},e.prototype.tokenizeCard=function(a,b){a.options={validate:!1},this.addCreditCard(a,function(a,c){c&&c.nonce?b(a,c.nonce,{type:c.type,details:c.details}):b("Unable to tokenize card.",null)})},e.prototype.lookup3DS=function(a,b){var c=i.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",a.nonce,"three_d_secure/lookup"]),d=i.mergeOptions(this.attrs,{amount:a.amount});this.driver.post(c,d,function(a){return a},b,this.requestTimeout)},e.prototype.createSEPAMandate=function(a,b){var c=i.mergeOptions(this.attrs,{sepaMandate:a});this.driver.post(i.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),c,function(a){return{sepaMandate:new j(a.europeBankAccounts[0].sepaMandates[0]),sepaBankAccount:new k(a.europeBankAccounts[0])}},b,this.requestTimeout)},e.prototype.getSEPAMandate=function(a,b){var c=i.mergeOptions(this.attrs,a);this.driver.get(i.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),c,function(a){return{sepaMandate:new j(a.sepaMandates[0])}},b,this.requestTimeout)},e.prototype.addCoinbase=function(a,b){var c;delete a.share,c=i.mergeOptions(this.attrs,{coinbaseAccount:a,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.driver.post(i.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),c,function(a){return new m(a.coinbaseAccounts[0])},b,this.requestTimeout)},e.prototype.addPayPalAccount=function(a,b){var c;delete a.share,c=i.mergeOptions(this.attrs,{paypalAccount:a,_meta:{integration:this.integration||"paypal",source:"paypal"}}),this.driver.post(i.joinUrlFragments([this.clientApiUrl,"v1","payment_methods","paypal_accounts"]),c,function(a){return new n(a.paypalAccounts[0])},b,this.requestTimeout)},e.prototype.addCreditCard=function(a,b){var c,d,e=a.share;delete a.share,d=o(a),c=i.mergeOptions(this.attrs,{share:e,creditCard:d,_meta:{integration:this.integration||"custom",source:"form"}}),this.driver.post(i.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),c,function(a){return new l(a.creditCards[0])},b,this.requestTimeout)},e.prototype.sendAnalyticsEvents=function(a,b){var d,e,f=this.analyticsUrl,g=[];if(a=i.isArray(a)?a:[a],!f)return void(b&&b.apply(null,[null,{}]));for(e in a)a.hasOwnProperty(e)&&g.push({kind:a[e]});d=i.mergeOptions(this.attrs,{braintree_library_version:this.sdkVersion,analytics:g,_meta:{merchantAppId:this.merchantAppId,platform:"web",platformVersion:c.navigator.userAgent,integrationType:this.integration,sdkVersion:this.sdkVersion}}),this.driver.post(f,d,function(a){return a},b,this.requestTimeout)},e.prototype.decryptBrowserswitchPayload=function(a,b){var c=i.mergeOptions(this.attrs,{asymmetric_encrypted_payload:a}),d=i.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/decrypt"]);this.driver.post(d,c,function(a){return a},b,this.requestTimeout)},e.prototype.encryptBrowserswitchReturnPayload=function(a,b,c){var d=i.mergeOptions(this.attrs,{payload:a,aesKey:b}),e=i.joinUrlFragments([this.clientApiUrl,"/v1/paypal_browser_switch/encrypt"]);this.driver.post(e,d,function(a){return a},c,this.requestTimeout)},e.prototype.exchangePaypalTokenForConsentCode=function(a,b){var c=i.mergeOptions(this.attrs,a);this.attrs.merchantAccountId&&(c.merchant_account_id=this.attrs.merchantAccountId);var d=i.joinUrlFragments([this.clientApiUrl,"/v1/paypal_account_service/merchant_consent"]);this.driver.post(d,c,function(a){return a},b,this.requestTimeout)},b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":3,"./credit-card":5,"./europe-bank-account":6,"./normalize-api-fields":8,"./parse-client-token":9,"./paypal-account":10,"./request/choose-driver":13,"./sepa-mandate":18,"./should-enable-cors":19,"./util":20,"braintree-3ds":29,"braintree-utilities":41}],3:[function(a,b){"use strict";function c(a){var b,c;for(b=0;b<d.length;b++)c=d[b],this[c]=a[c]}var d=["nonce","type","description","details"];b.exports=c},{}],4:[function(a,b){b.exports={errors:{UNKNOWN_ERROR:"Unknown error",INVALID_TIMEOUT:"Timeout must be a number"}}},{}],5:[function(a,b){"use strict";function c(a){var b,c;for(b=0;b<d.length;b++)c=d[b],this[c]=a[c]}var d=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];b.exports=c},{}],6:[function(a,b){"use strict";function c(a){var b,c=["bic","maskedIBAN","nonce","accountHolderName"],d=0;for(d=0;d<c.length;d++)b=c[d],this[b]=a[b]}b.exports=c},{}],7:[function(a,b){"use strict";function c(a,b){var c=d(a.clientToken),h={authorizationFingerprint:c.authorizationFingerprint},i=f({enableCORS:g(a)});i.get(c.configUrl,h,function(a){return e.mergeOptions(c,a)},b,a.timeout)}var d=a("./parse-client-token"),e=a("./util"),f=a("./request/choose-driver"),g=a("./should-enable-cors");b.exports=c},{"./parse-client-token":9,"./request/choose-driver":13,"./should-enable-cors":19,"./util":20}],8:[function(a,b){"use strict";function c(a){var b,c={billingAddress:a.billingAddress||{}};for(b in a)if(a.hasOwnProperty(b))switch(b.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":c.billingAddress[b]=a[b];break;default:c[b]=a[b]}return c}b.exports={normalizeCreditCardFields:c}},{}],9:[function(a,b){"use strict";function c(a){var b;if(!a)throw new Error("Braintree API Client Misconfigured: clientToken required.");if("object"==typeof a&&null!==a)b=a;else{try{a=window.atob(a)}catch(c){}try{b=JSON.parse(a)}catch(e){throw new Error("Braintree API Client Misconfigured: clientToken is not valid JSON.")}}if(!b.hasOwnProperty("clientApiUrl")||!d.isWhitelistedDomain(b.clientApiUrl))throw new Error("Braintree API Client Misconfigured: the clientApiUrl provided in the clientToken is invalid.");return b}var d=a("braintree-utilities");a("./polyfill"),b.exports=c},{"./polyfill":11,"braintree-utilities":41}],10:[function(a,b){"use strict";function c(a){var b,c;for(b=0;b<d.length;b++)c=d[b],this[c]=a[c]}var d=["nonce","type","description","details"];b.exports=c},{}],11:[function(a,b){(function(a){"use strict";var c=function(a){var b=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="";if(!b.test(a))throw new Error("Non base64 encoded input passed to window.atob polyfill");var e=0;do{var f=c.indexOf(a.charAt(e++)),g=c.indexOf(a.charAt(e++)),h=c.indexOf(a.charAt(e++)),i=c.indexOf(a.charAt(e++)),j=(63&f)<<2|g>>4&3,k=(15&g)<<4|h>>2&15,l=(3&h)<<6|63&i;d+=String.fromCharCode(j)+(k?String.fromCharCode(k):"")+(l?String.fromCharCode(l):"")}while(e<a.length);return d};a.atob=a.atob||c,b.exports={atobPolyfill:c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(a,b){(function(c){"use strict";function d(){return l?new XMLHttpRequest:new XDomainRequest}function e(a,b,c,d,e){var f=h.createURLParams(a,b);g("GET",f,null,c,d,e)}function f(a,b,c,d,e){g("POST",a,b,c,d,e)}function g(a,b,c,e,f,g){var h,m,n=d();f=f||function(){},l?n.onreadystatechange=function(){4===n.readyState&&(h=n.status,m=j(n.responseText),h>=400||0===h?f.call(null,m||{errors:k.errors.UNKNOWN_ERROR},null):h>0&&f.call(null,null,e(m)))}:(n.onload=function(){f.call(null,null,e(j(n.responseText)))},n.onerror=function(){f.call(null,n.responseText,null)},n.onprogress=function(){},n.ontimeout=function(){f.call(null,{errors:k.errors.UNKNOWN_ERROR},null)}),n.open(a,b,!0),n.timeout=null==g?6e4:g,l&&"POST"===a&&n.setRequestHeader("Content-Type","application/json"),setTimeout(function(){n.send(i(a,c))},0)}var h=a("../util"),i=a("./prep-body"),j=a("./parse-body"),k=a("../constants"),l=c.XMLHttpRequest&&"withCredentials"in new c.XMLHttpRequest;b.exports={get:e,post:f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":4,"../util":20,"./parse-body":16,"./prep-body":17}],13:[function(a,b){"use strict";function c(a){var b=f.getUserAgent(),c=!(f.isHTTP()&&/(MSIE\s(8|9))|(Phantom)/.test(b));return a=a||{},a.enableCORS&&c?e:d}var d=a("./jsonp-driver"),e=a("./ajax-driver"),f=a("../util");b.exports=c},{"../util":20,"./ajax-driver":12,"./jsonp-driver":14}],14:[function(a,b){"use strict";function c(a,b){return a.status>=400?[a,null]:[null,b(a)]}function d(){}function e(a,b,e,f,g,h){var k;g=g||d,null==h&&(h=6e4),k=f(a,b,function(a,b){j[b]&&(clearTimeout(j[b]),g.apply(null,c(a,function(a){return e(a)})))}),"number"==typeof h?j[k]=setTimeout(function(){j[k]=null,g.apply(null,[{errors:i.errors.UNKNOWN_ERROR},null])},h):g.apply(null,[{errors:i.errors.INVALID_TIMEOUT},null])}function f(a,b,c,d,f){b._method="POST",e(a,b,c,h.get,d,f)}function g(a,b,c,d,f){e(a,b,c,h.get,d,f)}var h=a("./jsonp"),i=a("../constants"),j=[];b.exports={get:g,post:f}},{"../constants":4,"./jsonp":15}],15:[function(a,b){(function(c){"use strict";function d(a,b){var c=document.createElement("script"),d=!1;c.src=a,c.async=!0;var e=b||j.error;"function"==typeof e&&(c.onerror=function(b){e({url:a,event:b})}),c.onload=c.onreadystatechange=function(){d||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(d=!0,c.onload=c.onreadystatechange=null,c&&c.parentNode&&c.parentNode.removeChild(c))},g||(g=document.getElementsByTagName("head")[0]),g.appendChild(c)}function e(a,b,c,e){var f,g;return e=e||j.callbackName||"callback",g=e+"_json"+h.generateUUID(),b[e]=g,f=h.createURLParams(a,b),i[g]=function(a){c(a,g);try{delete i[g]}catch(b){}i[g]=null},d(f),g}function f(a){j=a}var g,h=a("../util"),i=c,j={};b.exports={get:e,init:f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util":20}],16:[function(a,b){"use strict";b.exports=function(a){try{a=JSON.parse(a)}catch(b){}return a}},{}],17:[function(a,b){"use strict";var c=a("lodash.isstring");b.exports=function(a,b){if(!c(a))throw new Error("Method must be a string");return"get"!==a.toLowerCase()&&null!=b&&(b=c(b)?b:JSON.stringify(b)),b}},{"lodash.isstring":49}],18:[function(a,b){"use strict";function c(a){var b,c=0,d=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];for(c=0;c<d.length;c++)b=d[c],this[b]=a[b]}b.exports=c},{}],19:[function(a,b){"use strict";b.exports=function(a){return null!=a.enableCORS?a.enableCORS:a.merchantConfiguration?a.merchantConfiguration.enableCORS:!1}},{}],20:[function(a,b){(function(c){"use strict";function d(a){var b,c,d=[];for(c=0;c<a.length;c++)b=a[c],"/"===b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),"/"===b.charAt(0)&&(b=b.substring(1)),d.push(b);return d.join("/")}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)||!1}function f(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.floor(16*Math.random()),c="x"===a?b:3&b|8;return c.toString(16)})}function g(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function h(a,b){var c,d,f,g=[];for(f in a)a.hasOwnProperty(f)&&(d=a[f],c=b?e(a)?b+"[]":b+"["+f+"]":f,g.push("object"==typeof d?h(d,c):encodeURIComponent(c)+"="+encodeURIComponent(d)));return g.join("&")}function i(a,b){return a=a||"",!l(b)&&m(b)&&(a+=-1===a.indexOf("?")?"?":"",a+=-1!==a.indexOf("=")?"&":"",a+=h(b)),a}function j(){return c.navigator.userAgent}function k(){return"http:"===c.location.protocol}var l=a("lodash.isempty"),m=a("lodash.isobject");b.exports={joinUrlFragments:d,isArray:e,generateUUID:f,mergeOptions:g,stringify:h,createURLParams:i,getUserAgent:j,isHTTP:k}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash.isempty":42,"lodash.isobject":48}],21:[function(a,b){"use strict";function c(a){return new d(a)}var d=a("./lib/client"),e=a("./lib/util"),f=a("./lib/parse-client-token"),g=a("./lib/get-configuration");b.exports={Client:d,configure:c,util:e,parseClientToken:f,_getConfiguration:g}},{"./lib/client":2,"./lib/get-configuration":7,"./lib/parse-client-token":9,"./lib/util":20}],22:[function(a,b){"use strict";function c(a,b){if(b=b||"["+a+"] is not a valid DOM Element",a&&a.nodeType&&1===a.nodeType)return a;if(a&&window.jQuery&&(a instanceof jQuery||"jquery"in Object(a))&&0!==a.length)return a[0];if("string"==typeof a&&document.getElementById(a))return document.getElementById(a);throw new Error(b)}b.exports={normalizeElement:c}},{}],23:[function(a,b){"use strict";function c(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)}b.exports={addEventListener:c,removeEventListener:d}},{}],24:[function(a,b){"use strict";function c(a){return"[object Function]"===e.call(a)}function d(a,b){return function(){a.apply(b,arguments)}}var e=Object.prototype.toString;b.exports={bind:d,isFunction:c}},{}],25:[function(a,b){"use strict";function c(){return"https:"===window.location.protocol}function d(a){switch(a){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(a)}}function e(a,b){var c,f,g=[];for(f in a)if(a.hasOwnProperty(f)){var h=a[f];c=b?b+"["+f+"]":f,"object"==typeof h?g.push(e(h,c)):void 0!==h&&null!==h&&g.push(d(c)+"="+d(h))}return g.join("&")}function f(a){for(var b={},c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("="),f=e[0],g=decodeURIComponent(e[1]);b[f]=g}return b}function g(a){var b=a.split("?");return 2!==b.length?{}:f(b[1])}b.exports={isBrowserHttps:c,makeQueryString:e,decodeQueryString:f,getParams:g}},{}],26:[function(a,b){var c=a("./lib/dom"),d=a("./lib/url"),e=a("./lib/fn"),f=a("./lib/events");b.exports={normalizeElement:c.normalizeElement,isBrowserHttps:d.isBrowserHttps,makeQueryString:d.makeQueryString,decodeQueryString:d.decodeQueryString,getParams:d.getParams,removeEventListener:f.removeEventListener,addEventListener:f.addEventListener,bind:e.bind,isFunction:e.isFunction}},{"./lib/dom":22,"./lib/events":23,"./lib/fn":24,"./lib/url":25}],27:[function(a,b){"use strict";function c(a,b){var c=window.getComputedStyle?getComputedStyle(a):a.currentStyle;return c[b]}function d(){return{html:{height:f.style.height||"",overflow:c(f,"overflow"),position:c(f,"position")},body:{height:g.style.height||"",overflow:c(g,"overflow")}}}function e(a,b){this.assetsUrl=a,this.container=b||document.body,this.iframe=null,f=document.documentElement,g=document.body,this.merchantPageDefaultStyles=d()}var f,g,h=a("braintree-utilities"),i=a("../shared/receiver"),j="1.3.0";e.prototype.get=function(a,b){var c=this,d=this.constructAuthorizationURL(a);this.container&&h.isFunction(this.container)?this.container(d+"&no_style=1"):this.insertIframe(d),new i(function(a){h.isFunction(c.container)||c.removeIframe(),b(a)})},e.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},e.prototype.insertIframe=function(a){var b=document.createElement("iframe");if(b.src=a,this.applyStyles(b),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(b);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(b);else{if("string"!=typeof this.container||!document.getElementById(this.container))throw new Error("Unable to find valid container for iframe.");document.getElementById(this.container).appendChild(b)}this.iframe=b},e.prototype.applyStyles=function(a){a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%",a.setAttribute("frameborder","0"),a.setAttribute("allowTransparency","true"),a.style.border="0",a.style.zIndex="99999"},e.prototype.lockMerchantWindowSize=function(){f.style.overflow="hidden",g.style.overflow="hidden",g.style.height="100%"},e.prototype.unlockMerchantWindowSize=function(){var a=this.merchantPageDefaultStyles;g.style.height=a.body.height,g.style.overflow=a.body.overflow,f.style.overflow=a.html.overflow},e.prototype.constructAuthorizationURL=function(a){var b,c=window.location.href;return c.indexOf("#")>-1&&(c=c.split("#")[0]),b=h.makeQueryString({acsUrl:a.acsUrl,pareq:a.pareq,termUrl:a.termUrl+"&three_d_secure_version="+j,md:a.md,parentUrl:c}),this.assetsUrl+"/3ds/"+j+"/html/style_frame?"+b},b.exports=e},{"../shared/receiver":34,"braintree-utilities":26}],28:[function(a,b){"use strict";function c(){}function d(a,b){b=b||{},this.clientToken=b.clientToken,this.container=b.container,this.api=a,this.nonce=null,this._loader=null,this._boundHandleUserClose=e.bind(this._handleUserClose,this)}var e=a("braintree-utilities"),f=a("./authorization_service"),g=a("./loader");d.prototype.verify=function(a,b){if(!e.isFunction(b))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");e.isFunction(a.onUserClose)&&(this._onUserClose=a.onUserClose),e.isFunction(a.onLookupComplete)&&(this._onLookupComplete=a.onLookupComplete),(void 0===a.useDefaultLoader||a.useDefaultLoader===!0)&&this._createDefaultLoader();var c={nonce:"",amount:a.amount},d=a.creditCard;if("string"==typeof d)c.nonce=d,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(c,b);else{var f=this,g=function(a,d){return a?(f._removeDefaultLoader(),b(a)):(c.nonce=d,void f.startVerification(c,b))};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(d,g)}},d.prototype.startVerification=function(a,b){this.api.lookup3DS(a,e.bind(this.handleLookupResponse(b),this))},d.prototype.handleLookupResponse=function(a){var b=this;return function(c,d){var g;this._onLookupComplete(),c?a(c.error):d.lookup&&d.lookup.acsUrl&&d.lookup.acsUrl.length>0?(b.nonce=d.paymentMethod.nonce,g=new f(this.clientToken.assetsUrl,this.container),g.get(d.lookup,e.bind(this.handleAuthenticationResponse(a),this)),this._detachListeners(),this._attachListeners()):(b.nonce=d.paymentMethod.nonce,a(null,{nonce:b.nonce,verificationDetails:d.threeDSecureInfo}))}},d.prototype.handleAuthenticationResponse=function(a){return function(b){var c,d=e.decodeQueryString(b);d.user_closed||(c=JSON.parse(d.auth_response),c.success?a(null,{nonce:c.paymentMethod.nonce,verificationDetails:c.threeDSecureInfo}):c.threeDSecureInfo&&c.threeDSecureInfo.liabilityShiftPossible?a(null,{nonce:this.nonce,verificationDetails:c.threeDSecureInfo}):a(c.error))}},d.prototype._attachListeners=function(){e.addEventListener(window,"message",this._boundHandleUserClose)},d.prototype._detachListeners=function(){e.removeEventListener(window,"message",this._boundHandleUserClose)},d.prototype._createDefaultLoader=function(){this._loader=new g,document.body.appendChild(this._loader.getElement())},d.prototype._removeDefaultLoader=function(){if(this._loader){var a=this._loader.getElement(),b=a.parentNode;b&&b.removeChild(a),this._loader.dispose(),this._loader=null}},d.prototype._handleUserClose=function(a){"user_closed=true"===a.data&&this._onUserClose()},d.prototype._onUserClose=c,d.prototype._onLookupComplete=function(){this._removeDefaultLoader()},b.exports=d},{"./authorization_service":27,"./loader":30,"braintree-utilities":26}],29:[function(a,b){"use strict";var c=a("./client");b.exports={create:function(a,b){var d=new c(a,b);return d}}},{"./client":28}],30:[function(a,b){"use strict";function c(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._display=null,this._initialize()}var d=a("./loader_display"),e=a("./loader_message"),f=a("./loader_spinner");c.prototype._cssDeclarations=["filter:progid:DXImageTransform.Microsoft.Gradient(StartColorStr=#7F000000, EndColorStr=#7F000000)","background-color: rgba(0, 0, 0, 0.5)","display: table","height: 100%","left: 0","position: fixed","right: 0","top: 0","width: 100%","z-index: 99999"].join(";"),c.prototype.getElement=function(){return this._element},c.prototype.dispose=function(){this._display.dispose(),this._display=null,this._element=null},c.prototype._initialize=function(){var a=new f,b=window.SVGElement&&window.SVGAnimateElement&&window.SVGAnimateTransformElement;b||(a=new e("Loading...")),this._display=new d(a),this.getElement().appendChild(this._display.getElement())},b.exports=c},{"./loader_display":31,"./loader_message":32,"./loader_spinner":33}],31:[function(a,b){"use strict";function c(a){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._displayObject=a,this._initialize()}c.prototype._cssDeclarations=["display: table-cell","vertical-align: middle"].join(";"),c.prototype.getElement=function(){return this._element},c.prototype.dispose=function(){this._displayObject.dispose(),this._displayObject=null,this._element=null},c.prototype._initialize=function(){this.getElement().appendChild(this._displayObject.getElement())},b.exports=c},{}],32:[function(a,b){"use strict";function c(a){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=a}c.prototype._cssDeclarations=["color: #fff","font-family: Helvetica, sans-serif","font-size: 12px","text-align: center"].join(";"),c.prototype.getElement=function(){return this._element},c.prototype.dispose=function(){this._element=null},b.exports=c},{}],33:[function(a,b){"use strict";function c(){this._element=document.createElement("div"),this._element.style.cssText=this._cssDeclarations,this._element.innerHTML=this._markup}c.prototype._cssDeclarations=["height: 36px","margin-left: auto","margin-right: auto","width: 36px"].join(";"),c.prototype._markup=['<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"','width="100%" height="100%" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">','  <path fill="#FFF" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">','    <animateTransform attributeType="xml"','    attributeName="transform"','    type="rotate"','    from="0 25 25"','    to="360 25 25"','    dur="780ms"','    repeatCount="indefinite"','    calcMode="spline"','    keySplines="0.44, 0.22, 0, 1"','    keyTimes="0;1"/>',"  </path>","</svg>"].join(""),c.prototype.getElement=function(){return this._element},c.prototype.dispose=function(){this._element=null},b.exports=c},{}],34:[function(a,b){"use strict";function c(a){this.postMessageReceiver(a),this.hashChangeReceiver(a)}var d=a("braintree-utilities");c.prototype.postMessageReceiver=function(a){var b=this;this.wrappedCallback=function(c){var d=c.data;(/^(auth_response=)/.test(d)||"user_closed=true"===d)&&(a(d),b.stopListening())},d.addEventListener(window,"message",this.wrappedCallback)},c.prototype.hashChangeReceiver=function(a){var b,c=window.location.hash,d=this;this.poll=setInterval(function(){b=window.location.hash,b.length>0&&b!==c&&(d.stopListening(),b=b.substring(1,b.length),a(b),window.location.hash=c.length>0?c:"")},10)},c.prototype.stopListening=function(){clearTimeout(this.poll),d.removeEventListener(window,"message",this.wrappedCallback)},b.exports=c},{"braintree-utilities":26}],35:[function(a,b){"use strict";var c,d=Array.prototype.indexOf;c=d?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},b.exports={indexOf:c}},{}],36:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],37:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],38:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],39:[function(a,b){"use strict";function c(a){var b,c,d,e,f=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(e=f.length,a=a||window.innerWidth,c=0;e>c;c++)d=f[c],a>=d.min&&a<=d.max&&(b=d.chars);return b||60}function d(a,b){var c,d;return-1===a.indexOf("@")?a:(a=a.split("@"),c=a[0],d=a[1],c.length>b&&(c=c.slice(0,b)+"..."),d.length>b&&(d="..."+d.slice(-b)),c+"@"+d)}b.exports={truncateEmail:d,getMaxCharLength:c}},{}],40:[function(a,b){"use strict";function c(){return"https:"===window.location.protocol}function d(a){switch(a){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(a)}}function e(a,b){var c,f,g=[];for(f in a)if(a.hasOwnProperty(f)){var h=a[f];c=b?b+"["+f+"]":f,"object"==typeof h?g.push(e(h,c)):void 0!==h&&null!==h&&g.push(d(c)+"="+d(h))}return g.join("&");
}function f(a){for(var b={},c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("="),f=e[0],g=decodeURIComponent(e[1]);b[f]=g}return b}function g(a){var b=a.split("?");return 2!==b.length?{}:f(b[1])}function h(a){if(a=a.toLowerCase(),!/^http/.test(a))return!1;j.href=a;var b=j.hostname.split("."),c=b.slice(-2).join(".");return-1!==i.indexOf(k,c)}var i=a("./array"),j=document.createElement("a"),k=["paypal.com","braintreepayments.com","braintreegateway.com","localhost"];b.exports={isBrowserHttps:c,makeQueryString:e,decodeQueryString:f,getParams:g,isWhitelistedDomain:h}},{"./array":35}],41:[function(a,b){var c=a("./lib/dom"),d=a("./lib/url"),e=a("./lib/fn"),f=a("./lib/events"),g=a("./lib/string"),h=a("./lib/array");b.exports={string:g,array:h,normalizeElement:c.normalizeElement,isBrowserHttps:d.isBrowserHttps,makeQueryString:d.makeQueryString,decodeQueryString:d.decodeQueryString,getParams:d.getParams,isWhitelistedDomain:d.isWhitelistedDomain,removeEventListener:f.removeEventListener,addEventListener:f.addEventListener,bind:e.bind,isFunction:e.isFunction}},{"./lib/array":35,"./lib/dom":36,"./lib/events":37,"./lib/fn":38,"./lib/string":39,"./lib/url":40}],42:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a){return function(b){return null==b?void 0:b[a]}}function e(a){return null!=a&&f(n(a))}function f(a){return"number"==typeof a&&a>-1&&a%1==0&&m>=a}function g(a){return null==a?!0:e(a)&&(i(a)||k(a)||h(a)||c(a)&&j(a.splice))?!a.length:!l(a).length}var h=a("lodash.isarguments"),i=a("lodash.isarray"),j=a("lodash.isfunction"),k=a("lodash.isstring"),l=a("lodash.keys"),m=9007199254740991,n=d("length");b.exports=g},{"lodash.isarguments":43,"lodash.isarray":44,"lodash.isfunction":45,"lodash.isstring":49,"lodash.keys":46}],43:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a){return function(b){return null==b?void 0:b[a]}}function e(a){return null!=a&&f(l(a))}function f(a){return"number"==typeof a&&a>-1&&a%1==0&&k>=a}function g(a){return c(a)&&e(a)&&i.call(a,"callee")&&!j.call(a,"callee")}var h=Object.prototype,i=h.hasOwnProperty,j=h.propertyIsEnumerable,k=9007199254740991,l=d("length");b.exports=g},{}],44:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a,b){var c=null==a?void 0:a[b];return h(c)?c:void 0}function e(a){return"number"==typeof a&&a>-1&&a%1==0&&r>=a}function f(a){return g(a)&&o.call(a)==j}function g(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function h(a){return null==a?!1:f(a)?p.test(m.call(a)):c(a)&&k.test(a)}var i="[object Array]",j="[object Function]",k=/^\[object .+?Constructor\]$/,l=Object.prototype,m=Function.prototype.toString,n=l.hasOwnProperty,o=l.toString,p=RegExp("^"+m.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=d(Array,"isArray"),r=9007199254740991,s=q||function(a){return c(a)&&e(a.length)&&o.call(a)==i};b.exports=s},{}],45:[function(a,b){function c(a){return d(a)&&g.call(a)==e}function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var e="[object Function]",f=Object.prototype,g=f.toString;b.exports=c},{}],46:[function(a,b){function c(a){return function(b){return null==b?void 0:b[a]}}function d(a){return null!=a&&f(r(a))}function e(a,b){return a="number"==typeof a||m.test(a)?+a:-1,b=null==b?q:b,a>-1&&a%1==0&&b>a}function f(a){return"number"==typeof a&&a>-1&&a%1==0&&q>=a}function g(a){for(var b=i(a),c=b.length,d=c&&a.length,g=!!d&&f(d)&&(l(a)||k(a)),h=-1,j=[];++h<c;){var m=b[h];(g&&e(m,d)||o.call(a,m))&&j.push(m)}return j}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function i(a){if(null==a)return[];h(a)||(a=Object(a));var b=a.length;b=b&&f(b)&&(l(a)||k(a))&&b||0;for(var c=a.constructor,d=-1,g="function"==typeof c&&c.prototype===a,i=Array(b),j=b>0;++d<b;)i[d]=d+"";for(var m in a)j&&e(m,b)||"constructor"==m&&(g||!o.call(a,m))||i.push(m);return i}var j=a("lodash._getnative"),k=a("lodash.isarguments"),l=a("lodash.isarray"),m=/^\d+$/,n=Object.prototype,o=n.hasOwnProperty,p=j(Object,"keys"),q=9007199254740991,r=c("length"),s=p?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&d(a)?g(a):h(a)?p(a):[]}:g;b.exports=s},{"lodash._getnative":47,"lodash.isarguments":43,"lodash.isarray":44}],47:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a,b){var c=null==a?void 0:a[b];return g(c)?c:void 0}function e(a){return f(a)&&m.call(a)==h}function f(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function g(a){return null==a?!1:e(a)?n.test(k.call(a)):c(a)&&i.test(a)}var h="[object Function]",i=/^\[object .+?Constructor\]$/,j=Object.prototype,k=Function.prototype.toString,l=j.hasOwnProperty,m=j.toString,n=RegExp("^"+k.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{}],48:[function(a,b){function c(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=c},{}],49:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a){return"string"==typeof a||c(a)&&g.call(a)==e}var e="[object String]",f=Object.prototype,g=f.toString;b.exports=d},{}],50:[function(a,b){"use strict";var c=a("framebus");c.events=a("./lib/events"),b.exports=c},{"./lib/events":51,framebus:52}],51:[function(a,b){"use strict";for(var c=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_NOT_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ROOT_METADATA_REQUEST","ERROR","WARNING","UI_POPUP_DID_OPEN","UI_POPUP_DID_CLOSE","UI_POPUP_FORCE_CLOSE","ASYNC_DEPENDENCY_INITIALIZING","ASYNC_DEPENDENCY_READY","USER_FORM_SUBMIT_REQUEST","SEND_ANALYTICS_EVENTS"],d={},e=0;e<c.length;e++){var f=c[e];d[f]=f}b.exports=d},{}],52:[function(b,c,d){"use strict";!function(b,e){"object"==typeof d&&"undefined"!=typeof c?c.exports=e():"function"==typeof a&&a.amd?a([],e):b.framebus=e()}(this,function(){function a(a){return null==a?!1:null==a.Window?!1:a.constructor!==a.Window?!1:(t.push(a),!0)}function b(a){var b,c={};for(b in s)s.hasOwnProperty(b)&&(c[b]=s[b]);return c._origin=a||"*",c}function c(a){var b,c,d=f(this);return g(a)?!1:g(d)?!1:(c=Array.prototype.slice.call(arguments,1),b=h(a,c,d),b===!1?!1:(n(r.top,b,d),!0))}function d(a,b){var c=f(this);return q(a,b,c)?!1:(u[c]=u[c]||{},u[c][a]=u[c][a]||[],u[c][a].push(b),!0)}function e(a,b){var c,d,e=f(this);if(q(a,b,e))return!1;if(d=u[e]&&u[e][a],!d)return!1;for(c=0;c<d.length;c++)if(d[c]===b)return d.splice(c,1),!0;return!1}function f(a){return a&&a._origin||"*"}function g(a){return"string"!=typeof a}function h(a,b,c){var d=!1,e={event:a,origin:c},f=b[b.length-1];"function"==typeof f&&(e.reply=p(f,c),b=b.slice(0,-1)),e.args=b;try{d=v+JSON.stringify(e)}catch(g){throw new Error("Could not stringify event: "+g.message)}return d}function i(a){var b,c,d,e;if(a.data.slice(0,v.length)!==v)return!1;try{b=JSON.parse(a.data.slice(v.length))}catch(f){return!1}return null!=b.reply&&(c=a.origin,d=a.source,e=b.reply,b.reply=function(a){var b=h(e,[a],c);return b===!1?!1:void d.postMessage(b,c)},b.args.push(b.reply)),b}function j(a){r||(r=a||window,r.addEventListener?r.addEventListener("message",l,!1):r.attachEvent?r.attachEvent("onmessage",l):null===r.onmessage?r.onmessage=l:r=null)}function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function l(a){var b;g(a.data)||(b=i(a),b&&(m("*",b.event,b.args,a),m(a.origin,b.event,b.args,a),o(a.data,b.origin,a.source)))}function m(a,b,c,d){var e;if(u[a]&&u[a][b])for(e=0;e<u[a][b].length;e++)u[a][b][e].apply(d,c)}function n(a,b,c){var d;try{a.postMessage(b,c)}catch(e){return}for(a.opener&&!a.opener.closed&&a.opener!==r&&n(a.opener.top,b,c),d=0;d<a.frames.length;d++)n(a.frames[d],b,c)}function o(a,b,c){var d,e;for(d=t.length-1;d>=0;d--)e=t[d],e.closed===!0?t=t.slice(d,1):c!==e&&n(e.top,a,b)}function p(a,b){function c(e,f){a(e,f),s.target(b).unsubscribe(d,c)}var d=k();return s.target(b).subscribe(d,c),d}function q(a,b,c){return g(a)?!0:"function"!=typeof b?!0:!!g(c)}var r,s,t=[],u={},v="/*framebus*/";return j(),s={target:b,include:a,publish:c,pub:c,trigger:c,emit:c,subscribe:d,sub:d,on:d,unsubscribe:e,unsub:e,off:e}})},{}],53:[function(a,b){"use strict";function c(a,b){h.emit(h.events.ERROR,{type:b,message:a})}function d(a){a=a||{};var b=a.coinbase;if(null==a.apiClient)c("settings.apiClient is required for coinbase",i);else if(a.configuration.coinbaseEnabled)if(b&&(b.container||b.button))if(b.container&&b.button)c("options.coinbase.container and options.coinbase.button are mutually exclusive",i);else{if(g.isSupportedBrowser())return!0;c("Coinbase is not supported by your browser. Please consider upgrading","UNSUPPORTED_BROWSER")}else c("Either options.coinbase.container or options.coinbase.button is required for Coinbase integrations",i);else c("Coinbase is not enabled for your merchant account",i);return!1}function e(a){return d(a)?new f(a):void 0}var f=a("./lib/coinbase"),g=a("./lib/detector"),h=a("braintree-bus"),i="CONFIGURATION";b.exports={create:e}},{"./lib/coinbase":56,"./lib/detector":58,"braintree-bus":64}],54:[function(a,b){(function(a){"use strict";function c(b){return b=b||a.navigator.userAgent,/AppleWebKit\//.test(b)&&/Mobile\//.test(b)?b.replace(/.* OS ([0-9_]+) like Mac OS X.*/,"$1").replace(/_/g,"."):null}function d(b){b=b||a.navigator.userAgent;var c=null,d=/MSIE.(\d+)/.exec(b);return/Trident/.test(b)&&(c=11),d&&(c=parseInt(d[1],10)),c}function e(b){return b=b||a.navigator.userAgent,/Android/.test(b)?b.replace(/^.* Android ([0-9\.]+).*$/,"$1"):null}b.exports={ieVersion:d,iOSSafariVersion:c,androidVersion:e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(a,b){"use strict";function c(a,b,c){return a?(d.emit(d.events.ERROR,a.error),void c._sendAnalyticsEvent("generate.nonce.failed")):(d.emit(d.events.PAYMENT_METHOD_GENERATED,b),void c._sendAnalyticsEvent("generate.nonce.succeeded"))}var d=a("braintree-bus");b.exports={tokenize:c}},{"braintree-bus":64}],56:[function(a,b){(function(c){"use strict";function d(a){return{clientId:a.configuration.coinbase.clientId,redirectUrl:a.configuration.coinbase.redirectUrl,scopes:a.configuration.coinbase.scopes||j.SCOPES,meta:{authorizations_merchant_account:a.configuration.coinbase.merchantAccount||""}}}function e(a){var b;this.buttonId=a.coinbase.button||j.BUTTON_ID,this.apiClient=a.apiClient,this.assetsUrl=a.configuration.assetsUrl,this.environment=a.configuration.coinbase.environment,this._onOAuthSuccess=f.bind(this._onOAuthSuccess,this),this._handleButtonClick=f.bind(this._handleButtonClick,this),this.popupParams=d(a),this.redirectDoneInterval=null,a.coinbase.container?(b=f.normalizeElement(a.coinbase.container),this._insertFrame(b)):(c.braintreeCoinbasePopupCallback=this._onOAuthSuccess,b=document.body,f.addEventListener(b,"click",this._handleButtonClick),this._sendAnalyticsEvent("initialized"))}var f=a("braintree-utilities"),g=a("./dom/composer"),h=a("./url-composer"),i=a("./callbacks"),j=a("./constants"),k=a("./detector"),l=a("braintree-bus");e.prototype._sendAnalyticsEvent=function(a){var b=this.apiClient.integration+".web.coinbase.";this.apiClient.sendAnalyticsEvents(b+a)},e.prototype._insertFrame=function(a){var b=g.createFrame({src:this.assetsUrl+"/coinbase/"+j.VERSION+"/coinbase-frame.html"});l.emit(l.events.ASYNC_DEPENDENCY_INITIALIZING),a.appendChild(b)},e.prototype._onOAuthSuccess=function(a){return a.code?(l.emit("coinbase:view:navigate","loading"),this._sendAnalyticsEvent("popup.authorized"),this.apiClient.tokenizeCoinbase({code:a.code,query:h.getQueryString()},f.bind(function(a,b){i.tokenize.apply(null,[a,b,this])},this)),void this._closePopup()):(this._sendAnalyticsEvent("popup.denied"),void this._closePopup())},e.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},e.prototype._closePopup=function(a){a=a||this.popup,k.shouldCloseFromParent()&&a.close(),this._popupCleanup()},e.prototype._popupCleanup=function(){this._clearPollForRedirectDone(),l.emit(l.events.UI_POPUP_DID_CLOSE,{source:j.INTEGRATION_NAME})},e.prototype._pollForRedirectDone=function(a){var b=setInterval(f.bind(function(){var b;if(null==a||a.closed)return this._sendAnalyticsEvent("popup.aborted"),void this._popupCleanup();try{if("about:blank"===a.location.href)throw new Error("Not finished loading");b=f.decodeQueryString(a.location.search.replace(/^\?/,"")).code}catch(c){return}this._onOAuthSuccess({code:b})},this),100);return this.redirectDoneInterval=b,b},e.prototype._openPopup=function(){var a;this._sendAnalyticsEvent("popup.started"),a=g.createPopup(h.compose(this._getOAuthBaseUrl(),this.popupParams)),a.focus(),this._pollForRedirectDone(a),l.trigger(l.events.UI_POPUP_DID_OPEN,{source:j.INTEGRATION_NAME}),l.on(l.events.UI_POPUP_FORCE_CLOSE,function(b){b.target===j.INTEGRATION_NAME&&a.close()}),this.popup=a},e.prototype._getOAuthBaseUrl=function(){var a;return a="shared_sandbox"===this.environment?j.SANDBOX_OAUTH_BASE_URL:j.PRODUCTION_OAUTH_BASE_URL},e.prototype._handleButtonClick=function(a){for(var b=a.target||a.srcElement;;){if(null==b)return;if(b===a.currentTarget)return;if(b.id===this.buttonId)break;b=b.parentNode}a&&a.preventDefault?a.preventDefault():a.returnValue=!1,this._openPopup()},b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callbacks":55,"./constants":57,"./detector":58,"./dom/composer":60,"./url-composer":63,"braintree-bus":64,"braintree-utilities":73}],57:[function(a,b){"use strict";b.exports={PRODUCTION_OAUTH_BASE_URL:"https://coinbase.com",SANDBOX_OAUTH_BASE_URL:"https://sandbox.coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.2.2",INTEGRATION_NAME:"Coinbase"}},{}],58:[function(a,b){"use strict";function c(){var a=g.ieVersion();return!a||a>8}function d(){var a=g.androidVersion();return null==a?!1:/^5/.test(a)}function e(){return!(d()||f())}function f(){var a=g.iOSSafariVersion();return null==a?!1:/^8\.0/.test(a)||/^8\.1$/.test(a)}var g=a("./browser");b.exports={isSupportedBrowser:c,shouldCloseFromParent:e,shouldDisplayIOSClose:f,shouldDisplayLollipopClose:d}},{"./browser":54}],59:[function(a,b){"use strict";function c(a){var b=document.createElement("button");return a=a||{},b.id=a.id||"coinbase-button",b.style.backgroundColor=a.backgroundColor||"#EEE",b.style.color=a.color||"#4597C3",b.style.border=a.border||"0",b.style.borderRadius=a.borderRadius||"6px",b.style.padding=a.padding||"12px",b.innerHTML=a.innerHTML||"coinbase",b}b.exports={create:c}},{}],60:[function(a,b){"use strict";var c=a("./popup"),d=a("./button"),e=a("./frame");b.exports={createButton:d.create,createPopup:c.create,createFrame:e.create}},{"./button":59,"./frame":61,"./popup":62}],61:[function(a,b){"use strict";function c(a){return e({src:a.src,name:d.FRAME_NAME,height:"70px",width:"100%",style:{padding:0,margin:0,border:0,outline:"none"}})}var d=a("../constants"),e=a("iframer");b.exports={create:c}},{"../constants":57,iframer:74}],62:[function(a,b){(function(c){"use strict";function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push([c,a[c]].join("="));return b.join(",")}function e(){var a=850,b=600;return d({width:a,height:b,left:(screen.width-a)/2,top:(screen.height-b)/4})}function f(a){return c.open(a,g.POPUP_NAME,e())}var g=a("../constants");b.exports={create:f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":57}],63:[function(a,b){"use strict";function c(){return"version="+e.VERSION}function d(a,b){var d=a+"/oauth/authorize?response_type=code",e=b.redirectUrl+"?"+c();if(d+="&redirect_uri="+encodeURIComponent(e),d+="&client_id="+b.clientId,b.scopes&&(d+="&scope="+encodeURIComponent(b.scopes)),b.meta)for(var f in b.meta)b.meta.hasOwnProperty(f)&&(d+="&meta["+encodeURIComponent(f)+"]="+encodeURIComponent(b.meta[f]));return d}var e=a("./constants");b.exports={compose:d,getQueryString:c}},{"./constants":57}],64:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"./lib/events":65,dup:50,framebus:66}],65:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],66:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],67:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],68:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],69:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],70:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],71:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],72:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":67,dup:40}],73:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":67,"./lib/dom":68,"./lib/events":69,"./lib/fn":70,"./lib/string":71,"./lib/url":72,dup:41}],74:[function(a,b){"use strict";var c=a("lodash.assign"),d=a("lodash.isstring"),e=a("./lib/default-attributes");b.exports=function(a){var b=document.createElement("iframe"),f=c({},e,a);f.style&&!d(f.style)&&(c(b.style,f.style),delete f.style);for(var g in f)f.hasOwnProperty(g)&&b.setAttribute(g,f[g]);return b.getAttribute("id")||(b.id=b.name),b}},{"./lib/default-attributes":75,"lodash.assign":76,"lodash.isstring":87}],75:[function(a,b){b.exports={frameBorder:0,allowtransparency:!0}},{}],76:[function(a,b){function c(a,b,c){for(var d=-1,e=f(b),g=e.length;++d<g;){var h=e[d],i=a[h],j=c(i,b[h],h,a,b);(j===j?j===i:i!==i)&&(void 0!==i||h in a)||(a[h]=j)}return a}var d=a("lodash._baseassign"),e=a("lodash._createassigner"),f=a("lodash.keys"),g=e(function(a,b,e){return e?c(a,b,e):d(a,b)});b.exports=g},{"lodash._baseassign":77,"lodash._createassigner":79,"lodash.keys":83}],77:[function(a,b){function c(a,b){return null==b?a:d(b,e(b),a)}var d=a("lodash._basecopy"),e=a("lodash.keys");b.exports=c},{"lodash._basecopy":78,"lodash.keys":83}],78:[function(a,b){function c(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=c},{}],79:[function(a,b){function c(a){return f(function(b,c){var f=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=d(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&e(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++f<g;){var k=c[f];k&&a(b,k,h)}return b})}var d=a("lodash._bindcallback"),e=a("lodash._isiterateecall"),f=a("lodash.restparam");b.exports=c},{"lodash._bindcallback":80,"lodash._isiterateecall":81,"lodash.restparam":82}],80:[function(a,b){function c(a,b,c){if("function"!=typeof a)return d;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function d(a){return a}b.exports=c},{}],81:[function(a,b){function c(a){return function(b){return null==b?void 0:b[a]}}function d(a){return null!=a&&g(k(a))}function e(a,b){return a="number"==typeof a||i.test(a)?+a:-1,b=null==b?j:b,a>-1&&a%1==0&&b>a}function f(a,b,c){if(!h(c))return!1;var f=typeof b;if("number"==f?d(c)&&e(b,c.length):"string"==f&&b in c){var g=c[b];return a===a?a===g:g!==g}return!1}function g(a){return"number"==typeof a&&a>-1&&a%1==0&&j>=a}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var i=/^\d+$/,j=9007199254740991,k=c("length");b.exports=f},{}],82:[function(a,b){function c(a,b){if("function"!=typeof a)throw new TypeError(d);return b=e(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,f=e(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var d="Expected a function",e=Math.max;b.exports=c},{}],83:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46,"lodash._getnative":84,"lodash.isarguments":85,"lodash.isarray":86}],84:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],85:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],86:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],87:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],88:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{"./coinbase-account":89,"./credit-card":91,"./europe-bank-account":92,"./normalize-api-fields":94,"./parse-client-token":95,"./paypal-account":96,"./request/choose-driver":99,"./sepa-mandate":104,"./should-enable-cors":105,"./util":106,"braintree-3ds":115,"braintree-utilities":127,dup:2}],89:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],90:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],91:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],92:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],93:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{"./parse-client-token":95,"./request/choose-driver":99,"./should-enable-cors":105,"./util":106,dup:7}],94:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{dup:8}],95:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{"./polyfill":97,"braintree-utilities":127,dup:9}],96:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{dup:10}],97:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],98:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"../constants":90,"../util":106,"./parse-body":102,"./prep-body":103,dup:12}],99:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"../util":106,"./ajax-driver":98,"./jsonp-driver":100,dup:13}],100:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{"../constants":90,"./jsonp":101,dup:14}],101:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"../util":106,dup:15}],102:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],103:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17,"lodash.isstring":135}],104:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],105:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],106:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{dup:20,"lodash.isempty":128,"lodash.isobject":134}],107:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"./lib/client":88,"./lib/get-configuration":93,"./lib/parse-client-token":95,"./lib/util":106,dup:21}],108:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],109:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],110:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],111:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],112:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":108,"./lib/events":109,"./lib/fn":110,"./lib/url":111,dup:26}],113:[function(a,b,c){arguments[4][27][0].apply(c,arguments)},{"../shared/receiver":120,"braintree-utilities":112,dup:27}],114:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{"./authorization_service":113,"./loader":116,"braintree-utilities":112,dup:28}],115:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"./client":114,dup:29}],116:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"./loader_display":117,"./loader_message":118,"./loader_spinner":119,dup:30}],117:[function(a,b,c){arguments[4][31][0].apply(c,arguments)},{dup:31}],118:[function(a,b,c){arguments[4][32][0].apply(c,arguments)},{dup:32}],119:[function(a,b,c){arguments[4][33][0].apply(c,arguments)},{dup:33}],120:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"braintree-utilities":112,dup:34}],121:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],122:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],123:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],124:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],125:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],126:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":121,dup:40}],127:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":121,"./lib/dom":122,"./lib/events":123,"./lib/fn":124,"./lib/string":125,"./lib/url":126,dup:41}],128:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42,"lodash.isarguments":129,"lodash.isarray":130,"lodash.isfunction":131,"lodash.isstring":135,"lodash.keys":132}],129:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],130:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],131:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],132:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46,"lodash._getnative":133,"lodash.isarguments":129,"lodash.isarray":130}],133:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],134:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48}],135:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],136:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"./lib/events":137,dup:50,framebus:138}],137:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],138:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],139:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{"./coinbase-account":140,"./credit-card":142,"./europe-bank-account":143,"./normalize-api-fields":145,"./parse-client-token":146,"./paypal-account":147,"./request/choose-driver":150,"./sepa-mandate":155,"./should-enable-cors":156,"./util":157,"braintree-3ds":166,"braintree-utilities":178,dup:2}],140:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],141:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],142:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],143:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],144:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{"./parse-client-token":146,"./request/choose-driver":150,"./should-enable-cors":156,"./util":157,dup:7}],145:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{dup:8}],146:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{"./polyfill":148,"braintree-utilities":178,dup:9}],147:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{dup:10}],148:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],149:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"../constants":141,"../util":157,"./parse-body":153,"./prep-body":154,dup:12}],150:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"../util":157,"./ajax-driver":149,"./jsonp-driver":151,dup:13}],151:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{"../constants":141,"./jsonp":152,dup:14}],152:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"../util":157,dup:15}],153:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],154:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17,"lodash.isstring":186}],155:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],156:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],157:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{dup:20,"lodash.isempty":179,"lodash.isobject":185}],158:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"./lib/client":139,"./lib/get-configuration":144,"./lib/parse-client-token":146,"./lib/util":157,dup:21}],159:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],160:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],161:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],162:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],163:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":159,"./lib/events":160,"./lib/fn":161,"./lib/url":162,dup:26}],164:[function(a,b,c){arguments[4][27][0].apply(c,arguments)},{"../shared/receiver":171,"braintree-utilities":163,dup:27}],165:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{"./authorization_service":164,"./loader":167,"braintree-utilities":163,dup:28}],166:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"./client":165,dup:29}],167:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"./loader_display":168,"./loader_message":169,"./loader_spinner":170,dup:30}],168:[function(a,b,c){arguments[4][31][0].apply(c,arguments)},{dup:31}],169:[function(a,b,c){arguments[4][32][0].apply(c,arguments)},{dup:32}],170:[function(a,b,c){arguments[4][33][0].apply(c,arguments)},{dup:33}],171:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"braintree-utilities":163,dup:34}],172:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],173:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],174:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],175:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],176:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],177:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":172,dup:40}],178:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":172,"./lib/dom":173,"./lib/events":174,"./lib/fn":175,"./lib/string":176,"./lib/url":177,dup:41}],179:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42,"lodash.isarguments":180,"lodash.isarray":181,"lodash.isfunction":182,"lodash.isstring":186,"lodash.keys":183}],180:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],181:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],182:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],183:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46,"lodash._getnative":184,"lodash.isarguments":180,"lodash.isarray":181}],184:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],185:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48}],186:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],187:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"./lib/events":188,dup:50,framebus:189}],188:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],189:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],190:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],191:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],192:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],193:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],194:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],195:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":190,dup:40}],196:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":190,"./lib/dom":191,"./lib/events":192,"./lib/fn":193,"./lib/string":194,"./lib/url":195,dup:41}],197:[function(a,b){function c(a){var b=window.getComputedStyle?getComputedStyle(a):a.currentStyle;return{overflow:b.overflow||"",height:a.style.height||""}}function d(){return{html:{node:document.documentElement,styles:c(document.documentElement)},body:{node:document.body,styles:c(document.body)}}}function e(a,b){if(!a)throw new Error('Parameter "clientToken" cannot be null');b=b||{},this._clientToken=f.parseClientToken(a),this._clientOptions=b,this.container=b.container,this.merchantPageDefaultStyles=null,this.paymentMethodNonceInputField=b.paymentMethodNonceInputField,this.frame=null,this.popup=null,this.insertFrameFunction=b.insertFrame,this.onSuccess=b.onSuccess,this.onCancelled=b.onCancelled,this.onUnsupported=b.onUnsupported,
this.loggedInView=null,this.loggedOutView=null,this.insertUI=!0}var f=a("braintree-api"),g=a("braintree-bus"),h=a("braintree-utilities"),i=a("./logged-in-view"),j=a("./logged-out-view"),k=a("./overlay-view"),l=a("../shared/util/browser"),m=a("../shared/util/dom"),n=a("../shared/constants"),o=a("../shared/util/util"),p=a("../shared/get-locale");e.prototype.getViewerUrl=function(){var a=this._clientToken.paypal.assetsUrl;return a+"/pwpp/"+n.VERSION+"/html/braintree-frame.html"},e.prototype.getProxyUrl=function(){var a=this._clientToken.paypal.assetsUrl;return a+"/pwpp/"+n.VERSION+"/html/proxy-frame.html"},e.prototype.initialize=function(){if(!this._clientToken.paypalEnabled)return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("PayPal is not enabled")));if(!this._isBrowserSecure())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("unsupported protocol detected")));if(this._isHermesCapable()){if(!this._isHermesSupportedCurrency())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("This PayPal integration does not support this currency")));if(!this._isHermesSupportedCountries())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("This PayPal integration does not support this locale")));if(!this._isValidAmount())return void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("Amount must be a number")))}return this._isMisconfiguredUnvettedMerchant()?void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("Unvetted merchants must provide a payeeEmail, amount, and currency"))):(this._overrideClientTokenProperties(),l.isProxyFrameRequired()&&this._insertProxyFrame(),this._setupDomElements(),this._setupPaymentMethodNonceInputField(),this._setupViews(),void this._createBusSubscribers())},e.prototype._isSupportedOption=function(a,b){for(var c=b.length,d=!1,e=0;c>e;e++)a.toLowerCase()===b[e].toLowerCase()&&(d=!0);return d},e.prototype._isHermesSupportedCurrency=function(){return this._isSupportedOption(this._clientOptions.currency,n.ARIES_SUPPORTED_CURRENCIES)},e.prototype._isHermesSupportedCountries=function(){return this._isSupportedOption(p(this._clientOptions.locale).split("_")[1],n.ARIES_SUPPORTED_COUNTRIES)},e.prototype._isValidAmount=function(){var a=parseFloat(this._clientOptions.amount);return"number"==typeof a&&!isNaN(a)&&a>=0},e.prototype._isMisconfiguredUnvettedMerchant=function(){return this._clientToken.paypal.unvettedMerchant&&(!this._isHermesCapable()||!this._clientToken.paypal.payeeEmail)},e.prototype._isBrowserSecure=function(){return h.isBrowserHttps()||l.isPopupSupported()||this._clientToken.paypal.allowHttp},e.prototype._overrideClientTokenProperties=function(){this._clientOptions.displayName&&(this._clientToken.paypal.displayName=this._clientOptions.displayName)},e.prototype._setupDomElements=function(){this.insertUI&&(this.container=h.normalizeElement(this.container))},e.prototype._setupPaymentMethodNonceInputField=function(){if(this.insertUI){var a=this.paymentMethodNonceInputField;h.isFunction(a)||(a=void 0!==a?h.normalizeElement(a):this._createPaymentMethodNonceInputField(),this.paymentMethodNonceInputField=a)}},e.prototype._setupViews=function(){var a=this._clientToken.paypal.assetsUrl;this.insertUI&&(this.loggedInView=new i({container:this.container,assetsUrl:a}),this.loggedOutView=new j({assetsUrl:a,container:this.container,isCheckout:this._isHermesCapable(),locale:this._clientOptions.locale,merchantId:"merchantId"}),h.addEventListener(this.loggedOutView.container,"click",h.bind(this._handleContainerClick,this)),h.addEventListener(this.loggedInView.logoutNode,"click",h.bind(this._handleLogout,this)))},e.prototype._createBusSubscribers=function(){g.subscribe("getClientToken",h.bind(this._handleGetClientToken,this)),g.subscribe("getClientOptions",h.bind(this._handleGetClientOptions,this)),g.subscribe("closePayPalModal",h.bind(this._handleCloseMessage,this)),g.subscribe("receivePayPalData",h.bind(this._handleSuccessfulAuthentication,this))},e.prototype._createPaymentMethodNonceInputField=function(){var a=document.createElement("input");return a.name="payment_method_nonce",a.type="hidden",this.container.appendChild(a)},e.prototype._createFrame=function(){var a,b=document.createElement("iframe");return this._isHermesCapable()?(a=n.ARIES_FRAME_NAME,b.style.background="#FFFFFF"):a=n.FRAME_NAME,b.src=this.getViewerUrl(),b.id=a,b.name=a,b.allowTransparency=!0,b.height="100%",b.width="100%",b.frameBorder=0,b.style.position=l.isMobile()?"absolute":"fixed",b.style.top=0,b.style.left=0,b.style.bottom=0,b.style.zIndex=20001,b.style.padding=0,b.style.margin=0,b.style.border=0,b.style.outline="none",b},e.prototype._removeFrame=function(a){a=a||document.body,this.frame&&a.contains(this.frame)&&(a.removeChild(this.frame),this._unlockMerchantWindowSize())},e.prototype._insertFrame=function(){this.insertFrameFunction?this.insertFrameFunction(this.getViewerUrl()):(this.frame=this._createFrame(),document.body.appendChild(this.frame)),this._lockMerchantWindowSize()},e.prototype._handleContainerClick=function(a){function b(a){return a.className.match(/paypal-button(?!-widget)/)||"braintree-paypal-button"===a.id}var c=a.target||a.srcElement;(b(c)||b(c.parentNode))&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this._open())},e.prototype._setMerchantPageDefaultStyles=function(){this.merchantPageDefaultStyles=d()},e.prototype._open=function(){this._isHermesCapable()&&this._addCorrelationIdToClientToken(),l.isPopupSupported()?this._openPopup():this._openModal()},e.prototype._close=function(){l.isPopupSupported()?this._closePopup():this._closeModal()},e.prototype._openModal=function(){this._removeFrame(),this._insertFrame()},e.prototype._isHermesCapable=function(){return!!this._clientOptions.singleUse&&!!this._clientOptions.amount&&!!this._clientOptions.currency},e.prototype._openPopup=function(){var a,b,c,d=[],e=window.outerWidth||document.documentElement.clientWidth,f=window.outerHeight||document.documentElement.clientHeight,g="undefined"==typeof window.screenY?window.screenTop:window.screenY,h="undefined"==typeof window.screenX?window.screenLeft:window.screenX;this._isHermesCapable()?(a=n.ARIES_POPUP_NAME,c=n.ARIES_POPUP_HEIGHT,b=n.ARIES_POPUP_WIDTH):(a=n.POPUP_NAME,c=n.POPUP_HEIGHT,b=n.POPUP_WIDTH);var i=(e-b)/2+h,j=(f-c)/2+g;return d.push("height="+c),d.push("width="+b),d.push("top="+j),d.push("left="+i),d.push(n.POPUP_OPTIONS),this.popup=window.open(this.getViewerUrl(),a,d.join(",")),l.isOverlaySupported()&&(this.overlayView=new k(this.popup,this._clientToken.paypal.assetsUrl),this.overlayView.render()),this.popup.focus(),this.popup},e.prototype._addCorrelationIdToClientToken=function(){this._clientToken.correlationId=o.generateUid()},e.prototype._createProxyFrame=function(){var a=document.createElement("iframe");return a.src=this.getProxyUrl(),a.id=n.BRIDGE_FRAME_NAME,a.name=n.BRIDGE_FRAME_NAME,a.allowTransparency=!0,a.height=0,a.width=0,a.frameBorder=0,a.style.position="static",a.style.padding=0,a.style.margin=0,a.style.border=0,a.style.outline="none",a},e.prototype._insertProxyFrame=function(){this.proxyFrame=this._createProxyFrame(),document.body.appendChild(this.proxyFrame)},e.prototype._closeModal=function(){this._removeFrame()},e.prototype._closePopup=function(){this.popup&&(this.popup.close(),this.popup=null),this.overlayView&&l.isOverlaySupported()&&this.overlayView.remove()},e.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:void 0,authorizationFingerprint:this._clientToken.authorizationFingerprint,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientToken.paypal.displayName,paypalBaseUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,unvettedMerchant:this._clientToken.paypal.unvettedMerchant,payeeEmail:this._clientToken.paypal.payeeEmail,correlationId:this._clientToken.correlationId,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork,sdkVersion:this._clientToken.sdkVersion,merchantAppId:this._clientToken.merchantAppId}},e.prototype._handleGetClientToken=function(a){a(this._clientTokenData())},e.prototype._clientOptionsData=function(){return{locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableBillingAddress:this._clientOptions.enableBillingAddress||!1,enableHermes:this._isHermesCapable(),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null,enableCORS:this._clientOptions.enableCORS}},e.prototype._handleGetClientOptions=function(a){a(this._clientOptionsData())},e.prototype._handleSuccessfulAuthentication=function(a){this._close(),a.type=n.NONCE_TYPE,h.isFunction(this.paymentMethodNonceInputField)?this.paymentMethodNonceInputField(a.nonce):(this._showLoggedInContent(a.details.email),this._setNonceInputValue(a.nonce)),h.isFunction(this.onSuccess)&&this.onSuccess(a)},e.prototype._lockMerchantWindowSize=function(){this._setMerchantPageDefaultStyles(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},e.prototype._unlockMerchantWindowSize=function(){this.merchantPageDefaultStyles&&(document.documentElement.style.height=this.merchantPageDefaultStyles.html.styles.height,document.documentElement.style.overflow=this.merchantPageDefaultStyles.html.styles.overflow,document.body.style.height=this.merchantPageDefaultStyles.body.styles.height,document.body.style.overflow=this.merchantPageDefaultStyles.body.styles.overflow)},e.prototype._handleCloseMessage=function(){this._removeFrame()},e.prototype._showLoggedInContent=function(a){this.loggedOutView.hide(),m.setTextContent(this.loggedInView.emailNode,a),this.loggedInView.show()},e.prototype._handleLogout=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,this.loggedInView.hide(),this.loggedOutView.show(),this._setNonceInputValue(""),h.isFunction(this.onCancelled)&&this.onCancelled()},e.prototype._setNonceInputValue=function(a){this.paymentMethodNonceInputField.value=a},b.exports=e},{"../shared/constants":201,"../shared/get-locale":203,"../shared/util/browser":208,"../shared/util/dom":209,"../shared/util/util":210,"./logged-in-view":198,"./logged-out-view":199,"./overlay-view":200,"braintree-api":158,"braintree-bus":187,"braintree-utilities":196}],198:[function(a,b){function c(a){this.options=a,this.container=this.createViewContainer(),this.createPayPalName(),this.emailNode=this.createEmailNode(),this.logoutNode=this.createLogoutNode()}var d=a("../shared/constants");c.prototype.createViewContainer=function(){var a=document.createElement("div");a.id="braintree-paypal-loggedin";var b=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.assetsUrl+"/pwpp/"+d.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.assetsUrl+"/pwpp/"+d.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");return a.style.cssText=b,this.options.container.appendChild(a),a},c.prototype.createPayPalName=function(){var a=document.createElement("span");a.id="bt-pp-name",a.innerHTML="PayPal";var b=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return a.style.cssText=b,this.container.appendChild(a)},c.prototype.createEmailNode=function(){var a=document.createElement("span");a.id="bt-pp-email";var b=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return a.style.cssText=b,this.container.appendChild(a)},c.prototype.createLogoutNode=function(){var a=document.createElement("button");a.id="bt-pp-cancel",a.innerHTML="Cancel";var b=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return a.style.cssText=b,this.container.appendChild(a)},c.prototype.show=function(){this.container.style.display="block"},c.prototype.hide=function(){this.container.style.display="none"},b.exports=c},{"../shared/constants":201}],199:[function(a,b){function c(a){this.options=a,this.assetsUrl=this.options.assetsUrl,this.container=this.createViewContainer(),this.options.isCheckout?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton()}var d=(a("braintree-utilities"),a("../shared/constants")),e=a("../shared/get-locale");c.prototype.createViewContainer=function(){var a=document.createElement("div");return a.id="braintree-paypal-loggedout",this.options.container.appendChild(a),a},c.prototype.createPayWithPayPalButton=function(){var a=document.createElement("a");a.id="braintree-paypal-button",a.href="#";var b=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");a.style.cssText=b;var c=new Image;c.src=this.assetsUrl+"/pwpp/"+d.VERSION+"/images/pay-with-paypal.png",c.setAttribute("alt","Pay with PayPal");var e=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";");c.style.cssText=e,a.appendChild(c),this.container.appendChild(a)},c.prototype.createCheckoutWithPayPalButton=function(){var a=document.createElement("script");a.src="//www.paypalobjects.com/api/button.js",a.async=!0,a.setAttribute("data-merchant",this.options.merchantId),a.setAttribute("data-button","checkout"),a.setAttribute("data-type","button"),a.setAttribute("data-width","150"),a.setAttribute("data-height","44"),a.setAttribute("data-lc",e(this.options.locale)),this.container.appendChild(a)},c.prototype.show=function(){this.container.style.display="block"},c.prototype.hide=function(){this.container.style.display="none"},b.exports=c},{"../shared/constants":201,"../shared/get-locale":203,"braintree-utilities":196}],200:[function(a,b){function c(a,b){this.popup=a,this.assetsUrl=b,this.spriteSrc=this.assetsUrl+"/pwpp/"+e.VERSION+"/images/pp_overlay_sprite.png",this._create(),this._setupEvents(),this._pollForPopup()}var d=a("braintree-utilities"),e=a("../shared/constants");c.prototype.render=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},c.prototype.remove=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},c.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},c.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},c.prototype._createMessage=function(){var a=document.createElement("div");return this._setStyles(a,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),a.appendChild(this._createLogo()),a.appendChild(this._createExplanation()),a.appendChild(this._createFocusLink()),a},c.prototype._createExplanation=function(){var a=document.createElement("div");return this._setStyles(a,["color: #FFF","margin-bottom: 20px"]),a.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",a},c.prototype._createLogo=function(){var a=document.createElement("div");return this._setStyles(a,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),a},c.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},c.prototype._setStyles=function(a,b){var c=b.join(";");a.style.cssText=c},c.prototype._setupEvents=function(){d.addEventListener(this.closeIcon,"click",d.bind(this._handleClose,this)),d.addEventListener(this.focusLink,"click",d.bind(this._handleFocus,this))},c.prototype._handleClose=function(a){a.preventDefault(),this.remove(),this.popup.close()},c.prototype._handleFocus=function(a){a.preventDefault(),this.popup.focus()},c.prototype._pollForPopup=function(){var a=setInterval(d.bind(function(){this.popup&&this.popup.closed&&(clearInterval(a),this.remove())},this),100)},b.exports=c},{"../shared/constants":201,"braintree-utilities":196}],201:[function(a,b,c){var d="1.5.3";c.VERSION=d,c.POPUP_NAME="braintree_paypal_popup",c.ARIES_POPUP_NAME="PPFrameRedirect",c.FRAME_NAME="braintree-paypal-frame",c.ARIES_FRAME_NAME="PPFrameRedirect",c.POPUP_PATH="/pwpp/"+d+"/html/braintree-frame.html",c.POPUP_OPTIONS="resizable,scrollbars",c.POPUP_HEIGHT=470,c.POPUP_WIDTH=410,c.ARIES_POPUP_HEIGHT=535,c.ARIES_POPUP_WIDTH=450,c.BRIDGE_FRAME_NAME="bt-proxy-frame",c.ARIES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD","DKK","NOK","PLN","SEK","CHF","TRY"],c.ARIES_SUPPORTED_COUNTRIES=["US","GB","AU","CA","ES","FR","DE","IT","NL","NO","PL","CH","TR","DK","BE","AT"],c.NONCE_TYPE="PayPalAccount",c.ILLEGAL_XHR_ERROR="Illegal XHR request attempted"},{}],202:[function(a,b){"use strict";b.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],203:[function(a,b){"use strict";function c(a){return-1!==a.indexOf("_")&&5===a.length}function d(a){var b;for(var c in f)f.hasOwnProperty(c)&&(c===a?b=f[c]:f[c]===a&&(b=f[c]));return b}function e(a){var b;if(a=a?a.toLowerCase():"us",a=a.replace(/-/g,"_"),b=c(a)?a:d(a)){var e=b.split("_");return[e[0],e[1].toUpperCase()].join("_")}return"en_US"}var f=a("../shared/data/country-code-lookup");b.exports=e},{"../shared/data/country-code-lookup":202}],204:[function(a,b){function c(){return l.matchUserAgent("Android")&&!d()}function d(){return l.matchUserAgent("Chrome")||l.matchUserAgent("CriOS")}function e(){return l.matchUserAgent("Firefox")}function f(){return l.matchUserAgent("Trident")||l.matchUserAgent("MSIE")}function g(){return l.matchUserAgent("Opera")||l.matchUserAgent("OPR")}function h(){return g()&&"[object OperaMini]"===n.call(window.operamini)}function i(){return l.matchUserAgent("Safari")&&!d()&&!c()}function j(){return m.isIos()&&!d()&&!i()}function k(){var a=/Version\/[\w\.]+ Chrome\/[\w\.]+ Mobile/;return m.isAndroid()&&l.matchUserAgent(a)}var l=a("./useragent"),m=a("./platform"),n=Object.prototype.toString;b.exports={isAndroid:c,isChrome:d,isFirefox:e,isIE:f,isOpera:g,isOperaMini:h,isSafari:i,isIosWebView:j,isAndroidWebView:k}},{"./platform":206,"./useragent":207}],205:[function(a,b){function c(){return!d()&&(g.isAndroid()||g.isIpod()||g.isIphone()||f.matchUserAgent("IEMobile"))}function d(){return g.isIpad()||g.isAndroid()&&!f.matchUserAgent("Mobile")}function e(){return!c()&&!d()}var f=a("./useragent"),g=a("./platform");b.exports={isMobile:c,isTablet:d,isDesktop:e}},{"./platform":206,"./useragent":207}],206:[function(a,b){function c(){return h.matchUserAgent("Android")}function d(){return h.matchUserAgent("iPad")}function e(){return h.matchUserAgent("iPod")}function f(){return h.matchUserAgent("iPhone")&&!e()}function g(){return d()||e()||f()}var h=a("./useragent");b.exports={isAndroid:c,isIpad:d,isIpod:e,isIphone:f,isIos:g}},{"./useragent":207}],207:[function(a,b,c){function d(){return f}function e(a){var b=c.getNativeUserAgent(),d=b.match(a);return!!d}var f=window.navigator.userAgent;c.getNativeUserAgent=d,c.matchUserAgent=e},{}],208:[function(a,b){function c(){return d()&&window.outerWidth<600}function d(){return o.test(n)}function e(){return!!window.postMessage}function f(){if(j.isOperaMini())return!1;if(k.isDesktop())return!0;if(k.isMobile()||k.isTablet()){if(j.isIE())return!1;if(l.isAndroid())return!j.isAndroidWebView();if(l.isIos())return!(j.isChrome()||j.isSafari()&&m.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||j.isIosWebView())}return!1}function g(){if(j.isIE()&&m.matchUserAgent(/MSIE 8\.0/))return!1;try{return window.self===window.top}catch(a){return!1}}function h(){return j.isIE()}function i(){var a=null,b="";try{new ActiveXObject("")}catch(c){b=c.name}try{a=!!new ActiveXObject("htmlfile")}catch(c){a=!1}return a="ReferenceError"===b||a!==!1,!a}var j=a("../useragent/browser"),k=a("../useragent/device"),l=a("../useragent/platform"),m=a("../useragent/useragent"),n=window.navigator.userAgent,o=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;b.exports={isMobile:c,isMobileDevice:d,detectedPostMessage:e,isPopupSupported:f,isOverlaySupported:g,isProxyFrameRequired:h,isMetroBrowser:i}},{"../useragent/browser":204,"../useragent/device":205,"../useragent/platform":206,"../useragent/useragent":207}],209:[function(a,b){function c(a,b){var c="innerText";document&&document.body&&"textContent"in document.body&&(c="textContent"),a[c]=b}b.exports={setTextContent:c}},{}],210:[function(a,b){function c(){for(var a="",b=0;32>b;b++){var c=Math.floor(16*Math.random());a+=c.toString(16)}return a}function d(a){return/^(true|1)$/i.test(a)}function e(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function f(a){var b=a.indexOf("?"),c={};if(b>=0&&(a=a.substr(b+1)),0!==a.length){for(var d=a.split("&"),e=0,f=d.length;f>e;e++){var g=d[e],h=g.indexOf("="),i=g.substr(0,h),j=g.substr(h+1),k=decodeURIComponent(j);k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"false"===k&&(k=!1),(void 0===k||"true"===k)&&(k=!0),c[i]=k}return c}}function g(a){return a&&"[object Function]"===Object.prototype.toString.call(a)}function h(a){a.preventDefault?a.preventDefault():a.returnValue=!1}var i="function"==typeof String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/,"")},j="function"==typeof window.btoa?function(a){return window.btoa(a)}:function(a){for(var b,c,d,e,f,g,h,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="",k=0;k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),j=j+i.charAt(e)+i.charAt(f)+i.charAt(g)+i.charAt(h);return j};b.exports={trim:i,btoa:j,generateUid:c,castToBoolean:d,htmlEscape:e,parseUrlParams:f,isFunction:g,preventDefault:h}},{}],211:[function(a,b){"use strict";function c(a){this.host=a||window,this.handlers=[],d.addEventListener(this.host,"message",d.bind(this.receive,this))}var d=a("braintree-utilities");c.prototype.receive=function(a){var b,d,e,f;try{e=JSON.parse(a.data)}catch(g){return}for(f=e.type,d=new c.Message(this,a.source,e.data),b=0;b<this.handlers.length;b++)this.handlers[b].type===f&&this.handlers[b].handler(d)},c.prototype.send=function(a,b,c){a.postMessage(JSON.stringify({type:b,data:c}),"*")},c.prototype.register=function(a,b){this.handlers.push({type:a,handler:b})},c.prototype.unregister=function(a,b){for(var c=this.handlers.length-1;c>=0;c--)if(this.handlers[c].type===a&&this.handlers[c].handler===b)return this.handlers.splice(c,1)},c.Message=function(a,b,c){this.bus=a,this.source=b,this.content=c},c.Message.prototype.reply=function(a,b){this.bus.send(this.source,a,b)},b.exports=c},{"braintree-utilities":221}],212:[function(a,b){"use strict";function c(a,b){this.bus=a,this.target=b,this.handlers=[],this.bus.register("publish",d.bind(this._handleMessage,this))}var d=a("braintree-utilities");c.prototype._handleMessage=function(a){var b,c=a.content,d=this.handlers[c.channel];if("undefined"!=typeof d)for(b=0;b<d.length;b++)d[b](c.data)},c.prototype.publish=function(a,b){this.bus.send(this.target,"publish",{channel:a,data:b})},c.prototype.subscribe=function(a,b){this.handlers[a]=this.handlers[a]||[],this.handlers[a].push(b)},c.prototype.unsubscribe=function(a,b){var c,d=this.handlers[a];if("undefined"!=typeof d)for(c=0;c<d.length;c++)d[c]===b&&d.splice(c,1)},b.exports=c},{"braintree-utilities":221}],213:[function(a,b){"use strict";function c(a){this.bus=a,this.frames=[],this.handlers=[]}c.prototype.subscribe=function(a,b){this.handlers[a]=this.handlers[a]||[],this.handlers[a].push(b)},c.prototype.registerFrame=function(a){this.frames.push(a)},c.prototype.unregisterFrame=function(a){for(var b=0;b<this.frames.length;b++)this.frames[b]===a&&this.frames.splice(b,1)},c.prototype.publish=function(a,b){var c,d=this.handlers[a];if("undefined"!=typeof d)for(c=0;c<d.length;c++)d[c](b);for(c=0;c<this.frames.length;c++)this.bus.send(this.frames[c],"publish",{channel:a,data:b})},c.prototype.unsubscribe=function(a,b){var c,d=this.handlers[a];if("undefined"!=typeof d)for(c=0;c<d.length;c++)d[c]===b&&d.splice(c,1)},b.exports=c},{}],214:[function(a,b){"use strict";function c(a,b){this.bus=a,this.target=b||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",d.bind(this._handleResponse,this))}var d=a("braintree-utilities");c.prototype._handleResponse=function(a){var b=a.content,c=this.callbacks[b.id];"function"==typeof c&&(c.apply(null,b.response),delete this.callbacks[b.id])},c.prototype.invoke=function(a,b,c){var d=this.counter++;this.callbacks[d]=c,this.bus.send(this.target,"rpc_request",{id:d,method:a,args:b})},b.exports=c},{"braintree-utilities":221}],215:[function(a,b){"use strict";function c(a){this.bus=a,this.methods={},this.bus.register("rpc_request",d.bind(this._handleRequest,this))}var d=a("braintree-utilities");c.prototype._handleRequest=function(a){var b,c=a.content,d=c.args||[],e=this.methods[c.method];"function"==typeof e&&(b=function(){a.reply("rpc_response",{id:c.id,response:Array.prototype.slice.call(arguments)})},d.push(b),e.apply(null,d))},c.prototype.define=function(a,b){this.methods[a]=b},b.exports=c},{"braintree-utilities":221}],216:[function(a,b){var c=a("./lib/message-bus"),d=a("./lib/pubsub-client"),e=a("./lib/pubsub-server"),f=a("./lib/rpc-client"),g=a("./lib/rpc-server");b.exports={MessageBus:c,PubsubClient:d,PubsubServer:e,RPCClient:f,RPCServer:g}},{"./lib/message-bus":211,"./lib/pubsub-client":212,"./lib/pubsub-server":213,"./lib/rpc-client":214,"./lib/rpc-server":215}],217:[function(a,b){"use strict";function c(a,b){if(b=b||"["+a+"] is not a valid DOM Element",a&&a.nodeType&&1===a.nodeType)return a;if(a&&window.jQuery&&a instanceof jQuery&&0!==a.length)return a[0];if("string"==typeof a&&document.getElementById(a))return document.getElementById(a);throw new Error(b)}b.exports={normalizeElement:c}},{}],218:[function(a,b){"use strict";function c(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function d(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}b.exports={removeEventListener:d,addEventListener:c}},{}],219:[function(a,b){"use strict";function c(a){return"[object Function]"===Object.prototype.toString.call(a)}function d(a,b){return function(){a.apply(b,arguments)}}b.exports={bind:d,isFunction:c}},{}],220:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],221:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":217,"./lib/events":218,"./lib/fn":219,"./lib/url":220,dup:26}],222:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],223:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],224:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],225:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],226:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],227:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":222,dup:40}],228:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":222,"./lib/dom":223,"./lib/events":224,"./lib/fn":225,"./lib/string":226,"./lib/url":227,dup:41}],229:[function(a,b){(function(a){"use strict";function c(a){if(("string"==typeof a||a instanceof String)&&(a=document.getElementById(a)),!(a instanceof HTMLFormElement))throw new TypeError("FormNapper requires an HTMLFormElement element or the id string of one.");this.htmlForm=a}c.prototype.hijack=function(b){function c(a){a.preventDefault?a.preventDefault():a.returnValue=!1,b(a)}null!=a.addEventListener?this.htmlForm.addEventListener("submit",c,!1):null!=a.attachEvent?this.htmlForm.attachEvent("onsubmit",c):this.htmlForm.onsubmit=c},c.prototype.inject=function(a,b){var c=this.htmlForm.querySelector('input[name="'+a+'"]');null==c&&(c=document.createElement("input"),c.type="hidden",c.name=a,this.htmlForm.appendChild(c)),c.value=b},c.prototype.submit=function(){HTMLFormElement.prototype.submit.call(this.htmlForm)},b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],230:[function(a,b,c){arguments[4][74][0].apply(c,arguments)},{"./lib/default-attributes":231,dup:74,"lodash.assign":232,"lodash.isstring":243}],231:[function(a,b,c){arguments[4][75][0].apply(c,arguments)},{dup:75}],232:[function(a,b,c){arguments[4][76][0].apply(c,arguments)},{dup:76,"lodash._baseassign":233,"lodash._createassigner":235,"lodash.keys":239}],233:[function(a,b,c){arguments[4][77][0].apply(c,arguments)},{dup:77,"lodash._basecopy":234,"lodash.keys":239}],234:[function(a,b,c){arguments[4][78][0].apply(c,arguments)},{dup:78}],235:[function(a,b,c){arguments[4][79][0].apply(c,arguments)},{dup:79,"lodash._bindcallback":236,"lodash._isiterateecall":237,"lodash.restparam":238}],236:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{dup:80}],237:[function(a,b,c){arguments[4][81][0].apply(c,arguments)},{dup:81}],238:[function(a,b,c){arguments[4][82][0].apply(c,arguments)},{dup:82}],239:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46,"lodash._getnative":240,"lodash.isarguments":241,"lodash.isarray":242}],240:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],241:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],242:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],243:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],244:[function(a,b){"use strict";function c(a){this.apiClient=a}var d=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];c.prototype.attach=function(a){function b(b){a.define(b,function(){c.apiClient[b].apply(c.apiClient,arguments)})}var c=this,e=0,f=d.length;for(e;f>e;e++)b(d[e])},b.exports=c},{}],245:[function(a,b){"use strict";function c(a,b){
var c=window.getComputedStyle?getComputedStyle(a):a.currentStyle;return c[b]}function d(){return{html:{height:g.style.height||"",overflow:c(g,"overflow"),position:c(g,"position")},body:{height:h.style.height||"",overflow:c(h,"overflow")}}}function e(){var a=/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent);return a}function f(a){var b,c,d;this.merchantConfiguration=a.merchantConfiguration,this.encodedClientToken=a.gatewayConfiguration,this.analyticsConfiguration=a.analyticsConfiguration,this.paypalOptions=a.merchantConfiguration.paypal,this.container=null,this.merchantFormManager=null,this.root=a.root,this.configurationRequests=[],this.braintreeApiClient=i.configure({clientToken:a.gatewayConfiguration,analyticsConfiguration:this.analyticsConfiguration,integration:"dropin",enableCORS:this.merchantConfiguration.enableCORS}),this.paymentMethodNonceReceivedCallback=a.merchantConfiguration.paymentMethodNonceReceived,this.clientToken=i.parseClientToken(a.gatewayConfiguration),this.bus=new k.MessageBus(this.root),this.rpcServer=new k.RPCServer(this.bus),this.apiProxyServer=new m(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),b=a.inlineFramePath||this.clientToken.assetsUrl+"/dropin/"+s+"/inline-frame.html",c=a.modalFramePath||this.clientToken.assetsUrl+"/dropin/"+s+"/modal-frame.html",g=document.documentElement,h=document.body,this.frames={inline:this._createFrame(b,q.INLINE_FRAME_NAME),modal:this._createFrame(c,q.MODAL_FRAME_NAME)},this.container=l.normalizeElement(a.merchantConfiguration.container,"Unable to find valid container."),d=l.normalizeElement(a.merchantConfiguration.form||this._findClosest(this.container,"form")),this.merchantFormManager=new n({form:d,frames:this.frames,onSubmit:this.paymentMethodNonceReceivedCallback,apiClient:this.braintreeApiClient}).initialize(),a.gatewayConfiguration.paypalEnabled&&a.gatewayConfiguration.paypal&&(l.isBrowserHttps()||a.gatewayConfiguration.paypal.allowHttp)&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}var g,h,i=a("braintree-api"),j=a("braintree-bus"),k=a("braintree-rpc"),l=a("braintree-utilities"),m=a("./api-proxy-server"),n=a("./merchant-form-manager"),o=a("./frame-container"),p=a("../shared/paypal-service"),q=a("../shared/constants"),r=a("braintree-paypal/src/shared/util/browser"),s="1.8.3";f.prototype.initialize=function(){var a,b=this;this._initializeModal(),j.emit(j.events.ASYNC_DEPENDENCY_INITIALIZING),this.container.appendChild(this.frames.inline.element),h.appendChild(this.frames.modal.element),this.rpcServer.define("receiveSharedCustomerIdentifier",function(c){for(b.braintreeApiClient.attrs.sharedCustomerIdentifier=c,b.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store",a=0;a<b.configurationRequests.length;a++)b.configurationRequests[a](b.encodedClientToken);b.configurationRequests=[]}),j.on(j.events.PAYMENT_METHOD_GENERATED,l.bind(this._handleAltPayData,this)),this.rpcServer.define("getConfiguration",function(a){a({enableCORS:b.merchantConfiguration.enableCORS,clientToken:b.encodedClientToken,analyticsConfiguration:b.analyticsConfiguration,merchantHttps:l.isBrowserHttps()})}),this.rpcServer.define("getPayPalOptions",function(a){a(b.paypalOptions)}),this.rpcServer.define("selectPaymentMethod",function(a){b.frames.modal.rpcClient.invoke("selectPaymentMethod",[a]),b._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(a){b.merchantFormManager.setNoncePayload(a),b.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[a])}),this.rpcServer.define("sendUsedPaymentMethod",function(a){b.frames.inline.rpcClient.invoke("selectPaymentMethod",[a])}),this.rpcServer.define("sendUnlockedNonce",function(a){b.merchantFormManager.setNoncePayload(a)}),this.rpcServer.define("clearNonce",function(){b.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){b._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(a){b.frames.inline.element.style.height=a+"px"}),this.bus.register("ready",function(a){a.source===b.frames.inline.element.contentWindow?b.frames.inline.rpcClient=new k.RPCClient(b.bus,a.source):a.source===b.frames.modal.element.contentWindow&&(b.frames.modal.rpcClient=new k.RPCClient(b.bus,a.source))})},f.prototype._createFrame=function(a,b){return new o(a,b)},f.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=e()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},f.prototype._lockMerchantWindowSize=function(){setTimeout(function(){g.style.overflow="hidden",h.style.overflow="hidden",h.style.height="100%",e()&&(g.style.position="relative",g.style.height=window.innerHeight+"px")},160)},f.prototype._unlockMerchantWindowSize=function(){var a=this.merchantPageDefaultStyles;h.style.height=a.body.height,h.style.overflow=a.body.overflow,g.style.overflow=a.html.overflow,e()&&(g.style.height=a.html.height,g.style.position=a.html.position)},f.prototype._showModal=function(){var a=this,b=this.frames.modal.element;this.merchantPageDefaultStyles=d(),b.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){a._lockMerchantWindowSize(),b.contentWindow.focus()},200)})},f.prototype._hideModal=function(){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none"},f.prototype._configurePayPal=function(){r.isPopupSupported()||(this.ppClient=new p({clientToken:this.clientToken,paypal:this.paypalOptions}),this.rpcServer.define("openPayPalModal",l.bind(this.ppClient._openModal,this.ppClient))),j.on("receivePayPalData",l.bind(this._handleAltPayData,this))},f.prototype._handleAltPayData=function(a){this.merchantFormManager.setNoncePayload(a),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[a]),this.frames.modal.rpcClient.invoke("modalViewClose")},f.prototype._findClosest=function(a,b){b=b.toUpperCase();do if(a.nodeName===b)return a;while(a=a.parentNode);throw"Unable to find a valid "+b},b.exports=f},{"../shared/constants":249,"../shared/paypal-service":250,"./api-proxy-server":244,"./frame-container":247,"./merchant-form-manager":248,"braintree-api":107,"braintree-bus":136,"braintree-paypal/src/shared/util/browser":208,"braintree-rpc":216,"braintree-utilities":228}],246:[function(a,b){"use strict";function c(a){var b=new d(a);return b.initialize(),b}var d=a("./client"),e="1.8.3";b.exports={create:c,VERSION:e}},{"./client":245}],247:[function(a,b){"use strict";function c(){var a,b=document.createElement("fakeelement");for(a in i)if("undefined"!=typeof b.style[a])return i[a];return null}function d(a){function b(c){c.target===a&&"height"===c.propertyName&&(f.emit(f.events.ASYNC_DEPENDENCY_READY),a.removeEventListener(d,b))}var d=c();d?a.addEventListener(d,b):setTimeout(function(){f.emit(f.events.ASYNC_DEPENDENCY_READY)},500)}function e(a,b){var c="height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000)";this.element=h({name:b,width:"100%",height:"68",style:{transition:c,WebkitTransition:c,MozTransition:c,msTransition:c,OTransition:c,border:"0",zIndex:"9999"}}),this.element.src=a,b===g.INLINE_FRAME_NAME&&d(this.element)}var f=a("braintree-bus"),g=a("../shared/constants"),h=a("iframer"),i={transition:"transitionend","-o-transition":"otransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};b.exports=e},{"../shared/constants":249,"braintree-bus":136,iframer:230}],248:[function(a,b){"use strict";function c(a){this.formNapper=new e(a.form),this.frames=a.frames,this.onSubmit=a.onSubmit,this.apiClient=a.apiClient}var d=a("braintree-utilities"),e=a("form-napper");c.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},c.prototype.setNoncePayload=function(a){this.noncePayload=a},c.prototype.clearNoncePayload=function(){this.noncePayload=null},c.prototype._isSubmitBased=function(){return!this.onSubmit},c.prototype._isCallbackBased=function(){return!!this.onSubmit},c.prototype._setElements=function(){this.formNapper.inject("payment_method_nonce","")},c.prototype._setEvents=function(){this.formNapper.hijack(d.bind(this._handleFormSubmit,this))},c.prototype._handleFormSubmit=function(a){this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(a):this.frames.inline.rpcClient.invoke("requestNonce",[],d.bind(function(b){this.setNoncePayload(b),this._handleNonceReply(a)},this))},c.prototype._handleNonceReply=function(a){this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",d.bind(function(){var b=this.noncePayload;b.originalEvent=a,this.onSubmit(b),setTimeout(d.bind(function(){this.frames.inline.rpcClient.invoke("clearLoadingState"),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[b])},this),200)},this)):this._triggerFormSubmission()},c.prototype._triggerFormSubmission=function(){this.formNapper.inject("payment_method_nonce",this.noncePayload.nonce),this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",d.bind(function(){this.formNapper.submit()},this))},b.exports=c},{"braintree-utilities":228,"form-napper":229}],249:[function(a,b){b.exports={PAYPAL_INTEGRATION_NAME:"PayPal",INLINE_FRAME_NAME:"braintree-dropin-frame",MODAL_FRAME_NAME:"braintree-dropin-modal-frame",PAYMENT_METHOD_TYPES:["CoinbaseAccount","PayPalAccount","CreditCard"],cssClassMap:{"American Express":"american-express","Diners Club":"diners-club",DinersClub:"diners-club",Discover:"discover",JCB:"jcb",Maestro:"maestro",MasterCard:"master-card",Solo:"solo",Switch:"switch",UKMaestro:"maestro",UnionPay:"unionpay",Visa:"visa"}}},{}],250:[function(a,b){"use strict";function c(a){var b=a.clientToken,c=a.paypal||{},e=new d(b,{container:document.createElement("div"),displayName:c.displayName,locale:c.locale,singleUse:c.singleUse,amount:c.amount,currency:c.currency,onSuccess:c.onSuccess,enableShippingAddress:c.enableShippingAddress,shippingAddressOverride:c.shippingAddressOverride,enableBillingAddress:c.enableBillingAddress});return e.initialize(),e}var d=a("braintree-paypal/src/external/client");b.exports=c},{"braintree-paypal/src/external/client":197}],251:[function(a,b){(function(a){"use strict";function c(a,b){b=b||{};var e,g,h=a.children;for(g=0;g<h.length;g++)if(e=h[g],f(e)){var i=e.getAttribute("data-braintree-name");"postal_code"===i?b.billingAddress={postalCode:e.value}:b[i]=e.value,d(e)}else e.children&&e.children.length>0&&c(e,b);return b}function d(a){try{a.attributes.removeNamedItem("name")}catch(b){}}function e(a){c(a)}function f(a){return a.nodeType===g&&a.attributes["data-braintree-name"]}var g=a.Node?a.Node.ELEMENT_NODE:1;b.exports={extractValues:c,scrubAllAttributes:e,scrubAttributes:d,isBraintreeNode:f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],252:[function(a,b){"use strict";function c(a,b,c,d){this.client=a,this.htmlForm=b,this.isCreditCardForm=d!==!1,this.paymentMethodNonceInput=c,this.model=new g,this.setEvents()}var d=a("braintree-utilities"),e=a("./fields"),f=a("braintree-bus"),g=a("./models/payment-method-model"),h={message:"Unable to process payments at this time",type:"IMMEDIATE"};c.prototype.setEvents=function(){this.onSubmitHandler=d.bind(this.handleSubmit,this),this.onExternalNonceReceived=d.bind(this.onExternalNonceReceived,this),this.clearExternalNonce=d.bind(this.clearExternalNonce,this),d.addEventListener(this.htmlForm,"submit",this.onSubmitHandler),f.on(f.events.PAYMENT_METHOD_GENERATED,this.onExternalNonceReceived),f.on(f.events.PAYMENT_METHOD_CANCELLED,this.clearExternalNonce)},c.prototype.handleSubmit=function(a){var b;return a.preventDefault?a.preventDefault():a.returnValue=!1,this.isCreditCardForm?(b=this.model.get("type"),b&&"CreditCard"!==b?(e.scrubAllAttributes(this.htmlForm),void this.onNonceReceived(null,this.model.attributes)):void this.client.tokenizeCard(e.extractValues(this.htmlForm),d.bind(function(a,b,c){a?this.onNonceReceived(h,null):(this.model.set({nonce:b,type:c.type,details:c.details}),this.onNonceReceived(null,this.model.attributes))},this))):void this.onNonceReceived(null,this.model.attributes)},c.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.model.get("nonce")},c.prototype.onExternalNonceReceived=function(a){this.model.set(a),this.writeNonceToDOM()},c.prototype.clearExternalNonce=function(){this.model.reset()},c.prototype.onNonceReceived=function(a){var b=this.htmlForm;return a?void f.emit(f.events.ERROR,h):(d.removeEventListener(b,"submit",this.onSubmitHandler),this.writeNonceToDOM(),void(b.submit&&("function"==typeof b.submit||b.submit.call)?b.submit():setTimeout(function(){b.querySelector('[type="submit"]').click()},1)))},b.exports=c},{"./fields":251,"./models/payment-method-model":254,"braintree-bus":257,"braintree-utilities":264}],253:[function(a,b){"use strict";b.exports=function(a){var b;if("object"==typeof a)return a;b="payment_method_nonce","string"==typeof a&&(b=a);var c=document.createElement("input");return c.name=b,c.type="hidden",c}},{}],254:[function(a,b){"use strict";function c(){this.reset()}c.prototype.get=function(a){return this.attributes[a]},c.prototype.set=function(a){this.attributes=a||{}},c.prototype.reset=function(){this.attributes={}},b.exports=c},{}],255:[function(a,b){"use strict";b.exports=function(a){for(var b=a.getElementsByTagName("*"),c={},d=0;d<b.length;d++){var e=b[d].getAttribute("data-braintree-name");c[e]=!0}if(!c.number)throw new Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(c.expiration_date){if(c.expiration_month||c.expiration_year)throw new Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!c.expiration_month&&!c.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!c.expiration_month)throw new Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!c.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}}},{}],256:[function(a,b){"use strict";function c(a,b){var c,g,h=document.getElementById(b.id),i=b&&b.hasOwnProperty("useCreditCard")?b.useCreditCard:!0;if(!h)throw new Error('Unable to find form with id: "'+b.id+'"');return i&&e(h),c=f(b.paymentMethodNonceInputField),h.appendChild(c),g=new d(a,h,c,i)}var d=a("./lib/form"),e=a("./lib/validate-annotations"),f=a("./lib/get-nonce-input");b.exports={setup:c}},{"./lib/form":252,"./lib/get-nonce-input":253,"./lib/validate-annotations":255}],257:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"./lib/events":258,dup:50,framebus:259}],258:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],259:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],260:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],261:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],262:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],263:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],264:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":260,"./lib/events":261,"./lib/fn":262,"./lib/url":263,dup:26}],265:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{"./coinbase-account":266,"./credit-card":268,"./europe-bank-account":269,"./normalize-api-fields":271,"./parse-client-token":272,"./paypal-account":273,"./request/choose-driver":276,"./sepa-mandate":281,"./should-enable-cors":282,"./util":283,"braintree-3ds":292,"braintree-utilities":304,dup:2}],266:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],267:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],268:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],269:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],270:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{"./parse-client-token":272,"./request/choose-driver":276,"./should-enable-cors":282,"./util":283,dup:7}],271:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{dup:8}],272:[function(a,b,c){arguments[4][9][0].apply(c,arguments)},{"./polyfill":274,"braintree-utilities":304,dup:9}],273:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{dup:10}],274:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],275:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"../constants":267,"../util":283,"./parse-body":279,"./prep-body":280,dup:12}],276:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"../util":283,"./ajax-driver":275,"./jsonp-driver":277,dup:13}],277:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{"../constants":267,"./jsonp":278,dup:14}],278:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{"../util":283,dup:15}],279:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],280:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17,"lodash.isstring":312}],281:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],282:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],283:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{dup:20,"lodash.isempty":305,"lodash.isobject":311}],284:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{"./lib/client":265,"./lib/get-configuration":270,"./lib/parse-client-token":272,"./lib/util":283,dup:21}],285:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],286:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],287:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],288:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],289:[function(a,b,c){arguments[4][26][0].apply(c,arguments)},{"./lib/dom":285,"./lib/events":286,"./lib/fn":287,"./lib/url":288,dup:26}],290:[function(a,b,c){arguments[4][27][0].apply(c,arguments)},{"../shared/receiver":297,"braintree-utilities":289,dup:27}],291:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{"./authorization_service":290,"./loader":293,"braintree-utilities":289,dup:28}],292:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"./client":291,dup:29}],293:[function(a,b,c){arguments[4][30][0].apply(c,arguments)},{"./loader_display":294,"./loader_message":295,"./loader_spinner":296,dup:30}],294:[function(a,b,c){arguments[4][31][0].apply(c,arguments)},{dup:31}],295:[function(a,b,c){arguments[4][32][0].apply(c,arguments)},{dup:32}],296:[function(a,b,c){arguments[4][33][0].apply(c,arguments)},{dup:33}],297:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"braintree-utilities":289,dup:34}],298:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],299:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],300:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],301:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],302:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],303:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":298,dup:40}],304:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":298,"./lib/dom":299,"./lib/events":300,"./lib/fn":301,"./lib/string":302,"./lib/url":303,dup:41}],305:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{dup:42,"lodash.isarguments":306,"lodash.isarray":307,"lodash.isfunction":308,"lodash.isstring":312,"lodash.keys":309}],306:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],307:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],308:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],309:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46,"lodash._getnative":310,"lodash.isarguments":306,"lodash.isarray":307}],310:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],311:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{dup:48}],312:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{dup:49}],313:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"./lib/events":314,dup:50,framebus:315}],314:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{dup:51}],315:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{dup:52}],316:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],317:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],318:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],319:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],320:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],321:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":316,dup:40}],322:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":316,"./lib/dom":317,"./lib/events":318,"./lib/fn":319,"./lib/string":320,"./lib/url":321,dup:41}],323:[function(a,b,c){arguments[4][197][0].apply(c,arguments)},{"../shared/constants":328,"../shared/get-locale":330,"../shared/util/browser":335,"../shared/util/dom":336,"../shared/util/util":337,"./logged-in-view":325,"./logged-out-view":326,"./overlay-view":327,"braintree-api":284,"braintree-bus":313,"braintree-utilities":322,dup:197}],324:[function(a,b){function c(a,b){if(!e.detectedPostMessage())return void("function"==typeof b.onUnsupported&&b.onUnsupported(new Error("unsupported browser detected")));var c=new d(a,b);return c.initialize(),c}var d=a("./client"),e=a("../shared/util/browser"),f="1.5.3";b.exports={create:c,_browser:e,VERSION:f}},{"../shared/util/browser":335,"./client":323}],325:[function(a,b,c){arguments[4][198][0].apply(c,arguments)},{"../shared/constants":328,dup:198}],326:[function(a,b,c){arguments[4][199][0].apply(c,arguments)},{"../shared/constants":328,"../shared/get-locale":330,"braintree-utilities":322,dup:199}],327:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"../shared/constants":328,"braintree-utilities":322,dup:200}],328:[function(a,b,c){arguments[4][201][0].apply(c,arguments)},{dup:201}],329:[function(a,b,c){arguments[4][202][0].apply(c,arguments)},{dup:202}],330:[function(a,b,c){arguments[4][203][0].apply(c,arguments)},{"../shared/data/country-code-lookup":329,dup:203}],331:[function(a,b,c){arguments[4][204][0].apply(c,arguments)},{"./platform":333,"./useragent":334,dup:204}],332:[function(a,b,c){arguments[4][205][0].apply(c,arguments)},{"./platform":333,"./useragent":334,dup:205}],333:[function(a,b,c){arguments[4][206][0].apply(c,arguments)},{"./useragent":334,dup:206}],334:[function(a,b,c){arguments[4][207][0].apply(c,arguments)},{dup:207}],335:[function(a,b,c){arguments[4][208][0].apply(c,arguments)},{"../useragent/browser":331,"../useragent/device":332,"../useragent/platform":333,"../useragent/useragent":334,dup:208}],336:[function(a,b,c){arguments[4][209][0].apply(c,arguments)},{dup:209}],337:[function(a,b,c){arguments[4][210][0].apply(c,arguments)},{dup:210}],338:[function(a,b,c){arguments[4][35][0].apply(c,arguments)},{dup:35}],339:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],340:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],341:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],342:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{dup:39}],343:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{"./array":338,dup:40}],344:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/array":338,"./lib/dom":339,"./lib/events":340,"./lib/fn":341,"./lib/string":342,"./lib/url":343,dup:41}],345:[function(a,b){function c(a,b,c){return"function"==typeof b?d(a,!0,e(b,c,1)):d(a,!0)}var d=a("lodash._baseclone"),e=a("lodash._bindcallback");b.exports=c},{"lodash._baseclone":346,"lodash._bindcallback":356}],346:[function(a,b){(function(c){function d(a,b,c,f,n,p,r){var s;if(c&&(s=n?c(a,f,n):c(a)),void 0!==s)return s;if(!j(a))return a;var t=o(a);if(t){if(s=g(a),!b)return k(a,s)}else{var u=R.call(a),w=u==v;if(u!=y&&u!=q&&(!w||n))return O[u]?i(a,u,b):n?a:{};if(s=h(w?{}:a),!b)return m(s,a)}p||(p=[]),r||(r=[]);for(var x=p.length;x--;)if(p[x]==a)return r[x];return p.push(a),r.push(s),(t?l:e)(a,function(e,f){s[f]=d(e,b,c,f,a,p,r)}),s}function e(a,b){return n(a,b,p)}function f(a){var b=new S(a.byteLength),c=new T(b);return c.set(new T(a)),b}function g(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Q.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function h(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Object),new b}function i(a,b,c){var d=a.constructor;switch(b){case D:return f(a);case s:case t:return new d(+a);case E:case F:case G:case H:case I:case J:case K:case L:case M:var e=a.buffer;return new d(c?f(e):e,a.byteOffset,a.length);case x:case B:return new d(a);case z:var g=new d(a.source,N.exec(a));g.lastIndex=a.lastIndex}return g}function j(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var k=a("lodash._arraycopy"),l=a("lodash._arrayeach"),m=a("lodash._baseassign"),n=a("lodash._basefor"),o=a("lodash.isarray"),p=a("lodash.keys"),q="[object Arguments]",r="[object Array]",s="[object Boolean]",t="[object Date]",u="[object Error]",v="[object Function]",w="[object Map]",x="[object Number]",y="[object Object]",z="[object RegExp]",A="[object Set]",B="[object String]",C="[object WeakMap]",D="[object ArrayBuffer]",E="[object Float32Array]",F="[object Float64Array]",G="[object Int8Array]",H="[object Int16Array]",I="[object Int32Array]",J="[object Uint8Array]",K="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",N=/\w*$/,O={};O[q]=O[r]=O[D]=O[s]=O[t]=O[E]=O[F]=O[G]=O[H]=O[I]=O[x]=O[y]=O[z]=O[B]=O[J]=O[K]=O[L]=O[M]=!0,O[u]=O[v]=O[w]=O[A]=O[C]=!1;var P=Object.prototype,Q=P.hasOwnProperty,R=P.toString,S=c.ArrayBuffer,T=c.Uint8Array;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._arraycopy":347,"lodash._arrayeach":348,"lodash._baseassign":349,"lodash._basefor":351,"lodash.isarray":352,"lodash.keys":353}],347:[function(a,b){function c(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=c},{}],348:[function(a,b){function c(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=c},{}],349:[function(a,b,c){arguments[4][77][0].apply(c,arguments)},{dup:77,"lodash._basecopy":350,"lodash.keys":353}],350:[function(a,b,c){arguments[4][78][0].apply(c,arguments)},{dup:78}],351:[function(a,b){function c(a){return function(b,c,e){for(var f=d(b),g=e(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}function d(a){return e(a)?a:Object(a)}function e(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var f=c();b.exports=f},{}],352:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{dup:44}],353:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46,"lodash._getnative":354,"lodash.isarguments":355,"lodash.isarray":352}],354:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{dup:47}],355:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],356:[function(a,b,c){arguments[4][80][0].apply(c,arguments)},{dup:80}],357:[function(a,b){"use strict";function c(a){var b,c={};if(a){for(b in a)a.hasOwnProperty(b)&&(c[d(b)]=a[b]);return c}}function d(a){return a.replace(/([A-Z])/g,function(a){return"_"+a.toLowerCase()})}b.exports={convertToLegacyShippingAddress:c}},{}],358:[function(a,b){"use strict";b.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError",ROOT_READY_CALLBACK:"onReady"}},{}],359:[function(a,b){"use strict";function c(a){var b=g(a.merchantConfiguration);return f.on(f.events.PAYMENT_METHOD_GENERATED,function(a){f.emit(f.events.PAYMENT_METHOD_RECEIVED,a)}),b.configuration=g(a.gatewayConfiguration),b.coinbase=g(b.coinbase||{}),b.apiClient=new d.Client({enableCORS:a.merchantConfiguration.enableCORS,clientToken:a.gatewayConfiguration,integration:"coinbase"}),e.create(b)}var d=a("braintree-api"),e=a("braintree-coinbase"),f=a("braintree-bus"),g=a("lodash.clonedeep");b.exports={initialize:c}},{"braintree-api":21,"braintree-bus":50,"braintree-coinbase":53,"lodash.clonedeep":345}],360:[function(a,b){"use strict";function c(a){var b,c={clientToken:a.gatewayConfiguration,integration:a.integrationType};a.merchantConfiguration.enableCORS&&(c.enableCORS=!0),b=new h.Client(c),d(a,b),e(a),f(a,b)}function d(a,b){var c,d=a.merchantConfiguration,e=d[m.ROOT_SUCCESS_CALLBACK];d.id?(c=i.setup(b,d),l.isFunction(e)&&(c.onNonceReceived=function(a,b){a?n.emit(n.events.ERROR,a):e(b)})):n.on(n.events.PAYMENT_METHOD_GENERATED,function(a){n.emit(n.events.PAYMENT_METHOD_RECEIVED,a)})}function e(a){var b,c,d,e,f=a.merchantConfiguration,h=f.paypal;h&&(b=g(f,"paypal"),c=b("onSuccess"),d=b("onCancelled"),h.paymentMethodNonceInputField||(e=document.createElement("input"),e.id="braintree-custom-integration-dummy-input",h.paymentMethodNonceInputField=e),h.onSuccess=function(a){n.emit(n.events.PAYMENT_METHOD_GENERATED,a),c.apply(null,[a.nonce,a.details.email,o(a.details.shippingAddress)])},h.onCancelled=function(){n.emit(n.events.PAYMENT_METHOD_CANCELLED),d()},f.enableCORS&&(h.enableCORS=!0),j.create(a.gatewayConfiguration,h))}function f(a,b){var c=a.merchantConfiguration;c.coinbase&&(c.configuration=a.gatewayConfiguration,c.apiClient=b,delete c.paypal,k.create(c))}function g(a,b){return function(c){return b in a&&l.isFunction(a[b][c])?a[b][c]:function(){}}}var h=a("braintree-api"),i=a("braintree-form"),j=a("braintree-paypal"),k=a("braintree-coinbase"),l=a("braintree-utilities"),m=a("../constants"),n=a("braintree-bus"),o=a("../compatibility").convertToLegacyShippingAddress;b.exports={initialize:c}},{"../compatibility":357,"../constants":358,"braintree-api":21,"braintree-bus":50,"braintree-coinbase":53,"braintree-form":256,"braintree-paypal":324,"braintree-utilities":344}],361:[function(a,b){"use strict";function c(a){return g.isFunction(a.paymentMethodNonceReceived)?a.paymentMethodNonceReceived:null}function d(a){return g.isFunction(a[i.ROOT_SUCCESS_CALLBACK])}function e(a){var b=a.merchantConfiguration,e=c(b),g=d(b);return(e||g)&&(b.paymentMethodNonceReceived=function(a){e&&e.apply(null,[a.originalEvent,a.nonce]),delete a.originalEvent,h.emit(h.events.PAYMENT_METHOD_RECEIVED,j(a))}),f.create(a)}var f=a("braintree-dropin"),g=a("braintree-utilities"),h=a("braintree-bus"),i=a("../constants"),j=a("../lib/sanitize-payload");b.exports={initialize:e}},{"../constants":358,"../lib/sanitize-payload":366,"braintree-bus":50,"braintree-dropin":246,"braintree-utilities":344}],362:[function(a,b){"use strict";b.exports={custom:a("./custom"),dropin:a("./dropin"),paypal:a("./paypal"),coinbase:a("./coinbase")}},{"./coinbase":359,"./custom":360,"./dropin":361,"./paypal":363}],363:[function(a,b){"use strict";function c(a){return"onSuccess"in a&&g.isFunction(a.onSuccess)?a.onSuccess:"paypal"in a&&g.isFunction(a.paypal.onSuccess)?a.paypal.onSuccess:null}function d(a){return g.isFunction(a[h.ROOT_SUCCESS_CALLBACK])}function e(a){var b=a.merchantConfiguration,e=c(b),g=d(b);return(e||g)&&(b.onSuccess=function(a){e&&e.apply(null,[a.nonce,a.details.email,j(a.details.shippingAddress)]),i.emit(i.events.PAYMENT_METHOD_RECEIVED,a)}),f.create(a.gatewayConfiguration,b)}var f=a("braintree-paypal"),g=a("braintree-utilities"),h=a("../constants"),i=a("braintree-bus"),j=a("../compatibility").convertToLegacyShippingAddress;b.exports={initialize:e}},{"../compatibility":357,"../constants":358,"braintree-bus":50,"braintree-paypal":324,"braintree-utilities":344}],364:[function(a,b){"use strict";function c(a){var b="web."+a.integrationType+".",c=e.configure({
enableCORS:a.merchantConfiguration.enableCORS,clientToken:a.gatewayConfiguration,analyticsConfiguration:a.analyticsConfiguration,integration:a.integrationType}),g=d(b,c);f.on(f.events.SEND_ANALYTICS_EVENTS,g)}function d(a,b){return function(c,d){var e;for(c instanceof Array||(c=[c]),e=0;e<c.length;e++)c[e]=a+c[e];b.sendAnalyticsEvents(c,d)}}var e=a("braintree-api"),f=a("braintree-bus");b.exports={listenForAnalytics:c,_createSender:d}},{"braintree-api":21,"braintree-bus":50}],365:[function(a,b){"use strict";function c(a){this.callback=a,this.counter=0,this.attachEvents()}var d=a("braintree-bus"),e=a("braintree-utilities");c.prototype.attachEvents=function(){this.initHandler=e.bind(this.handleDependencyInitializing,this),this.readyHandler=e.bind(this.handleDependencyReady,this),d.on(d.events.ASYNC_DEPENDENCY_INITIALIZING,this.initHandler),d.on(d.events.ASYNC_DEPENDENCY_READY,this.readyHandler)},c.prototype.handleDependencyInitializing=function(){this.counter++},c.prototype.handleDependencyReady=function(){this.counter--,0===this.counter&&(this.detachEvents(),this.callback())},c.prototype.detachEvents=function(){d.off(d.events.ASYNC_DEPENDENCY_INITIALIZING,this.initHandler),d.off(d.events.ASYNC_DEPENDENCY_READY,this.readyHandler)},b.exports=function(a){return new c(a)}},{"braintree-bus":50,"braintree-utilities":344}],366:[function(a,b){"use strict";b.exports=function(a){return{nonce:a.nonce,details:a.details,type:a.type}}},{}]},{},[1])(1)});