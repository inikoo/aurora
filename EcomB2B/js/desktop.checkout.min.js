function cancel_use_this_card(a){$(a).closest("div.row").find(".delete_this_credit_card").removeClass("hide"),$(a).closest("div.row").find(".cancel_use_this_card").addClass("hide"),$(".cvv_for_saved_card").addClass("invisible"),$(".check_icon_saved_card").addClass("fa-circle").removeClass("fa-check-circle success"),$(a).closest("fieldset").find(".row").removeClass("hide")}function place_order(a){var b=$(a);if(!b.hasClass("wait")){b.addClass("wait"),b.find("i").removeClass("fa-arrow-right").addClass("fa-spinner fa-spin");var c=$(a).data("settings"),d=new FormData;d.append("tipo",c.tipo),d.append("payment_account_key",c.payment_account_key),d.append("order_key",c.order_key),$.ajax({url:"/ar_web_checkout.php",type:"POST",data:d,dataType:"json",cache:!1,contentType:!1,processData:!1,complete:function(){},success:function(a){if("200"==a.state){$(".ordered_products_number").html("0"),$(".order_total").html("");var c=new Date,d=c.getTime();c.setTime(d+3e5);var e="expires="+c.toUTCString();document.cookie="au_pu_"+a.order_key+"="+a.order_key+";"+e+";path=/",window.location.replace("thanks.sys?order_key="+a.order_key+"&t="+d)}else"400"==a.state&&(b.removeClass("wait"),b.find("i").addClass("fa-arrow-right").removeClass("fa-spinner fa-spin"),swal("Error!",a.msg,"error"))},error:function(){}})}}function use_this_credit_card(a){$(".credit_cards_row").addClass("hide");var b=$(a).closest(".credit_cards_row").find(".card_info");$(".credit_card_input_row").removeClass("hide").find(".card_info").html(b.html()).data("token",b.data("token")),$("#BTree_saved_credit_cards_form .show_saved_cards_list").removeClass("hide")}function use_other_credit_card(){$("#BTree_saved_credit_cards_form").addClass("hide"),$("#BTree_credit_card_form").removeClass("hide")}function show_saved_cards(){$("#BTree_saved_credit_cards_form").removeClass("hide"),$("#BTree_credit_card_form").addClass("hide"),$("#BTree_saved_credit_cards_form .show_saved_cards_list").addClass("hide"),$(".credit_cards_row").removeClass("hide"),$(".credit_card_input_row").addClass("hide")}function show_charges_info(){var a="/ar_web_basket.php?tipo=get_charges_info";$.getJSON(a,function(a){200==a.state&&swal({html:!0,title:"",text:a.text})})}!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;((b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree||(b.braintree={})).paypalCheckout=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";var d=a("promise-polyfill");b.exports=c.Promise||d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":7}],2:[function(a,b,c){"use strict";function d(a){var b,c,d,g,h=JSON.stringify(a);return!a.forceScriptReload&&(g=f[h])?g:(d=document.createElement("script"),b=a.dataAttributes||{},c=a.container||document.head,d.src=a.src,d.id=a.id,d.async=!0,Object.keys(b).forEach(function(a){d.setAttribute("data-"+a,b[a])}),g=new e(function(b,e){d.addEventListener("load",function(){b(d)}),d.addEventListener("error",function(){e(new Error(a.src+" failed to load."))}),d.addEventListener("abort",function(){e(new Error(a.src+" has aborted."))}),c.appendChild(d)}),f[h]=g)}var e=a("./lib/promise"),f={};d.clearCache=function(){f={}},b.exports=d},{"./lib/promise":1}],3:[function(a,b,c){"use strict";b.exports=function(a){return function(){var b=arguments;setTimeout(function(){a.apply(null,b)},1)}}},{}],4:[function(a,b,c){"use strict";b.exports=function(a){var b=!1;return function(){b||(b=!0,a.apply(null,arguments))}}},{}],5:[function(a,b,c){"use strict";b.exports=function(a,b){return b?void a.then(function(a){b(null,a)})["catch"](function(a){b(a)}):a}},{}],6:[function(a,b,c){"use strict";function d(a){return function(){var b,c=Array.prototype.slice.call(arguments);return"function"==typeof c[c.length-1]&&(b=c.pop(),b=f(e(b))),g(a.apply(this,c),b)}}var e=a("./lib/deferred"),f=a("./lib/once"),g=a("./lib/promise-or-callback");d.wrapPrototype=function(a,b){var c,e;return c=(b=b||{}).ignoreMethods||[],e=!0===b.transformPrivateMethods,Object.getOwnPropertyNames(a.prototype).filter(function(b){var d,f="constructor"!==b&&"function"==typeof a.prototype[b],g=-1===c.indexOf(b);return d=!!e||"_"!==b.charAt(0),f&&d&&g}).forEach(function(b){var c=a.prototype[b];a.prototype[b]=d(c)}),a},b.exports=d},{"./lib/deferred":3,"./lib/once":4,"./lib/promise-or-callback":5}],7:[function(a,b,c){"use strict";function d(){}function e(a){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,e._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null!==c){var d;try{d=c(a._value)}catch(c){return void h(b.promise,c)}g(b.promise,d)}else(1===a._state?g:h)(b.promise,a._value)})):a._deferreds.push(b)}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k((d=c,f=b,function(){d.apply(f,arguments)}),a)}a._state=1,a._value=b,i(a)}catch(b){h(a,b)}var d,f}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&e._immediateFn(function(){a._handled||e._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(a){if(c)return;c=!0,h(b,a)}}var l=setTimeout;e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var c=new this.constructor(d);return f(this,new j(a,b,c)),c},e.prototype["finally"]=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})},e.all=function(a){return new e(function(b,c){function d(a,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(b){d(a,b)},c)}e[a]=g,0==--f&&b(e)}catch(g){c(g)}}if(!a||void 0===a.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},e._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){l(a,0)},e._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.exports=e},{}],8:[function(a,b,c){"use strict";var d=a("./create-authorization-data"),e=a("./json-clone"),f=a("./constants");b.exports=function(a,b){var c,g=b?e(b):{},h=d(a.authorization).attrs,i=e(a.analyticsMetadata);for(c in g.braintreeLibraryVersion=f.BRAINTREE_LIBRARY_VERSION,g._meta)g._meta.hasOwnProperty(c)&&(i[c]=g._meta[c]);return g._meta=i,h.tokenizationKey?g.tokenizationKey=h.tokenizationKey:g.authorizationFingerprint=h.authorizationFingerprint,g}},{"./constants":13,"./create-authorization-data":17,"./json-clone":21}],9:[function(a,b,c){"use strict";function d(a){return Math.floor(a/1e3)}var e=a("./promise"),f=a("./constants"),g=a("./add-metadata");b.exports={sendEvent:function(a,b,c){var h=d(Date.now());return e.resolve(a).then(function(a){var e=d(Date.now()),i=a.getConfiguration(),j=a._request,k=i.gatewayConfiguration.analytics.url,l={analytics:[{kind:f.ANALYTICS_PREFIX+b,isAsync:e!==h,timestamp:h}]};j({url:k,method:"post",data:g(i,l),timeout:f.ANALYTICS_REQUEST_TIMEOUT_MS},c)})}}},{"./add-metadata":8,"./constants":13,"./promise":23}],10:[function(a,b,c){"use strict";var d=a("@braintree/asset-loader/load-script");b.exports={loadScript:d}},{"@braintree/asset-loader/load-script":2}],11:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./promise"),f=a("./errors");b.exports={verify:function(a){var b,c,g;return a?(g=a.name,b=a.client,c=a.authorization,null==b&&null==c?e.reject(new d({type:f.INSTANTIATION_OPTION_REQUIRED.type,code:f.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+g+"."})):c||"3.40.0"===b.getVersion()?e.resolve():e.reject(new d({type:f.INCOMPATIBLE_VERSIONS.type,code:f.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+b.getVersion()+") and "+g+" (version 3.40.0) components must be from the same SDK version."}))):e.reject(new d({type:f.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:f.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":12,"./errors":20,"./promise":23}],12:[function(a,b,c){"use strict";function d(a){if(!d.types.hasOwnProperty(a.type))throw new Error(a.type+" is not a valid type.");if(!a.code)throw new Error("Error code required.");if(!a.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=a.code,this.message=a.message,this.type=a.type,this.details=a.details}var e=a("./enumerate");((d.prototype=Object.create(Error.prototype)).constructor=d).types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),d.findRootError=function(a){return a instanceof d&&a.details&&a.details.originalError?d.findRootError(a.details.originalError):a},b.exports=d},{"./enumerate":19}],13:[function(a,b,c){"use strict";b.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.40.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.40.0"}},{}],14:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors");b.exports=function(a,b){b.forEach(function(b){a[b]=function(){throw new d({type:e.METHOD_CALLED_AFTER_TEARDOWN.type,code:e.METHOD_CALLED_AFTER_TEARDOWN.code,message:b+" cannot be called after teardown."})}})}},{"./braintree-error":12,"./errors":20}],15:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports=function(a,b){return a instanceof d?a:new d({type:b.type,code:b.code,message:b.message,details:{originalError:a}})}},{"./braintree-error":12}],16:[function(a,b,c){"use strict";var d=a("./constants").ASSETS_URLS;b.exports={create:function(a){return d.production}}},{"./constants":13}],17:[function(a,b,c){"use strict";var d=a("../lib/vendor/polyfill").atob,e=a("../lib/constants").CLIENT_API_URLS;b.exports=function(a){var b,c,f,g,h={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(a)?(f=a.split("_"),g=f[0],c={merchantId:f.slice(2).join("_"),environment:g},h.environment=c.environment,h.attrs.tokenizationKey=a,h.configUrl=e[c.environment]+"/merchants/"+c.merchantId+"/client_api/v1/configuration"):(b=JSON.parse(d(a)),h.environment=b.environment,h.attrs.authorizationFingerprint=b.authorizationFingerprint,h.configUrl=b.configUrl,h.graphQL=b.graphQL),h}},{"../lib/constants":13,"../lib/vendor/polyfill":24}],18:[function(a,b,c){(function(c){"use strict";var d=a("./braintree-error"),e=a("./promise"),f=a("./assets"),g=a("./errors"),h="3.40.0";b.exports={create:function(a){var b=e.resolve();return a.client?e.resolve(a.client):(c.braintree&&c.braintree.client||(b=f.loadScript({src:a.assetsUrl+"/web/"+h+"/js/client.min.js"})["catch"](function(a){return e.reject(new d({type:g.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:g.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:g.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:a}}))})),b.then(function(){return c.braintree.client.VERSION!==h?e.reject(new d({type:g.INCOMPATIBLE_VERSIONS.type,code:g.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.braintree.client.VERSION+") and "+a.name+" (version "+h+") components must be from the same SDK version."})):c.braintree.client.create({authorization:a.authorization,debug:a.debug})}))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assets":10,"./braintree-error":12,"./errors":20,"./promise":23}],19:[function(a,b,c){"use strict";b.exports=function(a,b){return b=null==b?"":b,a.reduce(function(a,c){return a[c]=b+c,a},{})}},{}],20:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:d.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:d.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:d.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:d.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:d.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":12}],21:[function(a,b,c){"use strict";b.exports=function(a){return JSON.parse(JSON.stringify(a))}},{}],22:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).filter(function(b){return"function"==typeof a[b]})}},{}],23:[function(a,b,c){(function(c){"use strict";var d=c.Promise||a("promise-polyfill");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":7}],24:[function(a,b,c){(function(a){"use strict";function c(a){var b,c,d,e,f,g,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(a))throw new Error("Non base64 encoded input passed to window.atob polyfill");for(g=0;b=(63&h.indexOf(a.charAt(g++)))<<2|(e=h.indexOf(a.charAt(g++)))>>4&3,c=(15&e)<<4|(f=h.indexOf(a.charAt(g++)))>>2&15,d=(3&f)<<6|63&h.indexOf(a.charAt(g++)),i+=String.fromCharCode(b)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):""),g<a.length;);return i}var d="function"==typeof a.atob?a.atob:c;b.exports={atob:function(b){return d.call(a,b)},_atob:c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(a,b,c){"use strict";var d=a("../lib/braintree-error");b.exports={PAYPAL_NOT_ENABLED:{type:d.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:d.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:d.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:d.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:d.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../lib/braintree-error":12}],26:[function(a,b,c){"use strict";var d=a("../lib/braintree-error"),e=a("../lib/analytics"),f=a("../lib/basic-component-verification"),g=a("../lib/create-deferred-client"),h=a("../lib/create-assets-url"),i=a("./errors"),j=a("../lib/promise"),k=a("@braintree/wrap-promise"),l=a("./paypal-checkout");b.exports={create:k(function(a){var b="PayPal Checkout";return f.verify({name:b,client:a.client,authorization:a.authorization}).then(function(){return g.create({authorization:a.authorization,client:a.client,debug:a.debug,assetsUrl:h.create(a.authorization),name:b})}).then(function(b){var c=b.getConfiguration();if(a.client=b,!a.merchantAccountId){if(!c.gatewayConfiguration.paypalEnabled)return j.reject(new d(i.PAYPAL_NOT_ENABLED));if(!0===c.gatewayConfiguration.paypal.environmentNoNetwork)return j.reject(new d(i.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED))}return e.sendEvent(a.client,"paypal-checkout.initialized"),new l(a)})}),isSupported:function(){return!0},VERSION:"3.40.0"}},{"../lib/analytics":9,"../lib/basic-component-verification":11,"../lib/braintree-error":12,"../lib/create-assets-url":16,"../lib/create-deferred-client":18,"../lib/promise":23,"./errors":25,"./paypal-checkout":27,"@braintree/wrap-promise":6}],27:[function(a,b,c){"use strict";function d(a){this._client=a.client,this._merchantAccountId=a.merchantAccountId}var e=a("../lib/analytics"),f=a("../lib/promise"),g=a("@braintree/wrap-promise"),h=a("../lib/braintree-error"),i=a("../lib/convert-to-braintree-error"),j=a("./errors"),k=a("../paypal/shared/constants"),l=a("../lib/methods"),m=a("../lib/convert-methods-to-error");d.prototype.createPayment=function(a){var b;return a&&k.FLOW_ENDPOINTS.hasOwnProperty(a.flow)?(b="paypal_hermes/"+k.FLOW_ENDPOINTS[a.flow],e.sendEvent(this._client,"paypal-checkout.createPayment"),!0===a.offerCredit&&e.sendEvent(this._client,"paypal-checkout.credit.offered"),this._client.request({endpoint:b,method:"post",data:this._formatPaymentResourceData(a)}).then(function(b){return"checkout"===a.flow?b.paymentResource.paymentToken:b.agreementSetup.tokenId})["catch"](function(a){return 422===(a.details&&a.details.httpStatus)?f.reject(new h({type:j.PAYPAL_INVALID_PAYMENT_OPTION.type,code:j.PAYPAL_INVALID_PAYMENT_OPTION.code,message:j.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:a}})):f.reject(i(a,{type:j.PAYPAL_FLOW_FAILED.type,code:j.PAYPAL_FLOW_FAILED.code,message:j.PAYPAL_FLOW_FAILED.message}))})):f.reject(new h(j.PAYPAL_FLOW_OPTION_REQUIRED))},d.prototype.tokenizePayment=function(a){var b,c=this,d=this._client,g={flow:a.billingToken?"vault":"checkout",intent:a.intent},h={ecToken:a.paymentToken,billingToken:a.billingToken,payerId:a.payerID,paymentId:a.paymentID};return e.sendEvent(d,"paypal-checkout.tokenization.started"),d.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:c._formatTokenizeData(g,h)}).then(function(a){return b=c._formatTokenizePayload(a),e.sendEvent(d,"paypal-checkout.tokenization.success"),b.creditFinancingOffered&&e.sendEvent(d,"paypal-checkout.credit.accepted"),b})["catch"](function(a){return e.sendEvent(d,"paypal-checkout.tokenization.failed"),f.reject(i(a,{type:j.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:j.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:j.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))})},d.prototype._formatPaymentResourceData=function(a){var b,c=this._client.getConfiguration().gatewayConfiguration,d={returnUrl:"x",cancelUrl:"x",offerPaypalCredit:!0===a.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:a.displayName||c.paypal.displayName,localeCode:a.locale,noShipping:(!a.enableShippingAddress).toString(),addressOverride:!1===a.shippingAddressEditable,landingPageType:a.landingPageType}};if("checkout"===a.flow)for(b in d.amount=a.amount,d.currencyIsoCode=a.currency,a.hasOwnProperty("intent")&&(d.intent=a.intent),a.shippingAddressOverride)a.shippingAddressOverride.hasOwnProperty(b)&&(d[b]=a.shippingAddressOverride[b]);else d.shippingAddress=a.shippingAddressOverride,a.billingAgreementDescription&&(d.description=a.billingAgreementDescription);return d},d.prototype._formatTokenizeData=function(a,b){var c=this._client.getConfiguration(),d=c.gatewayConfiguration,e="TOKENIZATION_KEY"===c.authorizationType,f={paypalAccount:{correlationId:b.billingToken||b.ecToken,options:{validate:"vault"===a.flow&&!e}}};return b.billingToken?f.paypalAccount.billingAgreementToken=b.billingToken:(f.paypalAccount.paymentToken=b.paymentId,f.paypalAccount.payerId=b.payerId,f.paypalAccount.unilateral=d.paypal.unvettedMerchant,a.intent&&(f.paypalAccount.intent=a.intent),this._merchantAccountId&&(f.merchantAccountId=this._merchantAccountId)),f},d.prototype._formatTokenizePayload=function(a){var b,c={};return a.paypalAccounts&&(c=a.paypalAccounts[0]),b={nonce:c.nonce,details:{},type:c.type},c.details&&c.details.payerInfo&&(b.details=c.details.payerInfo),c.details&&c.details.creditFinancingOffered&&(b.creditFinancingOffered=c.details.creditFinancingOffered),b},d.prototype.teardown=function(){return m(this,l(d.prototype)),f.resolve()},b.exports=g.wrapPrototype(d)},{"../lib/analytics":9,"../lib/braintree-error":12,"../lib/convert-methods-to-error":14,"../lib/convert-to-braintree-error":15,"../lib/methods":22,"../lib/promise":23,"../paypal/shared/constants":28,"./errors":25,"@braintree/wrap-promise":6}],28:[function(a,b,c){"use strict";b.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}]},{},[26])(26)}),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;((b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree||(b.braintree={})).client=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";var d=a("promise-polyfill");b.exports=c.Promise||d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":10}],2:[function(a,b,c){"use strict";function d(a){var b,c,d,g,h=JSON.stringify(a);return!a.forceScriptReload&&(g=f[h])?g:(d=document.createElement("script"),b=a.dataAttributes||{},c=a.container||document.head,d.src=a.src,d.id=a.id,d.async=!0,Object.keys(b).forEach(function(a){d.setAttribute("data-"+a,b[a])}),g=new e(function(b,e){d.addEventListener("load",function(){b(d)}),d.addEventListener("error",function(){e(new Error(a.src+" failed to load."))}),d.addEventListener("abort",function(){e(new Error(a.src+" has aborted."))}),c.appendChild(d)}),f[h]=g)}var e=a("./lib/promise"),f={};d.clearCache=function(){f={}},b.exports=d},{"./lib/promise":1}],3:[function(a,b,c){(function(c){"use strict";var d=a("./is-ie11");b.exports=function(a){return-1!==(a=a||c.navigator.userAgent).indexOf("MSIE")||d(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":4}],4:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||navigator.userAgent).indexOf("Trident/7")}},{}],5:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||navigator.userAgent).indexOf("MSIE 9")}},{}],6:[function(a,b,c){"use strict";b.exports=function(a){return function(){var b=arguments;setTimeout(function(){a.apply(null,b)},1)}}},{}],7:[function(a,b,c){"use strict";b.exports=function(a){var b=!1;return function(){b||(b=!0,a.apply(null,arguments))}}},{}],8:[function(a,b,c){"use strict";b.exports=function(a,b){return b?void a.then(function(a){b(null,a)})["catch"](function(a){b(a)}):a}},{}],9:[function(a,b,c){"use strict";function d(a){return function(){var b,c=Array.prototype.slice.call(arguments);return"function"==typeof c[c.length-1]&&(b=c.pop(),b=f(e(b))),g(a.apply(this,c),b)}}var e=a("./lib/deferred"),f=a("./lib/once"),g=a("./lib/promise-or-callback");d.wrapPrototype=function(a,b){var c,e;return c=(b=b||{}).ignoreMethods||[],e=!0===b.transformPrivateMethods,Object.getOwnPropertyNames(a.prototype).filter(function(b){var d,f="constructor"!==b&&"function"==typeof a.prototype[b],g=-1===c.indexOf(b);return d=!!e||"_"!==b.charAt(0),f&&d&&g}).forEach(function(b){var c=a.prototype[b];a.prototype[b]=d(c)}),a},b.exports=d},{"./lib/deferred":6,"./lib/once":7,"./lib/promise-or-callback":8}],10:[function(a,b,c){"use strict";function d(){}function e(a){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,e._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null!==c){var d;try{d=c(a._value)}catch(c){return void h(b.promise,c)}g(b.promise,d)}else(1===a._state?g:h)(b.promise,a._value)})):a._deferreds.push(b)}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k((d=c,f=b,function(){d.apply(f,arguments)}),a)}a._state=1,a._value=b,i(a)}catch(b){h(a,b)}var d,f}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&e._immediateFn(function(){a._handled||e._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(a){if(c)return;c=!0,h(b,a)}}var l=setTimeout;e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var c=new this.constructor(d);return f(this,new j(a,b,c)),c},e.prototype["finally"]=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})},e.all=function(a){return new e(function(b,c){function d(a,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(b){d(a,b)},c)}e[a]=g,0==--f&&b(e)}catch(g){c(g)}}if(!a||void 0===a.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},e._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){l(a,0)},e._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.exports=e},{}],11:[function(a,b,c){"use strict";var d=a("@braintree/browser-detection/is-ie"),e=a("@braintree/browser-detection/is-ie9");b.exports={isIe:d,isIe9:e}},{"@braintree/browser-detection/is-ie":3,"@braintree/browser-detection/is-ie9":5}],12:[function(a,b,c){"use strict";function d(a){var b,c,d;if(a=a||{},b=JSON.stringify(a),!(c=a.gatewayConfiguration))throw new i(u.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach(function(a){if(a in c&&!h(c[a]))throw new i({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:a+" property is on an invalid domain."})}),this.getConfiguration=function(){return JSON.parse(b)},this._request=g,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=c.clientApiUrl+"/v1/",(d=c.braintreeApi)&&(this._braintreeApi={baseUrl:d.url+"/",accessToken:d.accessToken},!h(this._braintreeApi.baseUrl)))throw new i({type:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:u.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"braintreeApi URL is on an invalid domain."});c.graphQL&&(this._graphQL=new f({graphQL:c.graphQL}))}var e=a("./constants").BRAINTREE_VERSION,f=a("./request/graphql"),g=a("./request"),h=a("../lib/is-verified-domain"),i=a("../lib/braintree-error"),j=a("../lib/convert-to-braintree-error"),k=a("../lib/create-authorization-data"),l=a("./get-configuration").getConfiguration,m=a("../lib/add-metadata"),n=a("../lib/promise"),o=a("@braintree/wrap-promise"),p=a("../lib/once"),q=a("../lib/deferred"),r=a("../lib/assign").assign,s=a("../lib/analytics"),t=a("./constants"),u=a("./errors"),v=a("../lib/errors"),w=a("../lib/constants").VERSION,x=a("../lib/constants").GRAPHQL_URLS,y=a("../lib/methods"),z=a("../lib/convert-methods-to-error"),A=a("../lib/assets"),B=a("../lib/constants").FRAUDNET_FNCLS,C=a("../lib/constants").FRAUDNET_SOURCE,D=a("../lib/constants").FRAUDNET_URL,E={};d.initialize=function(a){var b,c=E[a.authorization];return c?(s.sendEvent(c,"custom.client.load.cached"),c):(c=l(a).then(function(c){return a.debug&&(c.isDebug=!0),b=new d(c)}),E[a.authorization]=c,s.sendEvent(c,"custom.client.load.initialized"),c.then(function(a){return s.sendEvent(b,"custom.client.load.succeeded"),a})["catch"](function(b){return delete E[a.authorization],n.reject(b)}))},d.clearCache=function(){E={}},d.prototype._findOrCreateFraudnetJSON=function(a){var b,c,d,e,f=document.querySelector('script[fncls="'+B+'"]');f||((f=document.body.appendChild(document.createElement("script"))).type="application/json",f.setAttribute("fncls",B)),b=this.getConfiguration(),c={rda_tenant:"bt_card",mid:b.gatewayConfiguration.merchantId},(d=k(b.authorization).attrs.authorizationFingerprint)&&d.split("&").forEach(function(a){var b=a.split("=");"customer_id"===b[0]&&1<b.length&&(c.cid=b[1])}),e={f:a.substr(0,32),fp:c,bu:!1,s:C},f.text=JSON.stringify(e)},d.prototype.request=function(a,b){var c=this,d=new n(function(b,d){var f,g,h,l,n,o,p=Boolean("payment_methods/credit_cards"===a.endpoint&&c.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==a.api&&(a.method?a.endpoint||(f="options.endpoint"):f="options.method"),f)throw new i({type:u.CLIENT_OPTION_REQUIRED.type,code:u.CLIENT_OPTION_REQUIRED.code,message:f+" is required when making a request."});if(g="api"in a?a.api:"clientApi",l={method:a.method,graphQL:c._graphQL,timeout:a.timeout,metadata:c._configuration.analyticsMetadata},"clientApi"===g)h=c._clientApiBaseUrl,l.data=m(c._configuration,a.data);else if("braintreeApi"===g){if(!c._braintreeApi)throw new i(v.BRAINTREE_API_ACCESS_RESTRICTED);
h=c._braintreeApi.baseUrl,l.data=a.data,l.headers={"Braintree-Version":t.BRAINTREE_API_VERSION_HEADER,Authorization:"Bearer "+c._braintreeApi.accessToken}}else{if("graphQLApi"!==g)throw new i({type:u.CLIENT_OPTION_INVALID.type,code:u.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});h=x[c._configuration.gatewayConfiguration.environment],a.endpoint="",l.method="post",l.data=r({clientSdkMetadata:{source:c._configuration.analyticsMetadata.source,integration:c._configuration.analyticsMetadata.integration,sessionId:c._configuration.analyticsMetadata.sessionId}},a.data),l.headers=(n=c._configuration.authorization,{Authorization:"Bearer "+((o=k(n).attrs).authorizationFingerprint||o.tokenizationKey),"Braintree-Version":e})}l.url=h+a.endpoint,l.sendAnalyticsEvent=function(a){s.sendEvent(c,a)},c._request(l,function(a,e,f){var h,k;(k=function(a,b){var c;if(-1===a?c=new i(u.CLIENT_REQUEST_TIMEOUT):403===a?c=new i(u.CLIENT_AUTHORIZATION_INSUFFICIENT):429===a?c=new i(u.CLIENT_RATE_LIMITED):500<=a?c=new i(u.CLIENT_GATEWAY_NETWORK):(a<200||400<=a)&&(c=j(b,{type:u.CLIENT_REQUEST_ERROR.type,code:u.CLIENT_REQUEST_ERROR.code,message:u.CLIENT_REQUEST_ERROR.message})),c)return c.details=c.details||{},c.details.httpStatus=a,c}(f,a))?d(k):"graphQLApi"===g&&e.errors?d(j(e.errors,{type:u.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:u.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:u.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(h=r({_httpStatus:f},e),p&&h.creditCards&&0<h.creditCards.length&&(c._findOrCreateFraudnetJSON(h.creditCards[0].nonce),A.loadScript({src:D,forceScriptReload:!0})),b(h))})});return"function"==typeof b?(b=p(q(b)),void d.then(function(a){b(null,a,a._httpStatus)})["catch"](function(a){var c=a&&a.details&&a.details.httpStatus;b(a,null,c)})):d},d.prototype.toJSON=function(){return this.getConfiguration()},d.prototype.getVersion=function(){return w},d.prototype.teardown=o(function(){return delete E[this.getConfiguration().authorization],z(this,y(d.prototype)),n.resolve()}),b.exports=d},{"../lib/add-metadata":33,"../lib/analytics":34,"../lib/assets":35,"../lib/assign":36,"../lib/braintree-error":37,"../lib/constants":38,"../lib/convert-methods-to-error":39,"../lib/convert-to-braintree-error":40,"../lib/create-authorization-data":41,"../lib/deferred":42,"../lib/errors":44,"../lib/is-verified-domain":46,"../lib/methods":48,"../lib/once":49,"../lib/promise":50,"./constants":13,"./errors":14,"./get-configuration":15,"./request":27,"./request/graphql":25,"@braintree/wrap-promise":9}],13:[function(a,b,c){"use strict";b.exports={BRAINTREE_API_VERSION_HEADER:"2017-04-03",BRAINTREE_VERSION:"2018-05-10"}},{}],14:[function(a,b,c){"use strict";var d=a("../lib/braintree-error");b.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:d.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:d.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:d.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:d.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:d.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:d.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:d.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:d.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:d.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:d.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":37}],15:[function(a,b,c){(function(c){"use strict";var d=a("../lib/braintree-error"),e=a("../lib/promise"),f=a("@braintree/wrap-promise"),g=a("./request"),h=a("../lib/vendor/uuid"),i=a("../lib/constants"),j=a("../lib/create-authorization-data"),k=a("./errors"),l=a("./request/graphql"),m=a("../lib/is-date-string-before-or-on"),n=a("./constants").BRAINTREE_VERSION;b.exports={getConfiguration:f(function(a){return new e(function(b,e){var f,o,p,q,r,s=h(),t={merchantAppId:c.location.host,platform:i.PLATFORM,sdkVersion:i.VERSION,source:i.SOURCE,integration:i.INTEGRATION,integrationType:i.INTEGRATION,sessionId:s};try{o=j(a.authorization)}catch(o){return void e(new d(k.CLIENT_INVALID_AUTHORIZATION))}p=o.attrs,q=o.configUrl,p._meta=t,p.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION,p.configVersion="3",r={url:q,method:"GET",data:p},p.authorizationFingerprint&&o.graphQL&&(m(o.graphQL.date,n)&&(r.graphQL=new l({graphQL:{url:o.graphQL.url,features:["configuration"]}})),r.metadata=t),g(r,function(c,g,h){var i;return c?(i=403===h?k.CLIENT_AUTHORIZATION_INSUFFICIENT:k.CLIENT_GATEWAY_NETWORK,void e(new d({type:i.type,code:i.code,message:i.message,details:{originalError:c}}))):(f={authorization:a.authorization,authorizationType:p.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",analyticsMetadata:t,gatewayConfiguration:g},void b(f))})})})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":37,"../lib/constants":38,"../lib/create-authorization-data":41,"../lib/is-date-string-before-or-on":45,"../lib/promise":50,"../lib/vendor/uuid":53,"./constants":13,"./errors":14,"./request":27,"./request/graphql":25,"@braintree/wrap-promise":9}],16:[function(a,b,c){"use strict";var d=a("../lib/braintree-error"),e=a("./client"),f=a("../lib/promise"),g=a("@braintree/wrap-promise"),h=a("../lib/errors");b.exports={create:g(function(a){return a.authorization?e.initialize(a):f.reject(new d({type:h.INSTANTIATION_OPTION_REQUIRED.type,code:h.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}),VERSION:"3.40.0"}},{"../lib/braintree-error":37,"../lib/errors":44,"../lib/promise":50,"./client":12,"@braintree/wrap-promise":9}],17:[function(a,b,c){"use strict";function d(a,b,c){var p,q,r,s,t,u,v,w=a.url,x=a.graphQL,y=a.timeout,z=j.getRequestObject(),A=c,B=Boolean(x&&x.isGraphQLRequest(w,a.data));a.headers=g({"Content-Type":"application/json"},a.headers),w=(r=B?new l(a):new m(a)).getUrl(),s=r.getBody(),t=r.getMethod(),u=r.getHeaders(),"GET"===t&&(w=e.queryify(w,s),s=null),k?z.onreadystatechange=function(){if(4===z.readyState){if(0===z.status&&B)return delete a.graphQL,void d(a,b,c);if(v=i(z.responseText),q=r.adaptResponseBody(v),400<=(p=r.determineStatus(z.status,v))||p<200){if(B&&("UNKNOWN"===(h=!(g=v).data&&g.errors&&g.errors[0]&&g.errors[0].extensions&&g.errors[0].extensions.errorClass)||"INTERNAL"===h))return delete a.graphQL,void d(a,b,c);if(b<n&&(!(e=p)||e===o)&&f.isIe())return void d(a,++b,c);A(q||"error",null,p||500)}else A(null,q,p);var e,g,h}}:(a.headers&&(w=e.queryify(w,u)),z.onload=function(){A(null,i(z.responseText),z.status)},z.onerror=function(){A("error",null,500)},z.onprogress=function(){},z.ontimeout=function(){A("timeout",null,-1)});try{z.open(t,w,!0)}catch(s){if(!B)throw s;return delete a.graphQL,void d(a,b,c)}z.timeout=y,k&&Object.keys(u).forEach(function(a){z.setRequestHeader(a,u[a])});try{z.send(h(t,s))}catch(s){}}var e=a("../../lib/querystring"),f=a("../browser-detection"),g=a("../../lib/assign").assign,h=a("./prep-body"),i=a("./parse-body"),j=a("./xhr"),k=j.isAvailable,l=a("./graphql/request"),m=a("./default-request"),n=1,o=408;b.exports={request:function(a,b){d(a,0,b)}}},{"../../lib/assign":36,"../../lib/querystring":51,"../browser-detection":11,"./default-request":18,"./graphql/request":26,"./parse-body":30,"./prep-body":31,"./xhr":32}],18:[function(a,b,c){"use strict";function d(a){this._url=a.url,this._data=a.data,this._method=a.method,this._headers=a.headers}d.prototype.getUrl=function(){return this._url},d.prototype.getBody=function(){return this._data},d.prototype.getMethod=function(){return this._method},d.prototype.getHeaders=function(){return this._headers},d.prototype.adaptResponseBody=function(a){return a},d.prototype.determineStatus=function(a){return a},b.exports=d},{}],19:[function(a,b,c){(function(a){"use strict";b.exports=function(){return a.navigator.userAgent}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(a,b,c){"use strict";function d(a,b){return a.reduce(function(a,c){return b.hasOwnProperty(c)?a.concat(b[c]):a},[])}var e=a("./error"),f=a("../../../../lib/assign").assign,g={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};b.exports=function(a,b){return a.data&&!a.errors?(c=a,h=b,j=c.data.clientConfiguration,i={environment:j.environment.toLowerCase(),clientApiUrl:j.clientApiUrl,assetsUrl:j.assetsUrl,analytics:{url:j.analyticsUrl},merchantId:j.merchantId,venmo:"off"},j.supportedFeatures&&(i.graphQL={url:h._graphQL._config.url,features:j.supportedFeatures.map(function(a){return a.toLowerCase()})}),j.braintreeApi&&(i.braintreeApi=j.braintreeApi),j.applePayWeb&&(i.applePayWeb=j.applePayWeb,i.applePayWeb.supportedNetworks=d(j.applePayWeb.supportedCardBrands,g.applePayWeb),delete i.applePayWeb.supportedCardBrands),j.ideal&&(i.ideal=j.ideal),j.kount&&(i.kount={kountMerchantId:j.kount.merchantId}),j.creditCard?(i.challenges=j.creditCard.challenges.map(function(a){return a.toLowerCase()}),i.creditCards={supportedCardTypes:d(j.creditCard.supportedCardBrands,g.creditCard)},i.threeDSecureEnabled=j.creditCard.threeDSecureEnabled):(i.challenges=[],i.creditCards={supportedCardTypes:[]},i.threeDSecureEnabled=!1),j.googlePay&&(i.androidPay={displayName:j.googlePay.displayName,enabled:!0,environment:j.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:j.googlePay.googleAuthorization,supportedNetworks:d(j.googlePay.supportedCardBrands,g.googlePay)}),j.venmo&&(i.payWithVenmo={merchantId:j.venmo.merchantId,accessToken:j.venmo.accessToken,environment:j.venmo.environment.toLowerCase()}),j.paypal?(i.paypalEnabled=!0,i.paypal=f({},j.paypal),i.paypal.currencyIsoCode=i.paypal.currencyCode,i.paypal.environment=i.paypal.environment.toLowerCase(),delete i.paypal.currencyCode):i.paypalEnabled=!1,j.unionPay&&(i.unionPay={enabled:!0,merchantAccountId:j.unionPay.merchantAccountId}),j.visaCheckout&&(i.visaCheckout={apikey:j.visaCheckout.apiKey,externalClientId:j.visaCheckout.externalClientId,supportedCardTypes:d(j.visaCheckout.supportedCardBrands,g.visaCheckout)}),j.masterpass&&(i.masterpass={merchantCheckoutId:j.masterpass.merchantCheckoutId,supportedNetworks:d(j.masterpass.supportedCardBrands,g.masterpass)}),j.usBankAccount&&(i.usBankAccount={routeId:j.usBankAccount.routeId,plaid:{publicKey:j.usBankAccount.plaidPublicKey}}),i):e(a);var c,h,i,j}},{"../../../../lib/assign":36,"./error":22}],21:[function(a,b,c){"use strict";var d=a("./error"),e={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},f={YES:"Yes",NO:"No",UNKNOWN:"Unknown"};b.exports=function(a){return a.data&&!a.errors?(b=a,c=b.data.tokenizeCreditCard,g=c.creditCard,h=g.last4?g.last4.substr(2,4):"",i=g.binData,i&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach(function(a){i[a]?i[a]=f[i[a]]:i[a]="Unknown"}),["issuingBank","countryOfIssuance","productId"].forEach(function(a){i[a]||(i[a]="Unknown")})),{creditCards:[{binData:i,consumed:!1,description:h?"ending in "+h:"",nonce:c.token,details:{cardType:e[g.brandCode]||"Unknown",lastFour:g.last4||"",lastTwo:h},type:"CreditCard",threeDSecureInfo:null}]}):d(a);var b,c,g,h,i}},{"./error":22}],22:[function(a,b,c){"use strict";b.exports=function(a){var b,c,d,e,f,g,h=a.errors&&a.errors[0]&&a.errors[0].extensions&&a.errors[0].extensions.errorClass;return"VALIDATION"===h?(d=a.errors,e=[],d.forEach(function(a){!function b(a,c,d){var e,f=c.extensions.legacyCode,g=a[0];1!==a.length?(d.forEach(function(a){a.field===g&&(e=a)}),e||(e={field:g,fieldErrors:[]},d.push(e)),b(a.slice(1),c,e.fieldErrors)):d.push({code:f,field:g,message:c.message})}(a.extensions.inputPath.slice(1),a,e)}),b={error:{message:(f=c=e,g=f[0].field,{creditCard:"Credit card is invalid"}[g])},fieldErrors:c}):b=h?{error:{message:a.errors[0].message},fieldErrors:[]}:{error:{message:"There was a problem serving your request"},fieldErrors:[]},b}},{}],23:[function(a,b,c){"use strict";b.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],24:[function(a,b,c){"use strict";function d(a){var b=a.creditCard,c=b&&b.billingAddress,d=b&&b.expirationDate,f=b&&(b.expirationMonth||d&&d.split("/")[0].trim()),g=b&&(b.expirationYear||d&&d.split("/")[1].trim()),h={input:{creditCard:{number:b&&b.number,expirationMonth:f,expirationYear:g,cvv:b&&b.cvv,cardholderName:b&&b.cardholderName},options:{}}};return c&&(h.input.creditCard.billingAddress=c),h.input=function(a,b){var c;return a.creditCard&&a.creditCard.options&&"boolean"==typeof a.creditCard.options.validate?c=a.creditCard.options.validate:a.authorizationFingerprint&&a.tokenizationKey||a.authorizationFingerprint?c=!0:a.tokenizationKey&&(c=!1),"boolean"==typeof c&&(b.options=e({validate:c},b.options)),b}(a,h.input),h}var e=a("../../../../lib/assign").assign;b.exports=function(a){return{query:"mutation TokenizeCreditCard($input: TokenizeCreditCardInput!) {   tokenizeCreditCard(input: $input) {     token     creditCard {       brandCode       last4       binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     }   } }",variables:d(a),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":36}],25:[function(a,b,c){"use strict";function d(a){this._config=a.graphQL}var e=a("../../browser-detection"),f={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},g=["creditCard.options.unionPayEnrollment"];d.prototype.getGraphQLEndpoint=function(){return this._config.url},d.prototype.isGraphQLRequest=function(a,b){var c,d,h=this.getClientApiPath(a);return!(!this._isGraphQLEnabled()||!h||e.isIe9())&&(c=this._config.features.some(function(a){return f[a]===h}),d=b,!g.some(function(a){var b=a.split(".").reduce(function(a,b){return a&&a[b]},d);return void 0!==b})&&c)},d.prototype.getClientApiPath=function(a){var b,c=a.split("/client_api/v1/");return 1<c.length&&(b=c[1].split("?")[0]),b},d.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},b.exports=d},{"../../browser-detection":11}],26:[function(a,b,c){"use strict";function d(a){var b=a.graphQL.getClientApiPath(a.url);this._graphQL=a.graphQL,this._data=a.data,this._method=a.method,this._headers=a.headers,this._clientSdkMetadata={source:a.metadata.source,integration:a.metadata.integration,sessionId:a.metadata.sessionId},this._sendAnalyticsEvent=a.sendAnalyticsEvent||Function.prototype,this._generator=k[b],this._adapter=l[b],this._sendAnalyticsEvent("graphql.init")}var e=a("../../constants").BRAINTREE_VERSION,f=a("../../../lib/assign").assign,g=a("./generators/credit-card-tokenization"),h=a("./adapters/credit-card-tokenization"),i=a("./generators/configuration"),j=a("./adapters/configuration"),k={"payment_methods/credit_cards":g,configuration:i},l={"payment_methods/credit_cards":h,configuration:j};d.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},d.prototype.getBody=function(){var a=function d(a){var b={};return Object.keys(a).forEach(function(c){var e=function(a){return-1===a.indexOf("_")?a:a.toLowerCase().replace(/(\_\w)/g,function(a){return a[1].toUpperCase()})}(c);"object"==typeof a[c]?b[e]=d(a[c]):"number"==typeof a[c]?b[e]=String(a[c]):b[e]=a[c]}),b}(this._data),b=this._generator(a),c=f({clientSdkMetadata:this._clientSdkMetadata},b);return JSON.stringify(c)},d.prototype.getMethod=function(){return"POST"},d.prototype.getHeaders=function(){var a,b;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),a=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),a=this._data.tokenizationKey),b={Authorization:"Bearer "+a,"Braintree-Version":e},f({},this._headers,b)},d.prototype.adaptResponseBody=function(a){return this._adapter(a,this)},d.prototype.determineStatus=function(a,b){var c,d,e;return 200===a?(d=b.errors&&b.errors[0]&&b.errors[0].extensions&&b.errors[0].extensions.errorClass,b.data&&!b.errors?c=200:"VALIDATION"===d?c=422:"AUTHORIZATION"===d?c=403:"AUTHENTICATION"===d?c=401:(e=b,c=!d&&e.errors[0].message?403:500)):c=a||500,this._sendAnalyticsEvent("graphql.status."+a),this._sendAnalyticsEvent("graphql.determinedStatus."+c),c},b.exports=d},{"../../../lib/assign":36,"../../constants":13,"./adapters/configuration":20,"./adapters/credit-card-tokenization":21,"./generators/configuration":23,"./generators/credit-card-tokenization":24}],27:[function(a,b,c){"use strict";var d,e=a("../../lib/once"),f=a("./jsonp-driver"),g=a("./ajax-driver"),h=a("./get-user-agent"),i=a("./is-http");b.exports=function(a,b){b=e(b||Function.prototype),a.method=(a.method||"GET").toUpperCase(),a.timeout=null==a.timeout?6e4:a.timeout,a.data=a.data||{},null==d&&(d=!(i()&&/MSIE\s(8|9)/.test(h()))),d?g.request(a,b):f.request(a,b)}},{"../../lib/once":49,"./ajax-driver":17,"./get-user-agent":19,"./is-http":28,"./jsonp-driver":29}],28:[function(a,b,c){(function(a){"use strict";b.exports=function(){return"http:"===a.location.protocol}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(a,b,c){(function(c){"use strict";function d(a){try{delete c[a]}catch(b){c[a]=null}}var e,f=a("../../lib/vendor/uuid"),g=a("../../lib/querystring"),h={};b.exports={request:function(a,b){var i,j,k,l,m,n,o,p,q,r,s="callback_json_"+f().replace(/-/g,""),t=a.url,u=a.data,v=a.method,w=a.timeout;t=g.queryify(t,u),t=g.queryify(t,{_method:v,callback:s}),j=t,k=s,l=document.createElement("script"),m=!1,l.src=j,l.async=!0,l.onerror=function(){c[k]({message:"error",status:500})},l.onload=l.onreadystatechange=function(){m||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(m=!0,l.onload=l.onreadystatechange=null)},n=i=l,o=b,c[p=s]=function(a){var b,c=a.status||500,e=null,f=null;delete a.status,400<=c||c<200?e=a:f=a,d(p),(b=n)&&b.parentNode&&b.parentNode.removeChild(b),clearTimeout(h[p]),o(e,f,c)},q=w,h[r=s]=setTimeout(function(){h[r]=null,c[r]({error:"timeout",status:-1}),c[r]=function(){d(r)}},q),e||(e=document.getElementsByTagName("head")[0]),e.appendChild(i)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":51,"../../lib/vendor/uuid":53}],30:[function(a,b,c){"use strict";b.exports=function(a){try{a=JSON.parse(a)}catch(a){}return a}},{}],31:[function(a,b,c){"use strict";b.exports=function(a,b){if("string"!=typeof a)throw new Error("Method must be a string");return"get"!==a.toLowerCase()&&null!=b&&(b="string"==typeof b?b:JSON.stringify(b)),b}},{}],32:[function(a,b,c){(function(a){"use strict";var c=a.XMLHttpRequest&&"withCredentials"in new a.XMLHttpRequest;b.exports={isAvailable:c,getRequestObject:function(){return c?new XMLHttpRequest:new XDomainRequest}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(a,b,c){"use strict";var d=a("./create-authorization-data"),e=a("./json-clone"),f=a("./constants");b.exports=function(a,b){var c,g=b?e(b):{},h=d(a.authorization).attrs,i=e(a.analyticsMetadata);for(c in g.braintreeLibraryVersion=f.BRAINTREE_LIBRARY_VERSION,g._meta)g._meta.hasOwnProperty(c)&&(i[c]=g._meta[c]);return g._meta=i,h.tokenizationKey?g.tokenizationKey=h.tokenizationKey:g.authorizationFingerprint=h.authorizationFingerprint,g}},{"./constants":38,"./create-authorization-data":41,"./json-clone":47}],34:[function(a,b,c){"use strict";function d(a){return Math.floor(a/1e3)}var e=a("./promise"),f=a("./constants"),g=a("./add-metadata");b.exports={sendEvent:function(a,b,c){var h=d(Date.now());return e.resolve(a).then(function(a){var e=d(Date.now()),i=a.getConfiguration(),j=a._request,k=i.gatewayConfiguration.analytics.url,l={analytics:[{kind:f.ANALYTICS_PREFIX+b,isAsync:e!==h,timestamp:h}]};j({url:k,method:"post",data:g(i,l),timeout:f.ANALYTICS_REQUEST_TIMEOUT_MS},c)})}}},{"./add-metadata":33,"./constants":38,"./promise":50}],35:[function(a,b,c){"use strict";var d=a("@braintree/asset-loader/load-script");b.exports={loadScript:d}},{"@braintree/asset-loader/load-script":2}],36:[function(a,b,c){"use strict";function d(a){var b,c,d;for(b=1;b<arguments.length;b++)for(d in c=arguments[b])c.hasOwnProperty(d)&&(a[d]=c[d]);return a}var e="function"==typeof Object.assign?Object.assign:d;b.exports={assign:e,_assign:d}},{}],37:[function(a,b,c){"use strict";function d(a){if(!d.types.hasOwnProperty(a.type))throw new Error(a.type+" is not a valid type.");if(!a.code)throw new Error("Error code required.");if(!a.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=a.code,this.message=a.message,this.type=a.type,this.details=a.details}var e=a("./enumerate");((d.prototype=Object.create(Error.prototype)).constructor=d).types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),d.findRootError=function(a){return a instanceof d&&a.details&&a.details.originalError?d.findRootError(a.details.originalError):a},b.exports=d},{"./enumerate":43}],38:[function(a,b,c){"use strict";b.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.40.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.40.0"}},{}],39:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors");b.exports=function(a,b){b.forEach(function(b){a[b]=function(){throw new d({type:e.METHOD_CALLED_AFTER_TEARDOWN.type,code:e.METHOD_CALLED_AFTER_TEARDOWN.code,message:b+" cannot be called after teardown."})}})}},{"./braintree-error":37,"./errors":44}],40:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports=function(a,b){return a instanceof d?a:new d({type:b.type,code:b.code,message:b.message,details:{originalError:a}})}},{"./braintree-error":37}],41:[function(a,b,c){"use strict";var d=a("../lib/vendor/polyfill").atob,e=a("../lib/constants").CLIENT_API_URLS;b.exports=function(a){var b,c,f,g,h={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(a)?(f=a.split("_"),g=f[0],c={merchantId:f.slice(2).join("_"),environment:g},h.environment=c.environment,h.attrs.tokenizationKey=a,h.configUrl=e[c.environment]+"/merchants/"+c.merchantId+"/client_api/v1/configuration"):(b=JSON.parse(d(a)),h.environment=b.environment,h.attrs.authorizationFingerprint=b.authorizationFingerprint,h.configUrl=b.configUrl,h.graphQL=b.graphQL),h}},{"../lib/constants":38,"../lib/vendor/polyfill":52}],42:[function(a,b,c){"use strict";b.exports=function(a){return function(){var b=arguments;setTimeout(function(){a.apply(null,b)},1)}}},{}],43:[function(a,b,c){"use strict";b.exports=function(a,b){return b=null==b?"":b,a.reduce(function(a,c){return a[c]=b+c,a},{})}},{}],44:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:d.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:d.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:d.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:d.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:d.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":37}],45:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return new Date(b[0],b[1],b[2])}b.exports=function(a,b){return d(a)<=d(b)}},{}],46:[function(a,b,c){"use strict";var d,e={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};b.exports=function(a){var b;return a=a.toLowerCase(),!!/^https:/.test(a)&&((d=d||document.createElement("a")).href=a,b=d.hostname.split(".").slice(-2).join("."),e.hasOwnProperty(b))}},{}],47:[function(a,b,c){"use strict";b.exports=function(a){return JSON.parse(JSON.stringify(a))}},{}],48:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).filter(function(b){return"function"==typeof a[b]})}},{}],49:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],50:[function(a,b,c){(function(c){"use strict";var d=c.Promise||a("promise-polyfill");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":10}],51:[function(a,b,c){(function(a){"use strict";function c(a,b){var d,e,f,g,h=[];for(f in a)a.hasOwnProperty(f)&&(e=a[f],d=b?(g=a)&&"object"==typeof g&&"number"==typeof g.length&&"[object Array]"===Object.prototype.toString.call(g)?b+"[]":b+"["+f+"]":f,"object"==typeof e?h.push(c(e,d)):h.push(encodeURIComponent(d)+"="+encodeURIComponent(e)));return h.join("&")}b.exports={parse:function(b){return b=b||a.location.href,/\?/.test(b)?b.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce(function(a,b){var c=b.split("="),d=decodeURIComponent(c[0]),e=decodeURIComponent(c[1]);return a[d]=e,a},{}):{}},stringify:c,queryify:function(a,b){return a=a||"",null!=b&&"object"==typeof b&&function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!0;return!1}(b)&&(a+=-1===a.indexOf("?")?"?":"",a+=-1!==a.indexOf("=")?"&":"",a+=c(b)),a}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(a,b,c){(function(a){"use strict";function c(a){var b,c,d,e,f,g,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(a))throw new Error("Non base64 encoded input passed to window.atob polyfill");for(g=0;b=(63&h.indexOf(a.charAt(g++)))<<2|(e=h.indexOf(a.charAt(g++)))>>4&3,c=(15&e)<<4|(f=h.indexOf(a.charAt(g++)))>>2&15,d=(3&f)<<6|63&h.indexOf(a.charAt(g++)),i+=String.fromCharCode(b)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):""),g<a.length;);return i}var d="function"==typeof a.atob?a.atob:c;b.exports={atob:function(b){return d.call(a,b)},_atob:c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(a,b,c){"use strict";b.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}},{}]},{},[16])(16)}),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;((b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).braintree||(b.braintree={})).hostedFields=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";var d=a("promise-polyfill");b.exports=c.Promise||d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":23}],2:[function(a,b,c){"use strict";function d(a){var b,c,d,g,h=JSON.stringify(a);return!a.forceScriptReload&&(g=f[h])?g:(d=document.createElement("script"),b=a.dataAttributes||{},c=a.container||document.head,d.src=a.src,d.id=a.id,d.async=!0,Object.keys(b).forEach(function(a){d.setAttribute("data-"+a,b[a])}),g=new e(function(b,e){d.addEventListener("load",function(){b(d)}),d.addEventListener("error",function(){e(new Error(a.src+" failed to load."))}),d.addEventListener("abort",function(){e(new Error(a.src+" has aborted."))}),c.appendChild(d)}),f[h]=g)}var e=a("./lib/promise"),f={};d.clearCache=function(){f={}},b.exports=d},{"./lib/promise":1}],3:[function(a,b,c){(function(a){"use strict";b.exports=function(b){return b=b||a.navigator.userAgent,/Android/.test(b)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(a,b,c){"use strict";var d=a("./is-edge"),e=a("./is-samsung");b.exports=function(a){return!(-1===(a=a||navigator.userAgent).indexOf("Chrome")&&-1===a.indexOf("CriOS")||d(a)||e(a))}},{"./is-edge":5,"./is-samsung":11}],5:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||navigator.userAgent).indexOf("Edge/");
}},{}],6:[function(a,b,c){(function(c){"use strict";var d=a("./is-ie11");b.exports=function(a){return-1!==(a=a||c.navigator.userAgent).indexOf("MSIE")||d(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":7}],7:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||navigator.userAgent).indexOf("Trident/7")}},{}],8:[function(a,b,c){"use strict";b.exports=function(a){return-1!==(a=a||navigator.userAgent).indexOf("MSIE 9")}},{}],9:[function(a,b,c){(function(c){"use strict";var d=a("./is-ios");b.exports=function(a){return a=a||c.navigator.userAgent,!!d(a)&&(!!/\bGSA\b/.test(a)||/.+AppleWebKit(?!.*Safari)/.test(a))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios":10}],10:[function(a,b,c){(function(a){"use strict";b.exports=function(b){return b=b||a.navigator.userAgent,/iPhone|iPod|iPad/i.test(b)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(a,b,c){(function(a){"use strict";b.exports=function(b){return b=b||a.navigator.userAgent,/SamsungBrowser/i.test(b)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(a,b,c){"use strict";function d(a){return a.className.trim().split(/\s+/)}function e(a){var b=Array.prototype.slice.call(arguments,1),c=d(a).filter(function(a){return-1===b.indexOf(a)}).concat(b).join(" ");a.className=c}function f(a){var b=Array.prototype.slice.call(arguments,1),c=d(a).filter(function(a){return-1===b.indexOf(a)}).join(" ");a.className=c}b.exports={add:e,remove:f,toggle:function(a,b,c){c?e(a,b):f(a,b)}}},{}],13:[function(a,b,c){"use strict";var d=a("./lib/set-attributes"),e=a("./lib/default-attributes"),f=a("./lib/assign");b.exports=function(a){var b=document.createElement("iframe"),c=f({},e,a);return c.style&&"string"!=typeof c.style&&(f(b.style,c.style),delete c.style),d(b,c),b.getAttribute("id")||(b.id=b.name),b}},{"./lib/assign":14,"./lib/default-attributes":15,"./lib/set-attributes":16}],14:[function(a,b,c){"use strict";b.exports=function(a){return Array.prototype.slice.call(arguments,1).forEach(function(b){"object"==typeof b&&Object.keys(b).forEach(function(c){a[c]=b[c]})}),a}},{}],15:[function(a,b,c){"use strict";b.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],16:[function(a,b,c){"use strict";b.exports=function(a,b){var c;for(var d in b)b.hasOwnProperty(d)&&(null==(c=b[d])?a.removeAttribute(d):a.setAttribute(d,c))}},{}],17:[function(a,b,c){"use strict";b.exports=function(a){return function(){var b=arguments;setTimeout(function(){a.apply(null,b)},1)}}},{}],18:[function(a,b,c){"use strict";b.exports=function(a){var b=!1;return function(){b||(b=!0,a.apply(null,arguments))}}},{}],19:[function(a,b,c){"use strict";b.exports=function(a,b){return b?void a.then(function(a){b(null,a)})["catch"](function(a){b(a)}):a}},{}],20:[function(a,b,c){"use strict";function d(a){return function(){var b,c=Array.prototype.slice.call(arguments);return"function"==typeof c[c.length-1]&&(b=c.pop(),b=f(e(b))),g(a.apply(this,c),b)}}var e=a("./lib/deferred"),f=a("./lib/once"),g=a("./lib/promise-or-callback");d.wrapPrototype=function(a,b){var c,e;return c=(b=b||{}).ignoreMethods||[],e=!0===b.transformPrivateMethods,Object.getOwnPropertyNames(a.prototype).filter(function(b){var d,f="constructor"!==b&&"function"==typeof a.prototype[b],g=-1===c.indexOf(b);return d=!!e||"_"!==b.charAt(0),f&&d&&g}).forEach(function(b){var c=a.prototype[b];a.prototype[b]=d(c)}),a},b.exports=d},{"./lib/deferred":17,"./lib/once":18,"./lib/promise-or-callback":19}],21:[function(a,b,c){"use strict";function d(a){return a?JSON.parse(JSON.stringify(a)):null}function e(a){return k[a]||j[a]}function f(a){var b,c,f=[];return"string"==typeof(c=a)||c instanceof String?0===a.length?i.map(function(a){return d(e(a))}):(i.forEach(function(b){var c=e(b);!function(a,b,c){var e,f,h,i;for(e=0;e<b.patterns.length;e++)if(f=b.patterns[e],g(a,f)){i=d(b),h=Array.isArray(f)?String(f[0]).length:String(f).length,a.length>=h&&(i.matchStrength=h),c.push(i);break}}(a,c,f)}),(b=function(a){var b,c;if(0<(c=(b=a).filter(function(a){return a.matchStrength}).length)&&c===b.length)return a.reduce(function(a,b){return a?a.matchStrength<b.matchStrength?b:a:b})}(f))?[b]:f):[]}function g(a,b){return Array.isArray(b)?(c=a,d=b[0],e=b[1],f=String(d).length,g=c.substr(0,f),h=parseInt(g,10),d=parseInt(String(d).substr(0,g.length),10),e=parseInt(String(e).substr(0,g.length),10),d<=h&&h<=e):(i=a,j=b,(j=String(j)).substring(0,i.length)===i.substring(0,j.length));var c,d,e,f,g,h,i,j}function h(a,b){var c=i.indexOf(a);if(!b&&-1===c)throw new Error('"'+a+'" is not a supported card type.');return c}var i,j={},k={},l="visa",m="mastercard",n="american-express",o="diners-club",p="discover",q="elo",r="jcb",s="unionpay",t="maestro",u="mir",v=[l,m,n,o,p,r,s,t,q,u];i=d(v),j[l]={niceType:"Visa",type:l,patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},j[m]={niceType:"Mastercard",type:m,patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},j[n]={niceType:"American Express",type:n,patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},j[o]={niceType:"Diners Club",type:o,patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},j[p]={niceType:"Discover",type:p,patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},j.jcb={niceType:"JCB",type:r,patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},j[s]={niceType:"UnionPay",type:s,patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVN",size:3}},j[t]={niceType:"Maestro",type:t,patterns:[493698,[5e5,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},j.elo={niceType:"Elo",type:q,patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},j.mir={niceType:"Mir",type:u,patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},f.getTypeInfo=function(a){return d(e(a))},f.removeCard=function(a){var b=h(a);i.splice(b,1)},f.addCard=function(a){var b=h(a.type,!0);k[a.type]=a,-1===b&&i.push(a.type)},f.updateCard=function(a,b){var c,e=k[a]||j[a];if(!e)throw new Error('"'+a+'" is not a recognized type. Use `addCard` instead.');if(b.type&&e.type!==b.type)throw new Error("Cannot overwrite type parameter.");c=d(e),Object.keys(c).forEach(function(a){b[a]&&(c[a]=b[a])}),k[c.type]=c},f.changeOrder=function(a,b){var c=h(a);i.splice(c,1),i.splice(b,0,a)},f.resetModifications=function(){i=d(v),k={}},f.types={VISA:l,MASTERCARD:m,AMERICAN_EXPRESS:n,DINERS_CLUB:o,DISCOVER:p,JCB:r,UNIONPAY:s,MAESTRO:t,ELO:q,MIR:u},b.exports=f},{}],22:[function(a,b,c){(function(a){"use strict";function c(a){var b,c=f(this);return!g(a)&&!g(c)&&!1!==(b=h(a,Array.prototype.slice.call(arguments,1),c))&&(n(q.top||q.self,b,c),!0)}function d(a,b){var c=f(this);return!p(a,b,c)&&(t[c]=t[c]||{},t[c][a]=t[c][a]||[],t[c][a].push(b),!0)}function e(a,b){var c,d,e=f(this);if(p(a,b,e))return!1;if(!(d=t[e]&&t[e][a]))return!1;for(c=0;c<d.length;c++)if(d[c]===b)return d.splice(c,1),!0;return!1}function f(a){return a&&a._origin||"*"}function g(a){return"string"!=typeof a}function h(a,b,c){var d=!1,e={event:a,origin:c},f=b[b.length-1];"function"==typeof f&&(e.reply=o(f,c),b=b.slice(0,-1)),e.args=b;try{d=u+JSON.stringify(e)}catch(a){throw new Error("Could not stringify event: "+a.message)}return d}function i(a){var b,c,d,e;if(a.data.slice(0,u.length)!==u)return!1;try{b=JSON.parse(a.data.slice(u.length))}catch(a){return!1}return null!=b.reply&&(c=a.origin,d=a.source,e=b.reply,b.reply=function(a){var b;return!!d&&!1!==(b=h(e,[a],c))&&void d.postMessage(b,c)},b.args.push(b.reply)),b}function j(b){q||((q=b||a).addEventListener?q.addEventListener("message",l,!1):q.attachEvent?q.attachEvent("onmessage",l):null===q.onmessage?q.onmessage=l:q=null)}function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}function l(a){var b;g(a.data)||(b=i(a))&&(m("*",b.event,b.args,a),m(a.origin,b.event,b.args,a),function(a,b,c){var d,e;for(d=s.length-1;0<=d;d--)!0===(e=s[d]).closed?s=s.slice(d,1):c!==e&&n(e.top,a,b)}(a.data,b.origin,a.source))}function m(a,b,c,d){var e;if(t[a]&&t[a][b])for(e=0;e<t[a][b].length;e++)t[a][b][e].apply(d,c)}function n(a,b,c){var d,e,f=0;try{for(a.postMessage(b,c),(e=a).top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed&&n(a.opener.top,b,c);d=a.frames[f];)n(d,b,c),f++}catch(a){}}function o(a,b){var c=k();return r.target(b).subscribe(c,function d(e,f){a(e,f),r.target(b).unsubscribe(c,d)}),c}function p(a,b,c){return!!g(a)||"function"!=typeof b||!!g(c)}var q,r,s=[],t={},u="/*framebus*/";j(),r={target:function(a){var b,c={};for(b in r)r.hasOwnProperty(b)&&(c[b]=r[b]);return c._origin=a||"*",c},_packagePayload:h,_unpackPayload:i,_attach:j,_detach:function(){null!=q&&(q.removeEventListener?q.removeEventListener("message",l,!1):q.detachEvent?q.detachEvent("onmessage",l):q.onmessage===l&&(q.onmessage=null),q=null,s=[],t={})},_dispatch:m,_broadcast:n,_subscribeReplier:o,_subscriptionArgsInvalid:p,_onmessage:l,_uuid:k,_getSubscribers:function(){return t},_win:function(){return q},include:function(a){return null!=a&&null!=a.Window&&a.constructor===a.Window&&(s.push(a),!0)},publish:c,pub:c,trigger:c,emit:c,subscribe:d,sub:d,on:d,unsubscribe:e,unsub:e,off:e},b.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(a,b,c){"use strict";function d(){}function e(a){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(a,this)}function f(a,b){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,e._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null!==c){var d;try{d=c(a._value)}catch(c){return void h(b.promise,c)}g(b.promise,d)}else(1===a._state?g:h)(b.promise,a._value)})):a._deferreds.push(b)}function g(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof e)return a._state=3,a._value=b,void i(a);if("function"==typeof c)return void k((d=c,f=b,function(){d.apply(f,arguments)}),a)}a._state=1,a._value=b,i(a)}catch(b){h(a,b)}var d,f}function h(a,b){a._state=2,a._value=b,i(a)}function i(a){2===a._state&&0===a._deferreds.length&&e._immediateFn(function(){a._handled||e._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)f(a,a._deferreds[b]);a._deferreds=null}function j(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function k(a,b){var c=!1;try{a(function(a){c||(c=!0,g(b,a))},function(a){c||(c=!0,h(b,a))})}catch(a){if(c)return;c=!0,h(b,a)}}var l=setTimeout;e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){var c=new this.constructor(d);return f(this,new j(a,b,c)),c},e.prototype["finally"]=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},function(c){return b.resolve(a()).then(function(){return b.reject(c)})})},e.all=function(a){return new e(function(b,c){function d(a,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(b){d(a,b)},c)}e[a]=g,0==--f&&b(e)}catch(g){c(g)}}if(!a||void 0===a.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})},e.resolve=function(a){return a&&"object"==typeof a&&a.constructor===e?a:new e(function(b){b(a)})},e.reject=function(a){return new e(function(b,c){c(a)})},e.race=function(a){return new e(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},e._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){l(a,0)},e._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},b.exports=e},{}],24:[function(a,b,c){(function(c){"use strict";var d=c.navigator&&c.navigator.userAgent,e=a("@braintree/browser-detection/is-android"),f=a("@braintree/browser-detection/is-chrome"),g=a("@braintree/browser-detection/is-ios"),h=a("@braintree/browser-detection/is-ie9"),i=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;b.exports={isIE9:h,isAndroidChrome:function(a){var b=a||d;return e(b)&&f(b)},isIos:g,isKitKatWebview:function(a){var b=a||d;return e(b)&&i.test(b)},isSamsungBrowser:function(a){return/SamsungBrowser/.test(a=a||d)||!f(b=a)&&-1<b.indexOf("Samsung");var b}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":4,"@braintree/browser-detection/is-ie9":8,"@braintree/browser-detection/is-ios":10}],25:[function(a,b,c){"use strict";var d=a("./lib/device");b.exports=function(){return!d.isSamsungBrowser()}},{"./lib/device":24}],26:[function(a,b,c){"use strict";var d=a("../../lib/braintree-error"),e=a("../shared/errors"),f=a("../shared/constants").allowedAttributes;b.exports=function(a,b){var c;return f.hasOwnProperty(a)?null==b||(g=a,h=b,"string"===f[g]?"string"==typeof h||"number"==typeof h:"boolean"===f[g]&&("true"===String(h)||"false"===String(h)))||(c=new d({type:e.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:e.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+b+'" is not allowed for "'+a+'" attribute.'})):c=new d({type:e.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:e.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+a+'" attribute is not supported in Hosted Fields.'}),c;var g,h}},{"../../lib/braintree-error":43,"../shared/constants":33,"../shared/errors":34}],27:[function(a,b,c){"use strict";var d=a("../shared/constants"),e=a("../../lib/use-min");b.exports=function(a,b,c){return a+"/web/"+d.VERSION+"/html/hosted-fields-frame"+e(c)+".html#"+b}},{"../../lib/use-min":61,"../shared/constants":33}],28:[function(a,b,c){(function(c){"use strict";var d=a("../shared/constants").allowedStyles;b.exports=function(a){var b,e=document.createElement("input"),f={};return"."===a[0]&&(a=a.substring(1)),e.className=a,e.style.display="none !important",e.style.position="fixed !important",e.style.left="-99999px !important",e.style.top="-99999px !important",c.document.body.appendChild(e),b=c.getComputedStyle(e),d.forEach(function(a){var c=b[a];c&&(f[a]=c)}),c.document.body.removeChild(e),f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../shared/constants":33}],29:[function(a,b,c){"use strict";function d(a){return function(b){var c,d=b.merchantPayload,e=d.emittedBy,f=a[e].containerElement;Object.keys(d.fields).forEach(function(b){d.fields[b].container=a[b].containerElement}),c=d.fields[e],"blur"===b.type&&function(a){var b;u.isIos()&&document.activeElement===document.body&&((b=a.querySelector("input"))||((b=document.createElement("input")).type="button",b.style.height="0px",b.style.width="0px",b.style.opacity="0",b.style.padding="0",b.style.position="absolute",b.style.left="-200%",b.style.top="0px",a.insertBefore(b,a.firstChild)),b.focus(),b.blur())}(f),i.toggle(f,p.externalClasses.FOCUSED,c.isFocused),i.toggle(f,p.externalClasses.VALID,c.isValid),i.toggle(f,p.externalClasses.INVALID,!c.isPotentiallyValid),this._state={cards:d.cards,fields:d.fields},this._emit(b.type,d)}}function e(a){var b,c,t,z,E,G=this,H={},I=f({},a),J={},K=[],L=s();if(a.client?(t=(c=a.client.getConfiguration()).gatewayConfiguration.assetsUrl,z=c.isDebug):(t=g.create(a.authorization),z=Boolean(a.isDebug)),this._clientPromise=l.create({client:a.client,authorization:a.authorization,debug:z,assetsUrl:t,name:"Hosted Fields"}),E=n(t,L,z),!a.fields||0===Object.keys(a.fields).length)throw new m({type:C.INSTANTIATION_OPTION_REQUIRED.type,code:C.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});w.call(this),this._injectedNodes=[],this._destructor=new h,this._fields=H,this._state={fields:{},cards:D("")},this._bus=new k({channel:L,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown(function(){G._bus.teardown()}),y.sendEvent(this._clientPromise,"custom.hosted-fields.initialized"),Object.keys(a.fields).forEach(function(b){var c,d,e,f;if(!p.allowedFields.hasOwnProperty(b))throw new m({type:q.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:q.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+b+'" is not a valid field.'});if(c=a.fields[b],!(d=document.querySelector(c.selector)))throw new m({type:q.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:q.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:q.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:c.selector,fieldKey:b}});if(d.querySelector('iframe[name^="braintree-"]'))throw new m({type:q.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:q.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:q.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:c.selector,fieldKey:b}});if(c.maxlength&&"number"!=typeof c.maxlength)throw new m({type:q.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:q.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:b}});if(c.minlength&&"number"!=typeof c.minlength)throw new m({type:q.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:q.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:b}});e=j({type:b,name:"braintree-hosted-field-"+b,style:p.defaultIFrameStyle,title:"Secure Credit Card Frame - "+p.allowedFields[b].label}),this._injectedNodes.push.apply(this._injectedNodes,x(e,d)),this._setupLabelFocus(b,d),H[b]={frameElement:e,containerElement:d},f=new F(function(a){J[b]=a}),K.push(f),this._state.fields[b]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:d},setTimeout(function(){u.isIE()||u.isEdge()?(e.src="about:blank",setTimeout(function(){e.src=E},0)):e.src=E},0)}.bind(this)),I.styles&&Object.keys(I.styles).forEach(function(a){var b=I.styles[a];"string"==typeof b&&(I.styles[a]=o(b))}),this._bus.on(v.READY_FOR_CLIENT,function(a){G._clientPromise.then(function(b){a(b)})}),b=setTimeout(function(){y.sendEvent(G._clientPromise,"custom.hosted-fields.load.timed-out"),G._emit("timeout")},r),F.all(K).then(function(a){var c=a[0];clearTimeout(b),c(I),G._emit("ready")}),this._bus.on(v.FRAME_READY,function(a,b){J[a.field](b)}),this._bus.on(v.INPUT_EVENT,d(H).bind(this)),this._destructor.registerFunctionForTeardown(function(){var a,b,c;for(a=0;a<G._injectedNodes.length;a++)(c=(b=G._injectedNodes[a]).parentNode).removeChild(b),i.remove(c,p.externalClasses.FOCUSED,p.externalClasses.INVALID,p.externalClasses.VALID)}),this._destructor.registerFunctionForTeardown(function(){var a=A(e.prototype).concat(A(w.prototype));B(G,a)})}var f=a("../../lib/assign").assign,g=a("../../lib/create-assets-url"),h=a("../../lib/destructor"),i=a("@braintree/class-list"),j=a("@braintree/iframer"),k=a("../../lib/bus"),l=a("../../lib/create-deferred-client"),m=a("../../lib/braintree-error"),n=a("./compose-url"),o=a("./get-styles-from-class"),p=a("../shared/constants"),q=a("../shared/errors"),r=a("../../lib/constants").INTEGRATION_TIMEOUT_MS,s=a("../../lib/vendor/uuid"),t=a("../shared/find-parent-tags"),u=a("../shared/browser-detection"),v=p.events,w=a("../../lib/event-emitter"),x=a("./inject-frame"),y=a("../../lib/analytics"),z=p.allowedFields,A=a("../../lib/methods"),B=a("../../lib/convert-methods-to-error"),C=a("../../lib/errors"),D=a("../shared/get-card-types"),E=a("./attribute-validation-error"),F=a("../../lib/promise"),G=a("@braintree/wrap-promise");(e.prototype=Object.create(w.prototype,{constructor:e}))._setupLabelFocus=function(a,b){function c(){g.emit(v.TRIGGER_INPUT_FOCUS,a)}var d,e,f=u.isIos(),g=this._bus;if(!f&&null!=b.id){for(d=(d=Array.prototype.slice.call(document.querySelectorAll('label[for="'+b.id+'"]'))).concat(t(b,"label")),e=0;e<d.length;e++)d[e].addEventListener("click",c,!1);this._destructor.registerFunctionForTeardown(function(){for(e=0;e<d.length;e++)d[e].removeEventListener("click",c,!1)})}},e.prototype._attachInvalidFieldContainersToError=function(a){a.details&&a.details.invalidFieldKeys&&0<a.details.invalidFieldKeys.length&&(a.details.invalidFields={},a.details.invalidFieldKeys.forEach(function(b){a.details.invalidFields[b]=this._fields[b].containerElement}.bind(this)))},e.prototype.teardown=function(){var a=this;return new F(function(b,c){a._destructor.teardown(function(d){y.sendEvent(a._clientPromise,"custom.hosted-fields.teardown-completed"),d?c(d):b()})})},e.prototype.tokenize=function(a){var b=this;return a||(a={}),new F(function(c,d){b._bus.emit(v.TOKENIZATION_REQUEST,a,function(a){var e=a[0],f=a[1];e?(b._attachInvalidFieldContainersToError(e),d(new m(e))):c(f)})})},e.prototype.addClass=function(a,b){var c;return z.hasOwnProperty(a)?this._fields.hasOwnProperty(a)?this._bus.emit(v.ADD_CLASS,a,b):c=new m({type:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+a+'" field because it is not part of the current Hosted Fields options.'}):c=new m({type:q.HOSTED_FIELDS_FIELD_INVALID.type,code:q.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+a+'" is not a valid field. You must use a valid field option when adding a class.'}),c?F.reject(c):F.resolve()},e.prototype.removeClass=function(a,b){var c;return z.hasOwnProperty(a)?this._fields.hasOwnProperty(a)?this._bus.emit(v.REMOVE_CLASS,a,b):c=new m({type:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+a+'" field because it is not part of the current Hosted Fields options.'}):c=new m({type:q.HOSTED_FIELDS_FIELD_INVALID.type,code:q.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+a+'" is not a valid field. You must use a valid field option when removing a class.'}),c?F.reject(c):F.resolve()},e.prototype.setAttribute=function(a){var b,c;return z.hasOwnProperty(a.field)?this._fields.hasOwnProperty(a.field)?(b=E(a.attribute,a.value))?c=b:this._bus.emit(v.SET_ATTRIBUTE,a.field,a.attribute,a.value):c=new m({type:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+a.field+'" field because it is not part of the current Hosted Fields options.'}):c=new m({type:q.HOSTED_FIELDS_FIELD_INVALID.type,code:q.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+a.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),c?F.reject(c):F.resolve()},e.prototype.setMessage=function(a){this._bus.emit(v.SET_MESSAGE,a.field,a.message)},e.prototype.removeAttribute=function(a){var b,c;return z.hasOwnProperty(a.field)?this._fields.hasOwnProperty(a.field)?(b=E(a.attribute))?c=b:this._bus.emit(v.REMOVE_ATTRIBUTE,a.field,a.attribute):c=new m({type:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+a.field+'" field because it is not part of the current Hosted Fields options.'}):c=new m({type:q.HOSTED_FIELDS_FIELD_INVALID.type,code:q.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+a.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),c?F.reject(c):F.resolve()},e.prototype.setPlaceholder=function(a,b){return this.setAttribute({field:a,attribute:"placeholder",value:b})},e.prototype.clear=function(a){var b;return z.hasOwnProperty(a)?this._fields.hasOwnProperty(a)?this._bus.emit(v.CLEAR_FIELD,a):b=new m({type:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+a+'" field because it is not part of the current Hosted Fields options.'}):b=new m({type:q.HOSTED_FIELDS_FIELD_INVALID.type,code:q.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+a+'" is not a valid field. You must use a valid field option when clearing a field.'}),b?F.reject(b):F.resolve()},e.prototype.focus=function(a){var b;return z.hasOwnProperty(a)?this._fields.hasOwnProperty(a)?this._bus.emit(v.TRIGGER_INPUT_FOCUS,a):b=new m({type:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:q.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+a+'" field because it is not part of the current Hosted Fields options.'}):b=new m({type:q.HOSTED_FIELDS_FIELD_INVALID.type,code:q.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+a+'" is not a valid field. You must use a valid field option when focusing a field.'}),b?F.reject(b):F.resolve()},e.prototype.getState=function(){return this._state},b.exports=G.wrapPrototype(e)},{"../../lib/analytics":38,"../../lib/assign":40,"../../lib/braintree-error":43,"../../lib/bus":46,"../../lib/constants":47,"../../lib/convert-methods-to-error":48,"../../lib/create-assets-url":49,"../../lib/create-deferred-client":51,"../../lib/destructor":52,"../../lib/errors":54,"../../lib/event-emitter":55,"../../lib/methods":58,"../../lib/promise":60,"../../lib/vendor/uuid":63,"../shared/browser-detection":32,"../shared/constants":33,"../shared/errors":34,"../shared/find-parent-tags":35,"../shared/get-card-types":36,"./attribute-validation-error":26,"./compose-url":27,"./get-styles-from-class":28,"./inject-frame":30,"@braintree/class-list":12,"@braintree/iframer":13,"@braintree/wrap-promise":20}],30:[function(a,b,c){"use strict";b.exports=function(a,b){var c=document.createElement("div"),d=document.createDocumentFragment();return c.style.clear="both",d.appendChild(a),d.appendChild(c),b.appendChild(d),[a,c]}},{}],31:[function(a,b,c){"use strict";var d=a("./external/hosted-fields"),e=a("../lib/basic-component-verification"),f=a("./shared/errors"),g=a("restricted-input/supports-input-formatting"),h=a("@braintree/wrap-promise"),i=a("../lib/braintree-error"),j=a("../lib/promise");b.exports={supportsInputFormatting:g,create:h(function(a){return e.verify({name:"Hosted Fields",authorization:a.authorization,client:a.client}).then(function(){var b=new d(a);return new j(function(a,c){b.on("ready",function(){a(b)}),b.on("timeout",function(){c(new i(f.HOSTED_FIELDS_TIMEOUT))})})})}),VERSION:"3.40.0"}},{"../lib/basic-component-verification":41,"../lib/braintree-error":43,"../lib/promise":60,"./external/hosted-fields":29,"./shared/errors":34,"@braintree/wrap-promise":20,"restricted-input/supports-input-formatting":25}],32:[function(a,b,c){"use strict";b.exports={isIE:a("@braintree/browser-detection/is-ie"),isEdge:a("@braintree/browser-detection/is-edge"),isIe9:a("@braintree/browser-detection/is-ie9"),isIos:a("@braintree/browser-detection/is-ios"),isIosWebview:a("@braintree/browser-detection/is-ios-webview")}},{"@braintree/browser-detection/is-edge":5,"@braintree/browser-detection/is-ie":6,"@braintree/browser-detection/is-ie9":8,"@braintree/browser-detection/is-ios":10,"@braintree/browser-detection/is-ios-webview":9}],33:[function(a,b,c){"use strict";var d=a("../../lib/enumerate"),e=a("./errors"),f={VERSION:"3.40.0",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%","float":"left"},tokenizationErrorCodes:{81724:e.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:e.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","padding","opacity","outline","text-shadow","transition"],allowedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};f.events=d(["READY_FOR_CLIENT","FRAME_READY","VALIDATE_STRICT","CONFIGURATION","TOKENIZATION_REQUEST","INPUT_EVENT","TRIGGER_INPUT_FOCUS","ADD_CLASS","REMOVE_CLASS","SET_ATTRIBUTE","REMOVE_ATTRIBUTE","CLEAR_FIELD","AUTOFILL_EXPIRATION_DATE","SET_MESSAGE"],"hosted-fields:"),b.exports=f},{"../../lib/enumerate":53,"./errors":34}],34:[function(a,b,c){"use strict";var d=a("../../lib/braintree-error");b.exports={HOSTED_FIELDS_TIMEOUT:{type:d.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:d.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:d.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:d.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:d.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:d.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:d.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."
},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:d.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":43}],35:[function(a,b,c){"use strict";b.exports=function(a,b){for(var c=a.parentNode,d=[];null!=c;)null!=c.tagName&&c.tagName.toLowerCase()===b&&d.push(c),c=c.parentNode;return d}},{}],36:[function(a,b,c){"use strict";var d=a("credit-card-type");b.exports=function(a){var b=d(a);return b.forEach(function(a){"mastercard"===a.type&&(a.type="master-card")}),b}},{"credit-card-type":21}],37:[function(a,b,c){"use strict";var d=a("./create-authorization-data"),e=a("./json-clone"),f=a("./constants");b.exports=function(a,b){var c,g=b?e(b):{},h=d(a.authorization).attrs,i=e(a.analyticsMetadata);for(c in g.braintreeLibraryVersion=f.BRAINTREE_LIBRARY_VERSION,g._meta)g._meta.hasOwnProperty(c)&&(i[c]=g._meta[c]);return g._meta=i,h.tokenizationKey?g.tokenizationKey=h.tokenizationKey:g.authorizationFingerprint=h.authorizationFingerprint,g}},{"./constants":47,"./create-authorization-data":50,"./json-clone":57}],38:[function(a,b,c){"use strict";function d(a){return Math.floor(a/1e3)}var e=a("./promise"),f=a("./constants"),g=a("./add-metadata");b.exports={sendEvent:function(a,b,c){var h=d(Date.now());return e.resolve(a).then(function(a){var e=d(Date.now()),i=a.getConfiguration(),j=a._request,k=i.gatewayConfiguration.analytics.url,l={analytics:[{kind:f.ANALYTICS_PREFIX+b,isAsync:e!==h,timestamp:h}]};j({url:k,method:"post",data:g(i,l),timeout:f.ANALYTICS_REQUEST_TIMEOUT_MS},c)})}}},{"./add-metadata":37,"./constants":47,"./promise":60}],39:[function(a,b,c){"use strict";var d=a("@braintree/asset-loader/load-script");b.exports={loadScript:d}},{"@braintree/asset-loader/load-script":2}],40:[function(a,b,c){"use strict";function d(a){var b,c,d;for(b=1;b<arguments.length;b++)for(d in c=arguments[b])c.hasOwnProperty(d)&&(a[d]=c[d]);return a}var e="function"==typeof Object.assign?Object.assign:d;b.exports={assign:e,_assign:d}},{}],41:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./promise"),f=a("./errors");b.exports={verify:function(a){var b,c,g;return a?(g=a.name,b=a.client,c=a.authorization,null==b&&null==c?e.reject(new d({type:f.INSTANTIATION_OPTION_REQUIRED.type,code:f.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+g+"."})):c||"3.40.0"===b.getVersion()?e.resolve():e.reject(new d({type:f.INCOMPATIBLE_VERSIONS.type,code:f.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+b.getVersion()+") and "+g+" (version 3.40.0) components must be from the same SDK version."}))):e.reject(new d({type:f.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:f.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":43,"./errors":54,"./promise":60}],42:[function(a,b,c){"use strict";var d=a("./once");b.exports=function(a,b){function c(a){a?j(a):0===(i-=1)&&j(null)}var e,f,g,h=a.length,i=h,j=d(b);if(0!==h)for(e=0;e<h;e++)f=a[e],g=c,0===f.length?(f(),g(null)):f(g);else j(null)}},{"./once":59}],43:[function(a,b,c){"use strict";function d(a){if(!d.types.hasOwnProperty(a.type))throw new Error(a.type+" is not a valid type.");if(!a.code)throw new Error("Error code required.");if(!a.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=a.code,this.message=a.message,this.type=a.type,this.details=a.details}var e=a("./enumerate");((d.prototype=Object.create(Error.prototype)).constructor=d).types=e(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),d.findRootError=function(a){return a instanceof d&&a.details&&a.details.originalError?d.findRootError(a.details.originalError):a},b.exports=d},{"./enumerate":53}],44:[function(a,b,c){"use strict";var d=a("../is-verified-domain");b.exports={checkOrigin:function(a,b){var c,e=document.createElement("a");return e.href=b,c="https:"===e.protocol?e.host.replace(/:443$/,""):"http:"===e.protocol?e.host.replace(/:80$/,""):e.host,e.protocol+"//"+c===a||(e.href=a,d(a))}}},{"../is-verified-domain":56}],45:[function(a,b,c){"use strict";var d=a("../enumerate");b.exports=d(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":53}],46:[function(a,b,c){"use strict";function d(a){if(a=a||{},this.channel=a.channel,!this.channel)throw new h({type:h.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=a.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}var e=a("framebus"),f=a("./events"),g=a("./check-origin").checkOrigin,h=a("../braintree-error");d.prototype.on=function(a,b){var c,d,f=b,h=this;this._isDestroyed||(this.merchantUrl&&(f=function(){g(this.origin,h.merchantUrl)&&b.apply(this,arguments)}),c=this._namespaceEvent(a),(d=Array.prototype.slice.call(arguments))[0]=c,d[1]=f,this._log("on",d),e.on.apply(e,d),this._listeners.push({eventName:a,handler:f,originalHandler:b}))},d.prototype.emit=function(a){var b;this._isDestroyed||((b=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(a),this._log("emit",b),e.emit.apply(e,b))},d.prototype._offDirect=function(a){var b=Array.prototype.slice.call(arguments);this._isDestroyed||(b[0]=this._namespaceEvent(a),this._log("off",b),e.off.apply(e,b))},d.prototype.off=function(a,b){var c,d,e=b;if(!this._isDestroyed){if(this.merchantUrl)for(c=0;c<this._listeners.length;c++)(d=this._listeners[c]).originalHandler===b&&(e=d.handler);this._offDirect(a,e)}},d.prototype._namespaceEvent=function(a){return["braintree",this.channel,a].join(":")},d.prototype.teardown=function(){var a,b;for(b=0;b<this._listeners.length;b++)a=this._listeners[b],this._offDirect(a.eventName,a.handler);this._listeners.length=0,this._isDestroyed=!0},d.prototype._log=function(a,b){this._isVerbose&&console.log(a,b)},d.events=f,b.exports=d},{"../braintree-error":43,"./check-origin":44,"./events":45,framebus:22}],47:[function(a,b,c){"use strict";b.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.40.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.40.0"}},{}],48:[function(a,b,c){"use strict";var d=a("./braintree-error"),e=a("./errors");b.exports=function(a,b){b.forEach(function(b){a[b]=function(){throw new d({type:e.METHOD_CALLED_AFTER_TEARDOWN.type,code:e.METHOD_CALLED_AFTER_TEARDOWN.code,message:b+" cannot be called after teardown."})}})}},{"./braintree-error":43,"./errors":54}],49:[function(a,b,c){"use strict";var d=a("./constants").ASSETS_URLS;b.exports={create:function(a){return d.production}}},{"./constants":47}],50:[function(a,b,c){"use strict";var d=a("../lib/vendor/polyfill").atob,e=a("../lib/constants").CLIENT_API_URLS;b.exports=function(a){var b,c,f,g,h={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(a)?(f=a.split("_"),g=f[0],c={merchantId:f.slice(2).join("_"),environment:g},h.environment=c.environment,h.attrs.tokenizationKey=a,h.configUrl=e[c.environment]+"/merchants/"+c.merchantId+"/client_api/v1/configuration"):(b=JSON.parse(d(a)),h.environment=b.environment,h.attrs.authorizationFingerprint=b.authorizationFingerprint,h.configUrl=b.configUrl,h.graphQL=b.graphQL),h}},{"../lib/constants":47,"../lib/vendor/polyfill":62}],51:[function(a,b,c){(function(c){"use strict";var d=a("./braintree-error"),e=a("./promise"),f=a("./assets"),g=a("./errors"),h="3.40.0";b.exports={create:function(a){var b=e.resolve();return a.client?e.resolve(a.client):(c.braintree&&c.braintree.client||(b=f.loadScript({src:a.assetsUrl+"/web/"+h+"/js/client.min.js"})["catch"](function(a){return e.reject(new d({type:g.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:g.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:g.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:a}}))})),b.then(function(){return c.braintree.client.VERSION!==h?e.reject(new d({type:g.INCOMPATIBLE_VERSIONS.type,code:g.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+c.braintree.client.VERSION+") and "+a.name+" (version "+h+") components must be from the same SDK version."})):c.braintree.client.create({authorization:a.authorization,debug:a.debug})}))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assets":39,"./braintree-error":43,"./errors":54,"./promise":60}],52:[function(a,b,c){"use strict";function d(){this._teardownRegistry=[],this._isTearingDown=!1}var e=a("./batch-execute-functions");d.prototype.registerFunctionForTeardown=function(a){"function"==typeof a&&this._teardownRegistry.push(a)},d.prototype.teardown=function(a){this._isTearingDown?a(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,e(this._teardownRegistry,function(b){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof a&&a(b)}.bind(this)))},b.exports=d},{"./batch-execute-functions":42}],53:[function(a,b,c){"use strict";b.exports=function(a,b){return b=null==b?"":b,a.reduce(function(a,c){return a[c]=b+c,a},{})}},{}],54:[function(a,b,c){"use strict";var d=a("./braintree-error");b.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:d.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:d.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:d.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:d.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:d.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"},BRAINTREE_API_ACCESS_RESTRICTED:{type:d.types.MERCHANT,code:"BRAINTREE_API_ACCESS_RESTRICTED",message:"Your access is restricted and cannot use this part of the Braintree API."}}},{"./braintree-error":43}],55:[function(a,b,c){"use strict";function d(){this._events={}}d.prototype.on=function(a,b){this._events[a]?this._events[a].push(b):this._events[a]=[b]},d.prototype._emit=function(a){var b,c,d=this._events[a];if(d)for(c=Array.prototype.slice.call(arguments,1),b=0;b<d.length;b++)d[b].apply(null,c)},b.exports=d},{}],56:[function(a,b,c){"use strict";var d,e={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};b.exports=function(a){var b;return a=a.toLowerCase(),!!/^https:/.test(a)&&((d=d||document.createElement("a")).href=a,b=d.hostname.split(".").slice(-2).join("."),e.hasOwnProperty(b))}},{}],57:[function(a,b,c){"use strict";b.exports=function(a){return JSON.parse(JSON.stringify(a))}},{}],58:[function(a,b,c){"use strict";b.exports=function(a){return Object.keys(a).filter(function(b){return"function"==typeof a[b]})}},{}],59:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],60:[function(a,b,c){(function(c){"use strict";var d=c.Promise||a("promise-polyfill");b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":23}],61:[function(a,b,c){"use strict";b.exports=function(a){return a?"":".min"}},{}],62:[function(a,b,c){(function(a){"use strict";function c(a){var b,c,d,e,f,g,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(a))throw new Error("Non base64 encoded input passed to window.atob polyfill");for(g=0;b=(63&h.indexOf(a.charAt(g++)))<<2|(e=h.indexOf(a.charAt(g++)))>>4&3,c=(15&e)<<4|(f=h.indexOf(a.charAt(g++)))>>2&15,d=(3&f)<<6|63&h.indexOf(a.charAt(g++)),i+=String.fromCharCode(b)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):""),g<a.length;);return i}var d="function"==typeof a.atob?a.atob:c;b.exports={atob:function(b){return d.call(a,b)},_atob:c}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],63:[function(a,b,c){"use strict";b.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}},{}]},{},[31])(31)});
//# sourceMappingURL=desktop.checkout.min.js.map