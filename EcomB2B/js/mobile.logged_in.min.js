function validate_signed_integer(a,b){return $.isNumeric(a)?a>b?{"class":"invalid",type:"too_big"}:a<0?{"class":"invalid",type:"negative"}:Math.floor(a)!=a&&{"class":"invalid",type:"not_integer"}:{"class":"invalid",type:"not_integer"}}function save_item_qty_change(a){if(!$(a).hasClass("fa-exclamation-circle")){var b=$(a).closest("div");if(!b.hasClass("wait")){b.addClass("wait");var c=b.find("input");if(c.prop("readonly",!0),$(a).hasClass("fa-plus-circle")){var d="fa-plus-circle";if(isNaN(c.val())||""==c.val())var e=1;else e=parseFloat(c.val())+1;c.val(e).addClass("discreet")}else if($(a).hasClass("fa-minus-circle")){if(isNaN(c.val())||""==c.val()||0==c.val())var e=0;else e=parseFloat(c.val())-1;c.val(e).addClass("discreet");var d="fa-minus-circle"}else{e=parseFloat(c.val());var d="fa-save"}$(a).addClass("fa-circle-notch fa-spin").removeClass(d),""==e&&(e=0);var f=b.data("settings"),g="ar_web_basket.php?tipo=update_item&product_id="+f.pid+"&qty="+e+"&webpage_key="+$("#webpage_data").data("webpage_key")+"&page_section_type=Basket";$.getJSON(g,function(e){if(c.prop("readonly",!1),b.removeClass("wait"),200==e.state){$(a).removeClass("fa-circle-notch fa-spin").addClass(d),"fa-save"==d&&(b.find(".ordering_button.one_less").removeClass("invisible"),b.find(".ordering_button.add_one").removeClass("hide"),b.find(".ordering_button.save").addClass("hide")),e.order_empty?($("#basket_go_to_checkout").css({display:"none"}),$("#basket_continue_shopping").css({display:"block"})):($("#basket_go_to_checkout").css({display:"block"}),$("#basket_continue_shopping").css({display:"none"})),c.val(e.quantity).removeClass("discreet");for(var g in e.metadata.class_html)$("."+g).html(e.metadata.class_html[g]);for(var g in e.metadata.hide)$("."+e.metadata.hide[g]).addClass("hide");for(var g in e.metadata.show)$("."+e.metadata.show[g]).removeClass("hide");for(var g in e.metadata.add_class)$("."+g).addClass(e.metadata.add_class[g]);for(var g in e.metadata.remove_class)$("."+g).removeClass(e.metadata.remove_class[g]);void 0!=f.basket&&$(a).closest("tr").find(".item_amount").html(e.to_charge),e.quantity>0,0==e.quantity&&(e.quantity=""),""!=e.analytics.action&&(ga("auTracker.ec:addProduct",e.analytics.product_data),ga("auTracker.ec:setAction",e.analytics.action),ga("auTracker.send","event","UX","click",e.analytics.event));for(var g in e.metadata.deleted_otfs)$("#transaction_item_net_"+e.metadata.deleted_otfs[g]).closest("tr").remove();if(e.metadata.new_otfs.length>0||e.metadata.deleted_otfs.length>0){var h="ar_web_basket.php?tipo=get_items_html&device_prefix="+$("body").data("device_prefix");$.getJSON(h,function(a){200==a.state&&$(".basket_order_items").html(a.html)})}}else 400==e.state&&($(a).removeClass("fa-circle-notch  fa-spin").addClass(d),swal(e.msg))})}}}$(function(){$(document).on("click",".reminder",function(a){if(console.log("hello"),!$(this).hasClass("lock")){$(this).addClass("lock");var b=$(this);if(b.hasClass("far")){b.removeClass("far").addClass("fas").attr("title",b.data("label_remove_notification"));var c="ar_web_out_of_stock_reminders.php?tipo=add_out_of_stock_reminder&pid="+b.data("product_id")}else{b.removeClass("fas").addClass("far").attr("title",b.data("label_add_notification"));var c="ar_web_out_of_stock_reminders.php?tipo=remove_out_of_stock_reminder&out_of_stock_reminder_key="+b.data("out_of_stock_reminder_key")}$.getJSON(c,function(a){200==a.state&&(b.removeClass("lock"),b.data("out_of_stock_reminder_key",a.out_of_stock_reminder_key))})}}),$(document).on("click",".favourite",function(a){var b=$(this);b.hasClass("far")?(console.log("add"),b.removeClass("far").addClass("fas").addClass("marked")):(console.log("off"),console.log(b),b.removeClass("fa fas").addClass("far").removeClass("marked"));var c="ar_web_favourites.php?tipo=update_favourite&pid="+$(this).data("product_id")+"&favourite_key="+$(this).data("favourite_key");console.log(c),$.getJSON(c,function(a){console.log(a),b.data("favourite_key",a.favourite_key)})}),$("#logout").on("click",function(){var a=new FormData;a.append("tipo","logout"),a.append("webpage_key",$("#webpage_data").data("webpage_key")),$.ajax({url:"/ar_web_logout.php",type:"POST",data:a,dataType:"json",cache:!1,contentType:!1,processData:!1,complete:function(){},success:function(a){"200"==a.state?(ga("auTracker.send","event","Login","logout"),location.reload()):"400"==a.state&&swal(a.msg)},error:function(){}})})}),$(document).on("input propertychange",".order_qty",function(a){$(this).closest("div").find(".ordering_button.one_less").addClass("invisible"),$(this).closest("div").find(".ordering_button.add_one").addClass("hide"),$(this).closest("div").find(".save").removeClass("hide"),validate_signed_integer($(this).val(),4294967295)&&""!=$(this).val()?$(this).addClass("error"):$(this).removeClass("error")});
//# sourceMappingURL=mobile.logged_in.min.js.map