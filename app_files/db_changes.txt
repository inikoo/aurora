ALTER TABLE `Payment Service Provider Dimension` CHANGE `Service Provider Last Used Date` `Payment Service Provider Last Used Date` DATETIME NULL DEFAULT NULL;
ALTER TABLE `Payment Service Provider Dimension` ADD `Payment Service Provider Accounts` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Payment Service Provider Last Used Date`, ADD `Payment Service Provider Transactions` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Payment Service Provider Accounts`, ADD `Payment Service Provider Payments Amount` DECIMAL(16,2) NOT NULL DEFAULT '0' AFTER `Payment Service Provider Transactions`, ADD `Payment Service Provider Refunds Amount` DECIMAL(16,2) NOT NULL DEFAULT '0' AFTER `Payment Service Provider Payments Amount`, ADD `Payment Service Provider Balance` DECIMAL(16,2) NOT NULL DEFAULT '0' AFTER `Payment Service Provider Refunds Amount`;
ALTER TABLE `Payment Service Provider Dimension` ADD `Payment Service Provider Currency` TEXT NOT NULL AFTER `Payment Service Provider Transactions`;
ALTER TABLE `Payment Account Dimension` ADD `Payment Account Currency` TEXT NOT NULL AFTER `Payment Account Settings`, ADD `Payment Account Transactions` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Payment Account Currency`, ADD `Payment Account Payments Amount` DECIMAL(16,2) NOT NULL DEFAULT '0' AFTER `Payment Account Transactions`, ADD `Payment Account Refunds Amount` DECIMAL(16,2) NOT NULL DEFAULT '0' AFTER `Payment Account Payments Amount`, ADD `Payment Account Balance Amount` DECIMAL(16,2) NOT NULL DEFAULT '0' AFTER `Payment Account Refunds Amount`;
ALTER TABLE `Payment Service Provider Dimension` CHANGE `Payment Service Provider Balance` `Payment Service Provider Balance Amount` DECIMAL(16,2) NOT NULL DEFAULT '0.00';
CREATE TABLE IF NOT EXISTS `Payment Service Provider History Bridge` (
  `Payment Service Provider Key` mediumint(8) unsigned NOT NULL,
  `History Key` int(10) unsigned NOT NULL,
  `Deletable` enum('Yes','No') NOT NULL DEFAULT 'No',
  `Strikethrough` enum('Yes','No') NOT NULL DEFAULT 'No',
  `Type` enum('Notes','Changes') NOT NULL DEFAULT 'Notes'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `Payment Service Provider History Bridge`
  ADD PRIMARY KEY (`Payment Service Provider Key`,`History Key`),
  ADD KEY `Payment Service Provider Key` (`Payment Service Provider Key`),
  ADD KEY `History Key` (`History Key`),
  ADD KEY `Deletable` (`Deletable`),
  ADD KEY `Type` (`Type`);
  
  CREATE TABLE IF NOT EXISTS `Payment Account History Bridge` (
  `Payment Account Key` mediumint(8) unsigned NOT NULL,
  `History Key` int(10) unsigned NOT NULL,
  `Deletable` enum('Yes','No') NOT NULL DEFAULT 'No',
  `Strikethrough` enum('Yes','No') NOT NULL DEFAULT 'No',
  `Type` enum('Notes','Changes') NOT NULL DEFAULT 'Notes'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `Payment Account History Bridge`
  ADD PRIMARY KEY (`Payment Account Key`,`History Key`),
  ADD KEY `Payment Account Key` (`Payment Account Key`),
  ADD KEY `History Key` (`History Key`),
  ADD KEY `Deletable` (`Deletable`),
  ADD KEY `Type` (`Type`);
  
   CREATE TABLE IF NOT EXISTS `Payment History Bridge` (
  `Payment Key` mediumint(8) unsigned NOT NULL,
  `History Key` int(10) unsigned NOT NULL,
  `Deletable` enum('Yes','No') NOT NULL DEFAULT 'No',
  `Strikethrough` enum('Yes','No') NOT NULL DEFAULT 'No',
  `Type` enum('Notes','Changes') NOT NULL DEFAULT 'Notes'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `Payment History Bridge`
  ADD PRIMARY KEY (`Payment Key`,`History Key`),
  ADD KEY `Payment Key` (`Payment Key`),
  ADD KEY `History Key` (`History Key`),
  ADD KEY `Deletable` (`Deletable`),
  ADD KEY `Type` (`Type`);
  
//======^ done  
  
CREATE TABLE IF NOT EXISTS `User API Dimension` (
  `User API Key` int(11) NOT NULL,
  `User Key` mediumint(8) unsigned NOT NULL,
  `Valid Until` datetime DEFAULT NULL,
  `Valid IP` varchar(64) DEFAULT NULL,
  `API Public Key` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `User API Dimension`
  ADD PRIMARY KEY (`User API Key`);
ALTER TABLE `User API Dimension`
  MODIFY `User API Key` int(11) NOT NULL AUTO_INCREMENT;
  
  CREATE TABLE IF NOT EXISTS `Staff Timesheet Dimension` (
  `Staff Timesheet Key` mediumint(9) NOT NULL,
  `Staff Key` mediumint(8) unsigned NOT NULL,
  `Date` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `Staff Timesheet Dimension`
  ADD PRIMARY KEY (`Staff Timesheet Key`);
ALTER TABLE `Staff Timesheet Dimension`
  MODIFY `Staff Timesheet Key` mediumint(9) NOT NULL AUTO_INCREMENT;
  
ALTER TABLE `Staff Dimension` CHANGE `Staff Type` `Staff Type` ENUM('Employee','Volunteer','Contractor','TemporalWorker','WorkExperience','Temporal Worker','Work Experience') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Employee';
update `Staff Dimension` set `Staff Type`='TemporalWorker' where `Staff Type`='Temporal Worker';
 update `Staff Dimension` set `Staff Type`='WorkExperience' where `Staff Type`='Work Experience';
ALTER TABLE `Staff Dimension` CHANGE `Staff Type` `Staff Type` ENUM('Employee','Volunteer','Contractor','TemporalWorker','WorkExperience') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Employee';

ALTER TABLE `Staff Dimension` ADD `Staff Job Title` VARCHAR(255) NULL AFTER `Staff Type`;
  
CREATE TABLE IF NOT EXISTS `Staff Supervisor Bridge` (
  `Staff Key` mediumint(8) unsigned NOT NULL,
  `Supervisor Key` mediumint(8) unsigned NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `Staff Supervisor Bridge`
  ADD PRIMARY KEY (`Staff Key`,`Supervisor Key`);

ALTER TABLE `Staff Dimension`  DROP `Staff Contact Key`;  

ALTER TABLE `Staff Dimension` ADD `Staff Birthday` DATETIME NULL DEFAULT NULL AFTER `Staff Name`, ADD `Staff Official ID` VARCHAR(255) NULL DEFAULT NULL AFTER `Staff Birthday`, ADD `Staff Email` VARCHAR(255) NULL DEFAULT NULL AFTER `Staff Official ID`, ADD `Staff Telephone` VARCHAR(255) NULL DEFAULT NULL AFTER `Staff Email`, ADD `Staff Next of Kind` VARCHAR(1024) NULL DEFAULT NULL AFTER `Staff Telephone`;
ALTER TABLE `Staff Dimension` ADD `Staff Telephone Formated` VARCHAR(255) NULL DEFAULT NULL AFTER `Staff Telephone`;
ALTER TABLE `Staff Dimension` CHANGE `Staff PIN` `Staff PIN` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
ALTER TABLE `Account Dimension` ADD `Employees` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Warehouses`;
ALTER TABLE `Staff Dimension` CHANGE `Staff ID` `Staff ID` VARCHAR(64) NULL DEFAULT NULL;
ALTER TABLE `Staff Dimension` CHANGE `Staff Valid from` `Staff Valid From` DATETIME NULL DEFAULT NULL;


//==

DROP TABLE `User API Dimension`;

ALTER TABLE `Staff Dimension` ADD `Staff Working Hours` TEXT NULL DEFAULT NULL AFTER `Staff Is Supervisor`;
ALTER TABLE `Staff Dimension` ADD `Staff Salary` TEXT NULL AFTER `Staff Working Hours`;

//

DELETE FROM `User Group User Bridge` WHERE `User Group Key` in (4);

//========


ALTER TABLE `Timesheet Dimension` ADD `Timesheet Working Hours Records` TINYINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Staff Key`, ADD `Timesheet Overtime Records` TINYINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Working Hours Records`;
ALTER TABLE `Timesheet Dimension` CHANGE `Timesheet Clocking Records` `Timesheet Clocking Records` SMALLINT UNSIGNED NOT NULL DEFAULT '0', CHANGE `Timesheet Ignored Clocking Records` `Timesheet Ignored Clocking Records` SMALLINT UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `Timesheet Record Dimension` CHANGE `Timesheet Record Source` `Timesheet Record Source` ENUM('ClockingMachine','Manual','API','System') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'Manual';

ALTER TABLE `Timesheet Record Dimension` DROP INDEX `Staff Key`, ADD UNIQUE `Staff Key` (`Timesheet Record Staff Key`, `Timesheet Record Date`, `Timesheet Record Type`) USING BTREE;

ALTER TABLE `Timesheet Dimension` ADD `Timesheet Type` ENUM('WorkingDay','DayOff','NoFixedWorkingHours') NULL AFTER `Timesheet Date`;
ALTER TABLE `Timesheet Dimension` CHANGE `Timesheet Type` `Timesheet Type` ENUM('WorkingDay','DayOff','NoFixedWorkingHours') CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'NoFixedWorkingHours';
ALTER TABLE `Timesheet Record Dimension` CHANGE `Timesheet Record Type` `Timesheet Record Type` ENUM('WorkingHoursMark','OvertimeMark','ClockingRecord','BreakMark') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'ClockingRecord';
ALTER TABLE `Timesheet Dimension` ADD `Timesheet Break Records` TINYINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Working Hours Records`;

ALTER TABLE `Timesheet Record Dimension` CHANGE `Timesheet Record Action Type` `Timesheet Record Action Type` ENUM('Start','End','Unknown','Ignored','MarkStart','MarkEnd') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Unknown';
ALTER TABLE `Timesheet Dimension` ADD `Timesheet Working Hours` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Clocked Hours`, ADD `Timesheet Unpaid Overtime` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Working Hours`, ADD `Timesheet Paid Overtime` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Unpaid Overtime`;
ALTER TABLE `Timesheet Dimension` CHANGE `Timesheet Working Hours` `Timesheet Working Time` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `Timesheet Dimension` CHANGE `Timesheet Clocked Hours` `Timesheet Clocked Time` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0';
ALTER TABLE `Timesheet Record Dimension` CHANGE `Timesheet Record Action Type` `Timesheet Record Action Type` ENUM('MarkStart','Start','End','MarkEnd','Ignored','Unknown') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Unknown';
ALTER TABLE `Timesheet Dimension` ADD `Timesheet Breaks Time` MEDIUMINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Working Time`;
update `Staff Dimension` set `Staff Valid From`=NULL where  `Staff Valid From`='0000-00-00 00:00:00';
update `Staff Dimension` set `Staff Valid To`=NULL where  `Staff Valid To`='0000-00-00 00:00:00';

ALTER TABLE `Timesheet Dimension` ADD INDEX (`Timesheet Date`);
//856.60 
4235.29

//============

ALTER TABLE `Timesheet Record Dimension` ADD `Timesheet Record Ignored Due Missing End` ENUM('Yes','No') NOT NULL DEFAULT 'No' AFTER `Timesheet Record Ignored`, ADD INDEX (`Timesheet Record Ignored Due Missing End`);
update `Timesheet Record Dimension` set `Timesheet Record Ignored Due Missing End`= `Timesheet Record Ignored`;
ALTER TABLE `Timesheet Dimension` ADD `Timesheet Missing Clocking Records` SMALLINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Timesheet Ignored Clocking Records`;

//=======

CREATE TABLE IF NOT EXISTS `Attachment Bridge History Bridge` (
  `Attachment Bridge Key` mediumint(8) unsigned NOT NULL,
  `History Key` int(10) unsigned NOT NULL,
  `Deletable` enum('Yes','No') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'No',
  `Strikethrough` enum('Yes','No') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'No',
  `Type` enum('Notes','Changes') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
ALTER TABLE `Attachment Bridge History Bridge` ADD PRIMARY KEY (`Attachment Bridge Key`, `History Key`);
ALTER TABLE `Attachment Bridge History Bridge` ADD INDEX (`Attachment Bridge Key`);
ALTER TABLE `Attachment Bridge History Bridge` ADD INDEX (`Attachment Bridge Key`);
ALTER TABLE `Attachment Bridge History Bridge` ADD INDEX (`History Key`);
ALTER TABLE `Attachment Bridge History Bridge` ADD INDEX (`Type`);


ALTER TABLE `Timesheet Record Dimension` ADD `Timesheet Authoriser Key` MEDIUMINT UNSIGNED NULL AFTER `Timesheet Record Source`;
ALTER TABLE `Timesheet Record Dimension` ADD `Timesheet Remover Key` MEDIUMINT UNSIGNED NULL AFTER `Timesheet Authoriser Key`;


  ALTER TABLE `Invoice Dimension` ADD `Invoice Billing Region` VARCHAR(64) NULL AFTER `Invoice Delivery Postal Code`, ADD INDEX (`Invoice Billing Region`);
  
  //====
  
  CREATE TABLE `Overtime Timesheet Bridge` (
  `Overtime Key` mediumint(8) UNSIGNED NOT NULL,
  `Timesheet Key` mediumint(8) UNSIGNED NOT NULL,
  `Status` enum('Active','Suspended') NOT NULL DEFAULT 'Active'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `Overtime Timesheet Bridge`
  ADD UNIQUE KEY `Overtime Key` (`Overtime Key`,`Timesheet Key`);

  Customer Invoice Address Postal Label
  INSERT INTO `Overtime Dimension` (`Overtime Key`, `Overtime Reference`, `Overtime Status`, `Overtime Start Date`, `Overtime End Date`, `Overtime Metadata`, `Overtime Type`, `Overtime Timesheets Entitled`, `Overtime Timesheets Granted`, `Overtime Staff Entitled`, `Overtime Staff Granted`, `Overtime Time`, `Overtime Paid Amount`, `Overtime Accrued Time`) VALUES (NULL, 'Xmas overtime W&P', 'Active', '2015-10-01 00:00:00', '2015-12-06 23:59:59', '{"data":{"amount_weekdays":7.44,"amount_saturday":15.44,"amount_sunday":15.44}}', 'Pay', '0', '0', '0', '0', '0', '0', '0');

  ALTER TABLE `Customer Dimension` ADD `Customer Contact Address Recipient` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Main Plain Email`, ADD `Customer Contact Address Organization` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Recipient`, ADD `Customer Contact Address Line 1` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Organization`, ADD `Customer Contact Address Line 2` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Line 1`, ADD `Customer Contact Address Sorting Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Line 2`, ADD `Customer Contact Address Postal Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Sorting Code`, ADD `Customer Contact Address Dependent Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Postal Code`, ADD `Customer Contact Address Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Dependent Locality`, ADD `Customer Contact Address Administrative Area` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Locality`, ADD `Customer Contact Address Country 2 Alpha Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Administrative Area`, ADD `Customer Contact Address Checksum` VARCHAR(64) NULL DEFAULT NULL AFTER `Customer Contact Address Country 2 Alpha Code`, ADD `Customer Contact Address Formatted` TEXT NULL DEFAULT NULL AFTER `Customer Contact Address Checksum`, ADD `Customer Invoice Address Recipient` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Contact Address Formatted`, ADD `Customer Invoice Address Organization` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Recipient`, ADD `Customer Invoice Address Line 1` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Organization`, ADD `Customer Invoice Address Line 2` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Line 1`, ADD `Customer Invoice Address Sorting Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Line 2`, ADD `Customer Invoice Address Postal Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Sorting Code`, ADD `Customer Invoice Address Dependent Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Postal Code`, ADD `Customer Invoice Address Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Dependent Locality`, ADD `Customer Invoice Address Administrative Area` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Locality`, ADD `Customer Invoice Address Country 2 Alpha Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Administrative Area`, ADD `Customer Invoice Address Checksum` VARCHAR(64) NULL DEFAULT NULL AFTER `Customer Invoice Address Country 2 Alpha Code`, ADD `Customer Invoice Address Formatted` TEXT NULL DEFAULT NULL AFTER `Customer Invoice Address Checksum`;
ALTER TABLE `Customer Dimension` ADD `Customer Contact Address Postal Label` TEXT NULL DEFAULT NULL AFTER `Customer Contact Address Formatted`;
ALTER TABLE `Customer Dimension` ADD `Customer Invoice Address Postal Label` TEXT NULL DEFAULT NULL AFTER `Customer Invoice Address Formatted`;
ALTER TABLE `Staff Dimension` CHANGE `Staff Telephone Formated` `Staff Telephone Formatted` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;
ALTER TABLE `Customer Other Telephone Dimension` CHANGE `Customer Other Telephone Formated Number` `Customer Other Telephone Formatted Number` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;


  ALTER TABLE `Customer Dimension` ADD `Customer Delivery Address Recipient` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Invoice Address Postal Label`, ADD `Customer Delivery Address Organization` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Recipient`, ADD `Customer Delivery Address Line 1` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Organization`, ADD `Customer Delivery Address Line 2` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Line 1`, ADD `Customer Delivery Address Sorting Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Line 2`, ADD `Customer Delivery Address Postal Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Sorting Code`, ADD `Customer Delivery Address Dependent Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Postal Code`, ADD `Customer Delivery Address Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Dependent Locality`, ADD `Customer Delivery Address Administrative Area` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Locality`, ADD `Customer Delivery Address Country 2 Alpha Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Delivery Address Administrative Area`, ADD `Customer Delivery Address Checksum` VARCHAR(64) NULL DEFAULT NULL AFTER `Customer Delivery Address Country 2 Alpha Code`, ADD `Customer Delivery Address Formatted` TEXT NULL DEFAULT NULL AFTER `Customer Delivery Address Checksum`, ADD `Customer Delivery Address Postal Label` TEXT NULL DEFAULT NULL AFTER `Customer Delivery Address Formatted`;

ALTER TABLE `Customer Dimension` ADD `Customer Location` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Main Plain Email`;


CREATE TABLE `Customer Other Delivery Address Dimension` (
  `Customer Other Delivery Address Key` mediumint(8) UNSIGNED NOT NULL,
  `Customer Other Delivery Address Store Key` mediumint(8) UNSIGNED NOT NULL,
  `Customer Other Delivery Address Customer Key` mediumint(8) UNSIGNED NOT NULL,
  `Customer Other Delivery Address Recipient` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Organization` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Line 1` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Line 2` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Sorting Code` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Postal Code` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Dependent Locality` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Locality` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Administrative Area` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Country 2 Alpha Code` varchar(255) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Checksum` varchar(64) NOT NULL DEFAULT '',
  `Customer Other Delivery Address Formatted` text NOT NULL,
  `Customer Other Delivery Address Postal Label` text NOT NULL,
  `Customer Other Delivery Address Label` varchar(64) NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


ALTER TABLE `Customer Other Delivery Address Dimension`
  ADD PRIMARY KEY (`Customer Other Delivery Address Key`),
  ADD KEY `Customer Other Delivery Address Customer Key` (`Customer Other Delivery Address Customer Key`),
  ADD KEY `Customer Other Delivery Address Store Key` (`Customer Other Delivery Address Store Key`);


ALTER TABLE `Customer Other Delivery Address Dimension`
  MODIFY `Customer Other Delivery Address Key` mediumint(8) UNSIGNED NOT NULL AUTO_INCREMENT;
  
  
  
  
    ALTER TABLE `Supplier Dimension` ADD `Supplier Contact Address Recipient` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Main Plain Email`, ADD `Supplier Contact Address Organization` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Recipient`, ADD `Supplier Contact Address Line 1` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Organization`, ADD `Supplier Contact Address Line 2` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Line 1`, ADD `Supplier Contact Address Sorting Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Line 2`, ADD `Supplier Contact Address Postal Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Sorting Code`, ADD `Supplier Contact Address Dependent Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Postal Code`, ADD `Supplier Contact Address Locality` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Dependent Locality`, ADD `Supplier Contact Address Administrative Area` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Locality`, ADD `Supplier Contact Address Country 2 Alpha Code` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Contact Address Administrative Area`, ADD `Supplier Contact Address Checksum` VARCHAR(64) NULL DEFAULT NULL AFTER `Supplier Contact Address Country 2 Alpha Code`, ADD `Supplier Contact Address Formatted` TEXT NULL DEFAULT NULL AFTER `Supplier Contact Address Checksum`;
ALTER TABLE `Supplier Dimension` ADD `Supplier Contact Address Postal Label` TEXT NULL DEFAULT NULL AFTER `Supplier Contact Address Formatted`;
ALTER TABLE `Supplier Dimension` ADD `Supplier Location` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Main Plain Email`;
CREATE TABLE `Supplier Other Email Dimension` (
  `Supplier Other Email Key` mediumint(8) UNSIGNED NOT NULL,
  `Supplier Other Email Supplier Key` mediumint(8) UNSIGNED NOT NULL,
  `Supplier Other Email Email` varchar(255) NOT NULL,
  `Supplier Other Email Label` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `Supplier Other Email Dimension`
  ADD PRIMARY KEY (`Supplier Other Email Key`),
  ADD KEY `Supplier Other Email Supplier Key` (`Supplier Other Email Supplier Key`,`Supplier Other Email Email`) USING BTREE,
  ADD KEY `Supplier Other Email Email` (`Supplier Other Email Email`);

ALTER TABLE `Supplier Other Email Dimension`
  MODIFY `Supplier Other Email Key` mediumint(8) UNSIGNED NOT NULL AUTO_INCREMENT;

  CREATE TABLE `Supplier Other Telephone Dimension` (
  `Supplier Other Telephone Key` mediumint(8) UNSIGNED NOT NULL,
  `Supplier Other Telephone Supplier Key` mediumint(8) UNSIGNED NOT NULL,
  `Supplier Other Telephone Number` varchar(255) NOT NULL,
  `Supplier Other Telephone Formatted Number` varchar(255) NOT NULL,
  `Supplier Other Telephone Label` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `Supplier Other Telephone Dimension`
  ADD PRIMARY KEY (`Supplier Other Telephone Key`),
  ADD KEY `Supplier Other Telephone Supplier Key` (`Supplier Other Telephone Supplier Key`,`Supplier Other Telephone Number`) USING BTREE,
  ADD KEY `Supplier Other Telephone Number` (`Supplier Other Telephone Number`);

ALTER TABLE `Supplier Other Telephone Dimension`
  MODIFY `Supplier Other Telephone Key` mediumint(8) UNSIGNED NOT NULL AUTO_INCREMENT;

ALTER TABLE `Supplier Dimension` ADD `Supplier Preferred Contact Number` ENUM('Mobile','Telephone') NOT NULL DEFAULT 'Mobile' AFTER `Supplier QQ`;
ALTER TABLE `Supplier Dimension` ADD `Supplier Preferred Contact Number Formatted Number` VARCHAR(255) NULL DEFAULT NULL AFTER `Supplier Preferred Contact Number`;
ALTER TABLE `Customer Dimension` ADD `Customer Preferred Contact Number Formatted Number` VARCHAR(255) NULL DEFAULT NULL AFTER `Customer Preferred Contact Number`;

ALTER TABLE `Store Dimension` ADD `Store Family Category Key` MEDIUMINT NULL DEFAULT NULL AFTER `Store Payments`, ADD `Store Department Category Key` MEDIUMINT NULL DEFAULT NULL AFTER `Store Family Category Key`;
//ALTER TABLE `Category Dimension` ADD `Category Children Type` ENUM('Subjects','Categories') NOT NULL DEFAULT 'Subjects' AFTER `Category Branch Type`;

ALTER TABLE `Part Dimension` ADD `Part Materials` TEXT NULL DEFAULT NULL AFTER `Part Unit Materials`; 
ALTER TABLE `Part Dimension` ADD `Part Package Dimensions` VARCHAR(255) NULL DEFAULT NULL AFTER `Part Unit Weight Display Units`;

ALTER TABLE `Category Dimension` ADD `Category Scope` VARCHAR(32) NULL AFTER `Category Show Public Edit`, ADD INDEX (`Category Scope`);
ALTER TABLE `Category Dimension` CHANGE `Category Subject` `Category Subject` ENUM('Product','Supplier','Customer','Family','Invoice','Part','Category') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Product';
ALTER TABLE `Category Dimension` ADD `Category Sticky Note` TEXT NULL DEFAULT NULL AFTER `Category Locked`;
ALTER TABLE `Category Bridge` CHANGE `Subject` `Subject` ENUM('Product','Supplier','Customer','Family','Invoice','Part','Category') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;

ALTER TABLE `Account Dimension` CHANGE `Stores` `Account Stores` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0', CHANGE `Websites` `Account Websites` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0', CHANGE `Warehouses` `Account Warehouses` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0', CHANGE `Employees` `Account Employees` MEDIUMINT(8) UNSIGNED NOT NULL DEFAULT '0';

ALTER TABLE `Account Dimension` CHANGE `Account Country Code` `Account Country Code` VARCHAR(3) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'GBR', CHANGE `Account Country 2 Alpha Code` `Account Country 2 Alpha Code` VARCHAR(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'GB';

ALTER TABLE `Account Dimension` ADD `Account System Public URL` VARCHAR(256) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
ALTER TABLE `Account Dimension` ADD `Account System Version`VARCHAR(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL;
ALTER TABLE `Account Dimension` ADD  `Account SR Category Key` MEDIUMINT(9) NULL DEFAULT NULL;
ALTER TABLE `Account Dimension` ADD  `Account Apply Tax Method` ENUM('Per Item','Per Total') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Per Item';



ALTER TABLE `Account Dimension` ADD `Account Setup State` ENUM('InProcess','Done') NOT NULL DEFAULT 'InProcess' AFTER `Account HR Start Year`;
ALTER TABLE `Account Dimension` CHANGE `Account Setup State` `Account State` ENUM('InProcess','Ready') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'InProcess';
ALTER TABLE `Account Dimension` ADD `Account Creation Date` DATETIME NULL DEFAULT NULL AFTER `Account State`;
ALTER TABLE `Account Dimension` CHANGE `Account State` `Account State` ENUM('Created','RootUser','Ready') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Created';
ALTER TABLE `Account Dimension` CHANGE `Account State` `Account State` ENUM('InProcess','Active') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'InProcess';
ALTER TABLE `Account Dimension` ADD `Account Setup Metadata` TEXT NULL DEFAULT NULL AFTER `Account Creation Date`;

update `Account Dimension` set `Account State`='Active';
update `Account Dimension` set `Account Setup Metadata`='{"steps":{"root_user":{"setup":true},"add_employees":{"setup":true}},"size":"Big","instances":["Com","Prod"]}';
ALTER TABLE `Account Dimension` CHANGE `Account SR Category Key` `Account SR Category Key` MEDIUMINT UNSIGNED NULL DEFAULT NULL;

update `Account Dimension` set `Account SR Category Key`=`SR Category Key`;
update `Account Dimension` set `Account Apply Tax Method`=`Apply Tax Method`;
update `Account Dimension` set `Account System Version`=`Inikoo Version`;
ALTER TABLE `User Dimension` ADD `User Password Recovery Email` VARCHAR(255) NULL DEFAULT NULL AFTER `User Inactive Note`, ADD `User Password Recovery Mobile` VARCHAR(64) NULL DEFAULT NULL AFTER `User Password Recovery Email`;

ALTER TABLE `Warehouse Dimension` ADD `Warehouse State` ENUM('Active','Closed') NOT NULL DEFAULT 'Active' AFTER `Warehouse Name`, ADD `Warehouse Valid From` DATETIME NULL DEFAULT NULL AFTER `Warehouse State`, ADD `Warehouse Valid To` DATETIME NULL DEFAULT NULL AFTER `Warehouse Valid From`;

delete from `User Group User Bridge` where `User Group Key` in (4,7,12);

  ALTER TABLE `User Rights Bridge` CHANGE `Right Key` `Right Code` VARCHAR(8) NOT NULL;

ALTER TABLE `Product Dimension` ADD `Product Family Category Key` MEDIUMINT UNSIGNED NULL DEFAULT NULL AFTER `Product Origin Country Code`;
ALTER TABLE `Product Dimension` ADD `Product Department Category Key` MEDIUMINT UNSIGNED NULL DEFAULT NULL AFTER `Product Family Category Key`;

ALTER TABLE `Product Dimension` ADD `Product Unit Dimensions` VARCHAR(255) NULL DEFAULT NULL AFTER `Product Unit XHTML Dimensions`;

drop table `Product Part Bridge`;
CREATE TABLE `Product Part Bridge` (
  `Product Part Product ID` mediumint(8) UNSIGNED NOT NULL,
  `Product Part Part SKU` mediumint(8) UNSIGNED NOT NULL,
  `Product Part Ratio` float NOT NULL DEFAULT '1',
  `Product Part Note` varchar(255) DEFAULT NULL,
  `Product Part Linked Fields` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `Product Part Bridge`
  ADD PRIMARY KEY (`Product Part Product ID`,`Product Part Part SKU`),
  ADD KEY `Product Part Product ID` (`Product Part Product ID`),
  ADD KEY `Product Part Part SKU` (`Product Part Part SKU`) USING BTREE;

ALTER TABLE `Part Dimension` CHANGE `Part Stock Status` `Part Stock Status` ENUM('Surplus','Optimal','Low','Critical','Out_Of_Stock','Error') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'Optimal';


// From HERe  ==================== 15/04/2016, 10:45

Only for bali dw:

migrate_suppliers.oneoff.php
migrate_images.oneoff.php 
migrate_supplier_parts.oneoff.php 
migrate_products.oneoff.php 
migrate_history_note_details.php
migrate_parts.oneoff.php

ALTER TABLE `Product Dimension` CHANGE `Product Unit Type` `Product Unit Type` VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT 'Piece';


update `Category Dimension` set `Category Scope`=`Category Subject` where `Category Scope` is null or `Category Scope`='';
ALTER TABLE `History Dimension` CHANGE `History Abstract` `History Abstract` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;
ALTER TABLE `Order Dimension`  ADD `Order Invoice Address Recipient` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Email`,  ADD `Order Invoice Address Organization` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Recipient`,  ADD `Order Invoice Address Line 1` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Organization`,  ADD `Order Invoice Address Line 2` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Line 1`,  ADD `Order Invoice Address Sorting Code` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Line 2`,  ADD `Order Invoice Address Postal Code` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Sorting Code`,  ADD `Order Invoice Address Dependent Locality` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Postal Code`,  ADD `Order Invoice Address Locality` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Dependent Locality`,  ADD `Order Invoice Address Administrative Area` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Locality`,  ADD `Order Invoice Address Country 2 Alpha Code` VARCHAR(2) NULL DEFAULT NULL  AFTER `Order Invoice Address Administrative Area`,  ADD `Order Invoice Address Checksum` VARCHAR(64) NULL DEFAULT NULL  AFTER `Order Invoice Address Country 2 Alpha Code`,  ADD `Order Invoice Address Formatted` TEXT NULL DEFAULT NULL  AFTER `Order Invoice Address Checksum`,  ADD `Order Invoice Address Postal Label` TEXT NULL DEFAULT NULL  AFTER `Order Invoice Address Formatted`,  ADD `Order Delivery Address Recipient` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Invoice Address Postal Label`,  ADD `Order Delivery Address Organization` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Recipient`,  ADD `Order Delivery Address Line 1` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Organization`,  ADD `Order Delivery Address Line 2` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Line 1`,  ADD `Order Delivery Address Sorting Code` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Line 2`,  ADD `Order Delivery Address Postal Code` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Sorting Code`,  ADD `Order Delivery Address Dependent Locality` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Postal Code`,  ADD `Order Delivery Address Locality` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Dependent Locality`,  ADD `Order Delivery Address Administrative Area` VARCHAR(255) NULL DEFAULT NULL  AFTER `Order Delivery Address Locality`,  ADD `Order Delivery Address Country 2 Alpha Code` VARCHAR(2) NULL DEFAULT NULL  AFTER `Order Delivery Address Administrative Area`,  ADD `Order Delivery Address Checksum` VARCHAR(64) NULL DEFAULT NULL  AFTER `Order Delivery Address Country 2 Alpha Code`,  ADD `Order Delivery Address Formatted` TEXT NULL DEFAULT NULL  AFTER `Order Delivery Address Checksum`,  ADD `Order Delivery Address Postal Label` TEXT NULL DEFAULT NULL  AFTER `Order Delivery Address Formatted`;

ALTER TABLE `Agent Dimension` ADD `Agent Default Currency Code` VARCHAR(3) NULL DEFAULT 'USD' AFTER `Agent Website`, ADD `Agent Default Incoterm` VARCHAR(3) NULL DEFAULT NULL AFTER `Agent Default Currency Code`, ADD `Agent Default Port of Import` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `Agent Default Incoterm`, ADD `Agent Default Port of Export` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `Agent Default Port of Import`, ADD `Agent Default PO Terms and Conditions` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL AFTER `Agent Default Port of Export`, ADD `Agent Show Warehouse TC in PO` ENUM('Yes','No') NULL DEFAULT 'Yes' AFTER `Agent Default PO Terms and Conditions`;
ALTER TABLE `Agent Dimension` ADD `Agent Purchase Orders` SMALLINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Agent Number Out Of Stock Parts`, ADD `Agent Open Purchase Orders` SMALLINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Agent Purchase Orders`, ADD `Agent Purchase Delivery Notes` SMALLINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Agent Open Purchase Orders`, ADD `Agent Purchase Invoices` SMALLINT UNSIGNED NOT NULL DEFAULT '0' AFTER `Agent Purchase Delivery Notes`;
ALTER TABLE `Supplier Dimension` CHANGE `Supplier Delivery Notes` `Supplier Purchase Delivery Notes` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0', CHANGE `Supplier Invoices` `Supplier Purchase Invoices` SMALLINT(5) UNSIGNED NOT NULL DEFAULT '0';

